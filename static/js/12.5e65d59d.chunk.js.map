{"version":3,"sources":["views/user/mobility/InputLoading.tsx","views/user/mobility/CommentInput.tsx","views/user/mobility/ReplyInput.tsx","views/user/mobility/Reply.tsx","views/user/mobility/Comment.tsx","views/user/mobility/PopupDeleteComment.tsx","views/user/mobility/Workbooks.tsx","views/user/mobility/QNA.tsx","views/user/mobility/MobilityDetail.tsx","views/user/mobility/Frame.tsx","views/user/mobility/MobilityVideo.tsx","views/user/mobility/WorkbookItem.tsx","views/user/containers/ContainerEllipse.tsx","components/videoPlayer/VideoPlayer.js","components/videoPlayer/VideojsQualitySelector.js","components/videoPlayer/VideojsSeekButtons.js","views/user/mobility/MobilityDetail.module.scss"],"names":["InputLoading","props","className","style","height","width","marginTop","loadingSmall","CommentInput","callApi","useApi","useState","loading","setLoading","videoId","commentId","commentContent","setComments","setShowUpdateInput","content","setContent","auth","useSelector","state","avatar","defaultAvatar","inputRef","useRef","useEffect","current","focus","createComment","trim","method","api","config","rest","body","comment","response","data","status","SUCCESS","comments","id","user_id","user_avatar","username","first_name","last_name","liked_amount","is_liked","replied_amount","created_date","Date","getTime","total","updateComment","commentsData","index","findIndex","item","alt","src","ref","placeholder","value","onChange","e","target","onKeyDown","event","key","maxLength","marginRight","position","right","circle","color","size","icon","onClick","disabled","outline","small","ReplyInput","replyId","replyContent","setReplies","setShowReplyInput","createReply","trimmedContent","replies","is_new","updateReply","repliesData","Reply","showUpdateInput","reply","setPopupDelete","handleOpenPopup","deleteReply","filter","newComments","borderRadius","borderLeft","edit","del","show","isReply","deleteComment","timestampToDatetime","like","replyData","unlikeReply","likeReply","Comment","showReplyInput","loaded","getReplies","page","includes","commentData","unlikeComment","likeComment","fontWeight","marginLeft","map","PopupDeleteComment","popupDelete","handleClose","title","up","down","upCallback","downCallback","Workbooks","name","link","modal","setModal","centered","closeBtn","onClose","closeOnBackdrop","border","WorkbookItem","label","file_name","callback","QNA","qnaData","setQnaData","window","scrollTo","newQna","handleChange","transform","fontSize","text","index1","MobilityDetail","query","URLSearchParams","location","search","access_token","useLocation","get","Math","max","Number","startTime","setStartTime","qna","setQna","autoplay","history","useHistory","pageComments","pageRelatedVideos","video","setVideo","isSaved","setIsSaved","relatedVideos","setRelatedVideos","full","player","setPlayer","top","left","items","menuPopup","setMenuPopup","tags","useMemo","tag","split","getComments","concatData","length","DEFAULT_PAGE_SIZE","calculatePopupPosition","bound","windowWidth","document","documentElement","clientWidth","scrollX","scrollY","handleResizeWindow","targetEle","eleTargetDOM","ReactDOM","findDOMNode","getBoundingClientRect","popupPosition","reset","getVideoById","link_hls","addKMSToken","is_saved","commented_amount","getRelatedVideos","getPageSize","videos","push","addEventListener","removeEventListener","videoParams","sources","type","overrideNative","poster","thumbnail","showQuality","handle","renderVideo","VideoPlayer","styles","videoWrapper","author","backgroundImage","trainer_avatar","defaultTrainer","preventDefault","trainer_id","cursor","interactive","viewed_amount","intToString","unsaveVideo","saveVideo","to","description","Frame","render","onEnter","pathname","goBack","detailWrapperContainer","documents","floor","currentTime","paused","listVideosWrapper","listVideos","relatedVideo","MobilityVideo","setVideos","isRelated","mappingSize","large","medium","screenSaved","isDetail","category_name","setLibrary","marginBottom","videoNoThumbnail","overflow","display","backgroundSize","backgroundColor","padding","newVideos","newVideo","library","is_save_number","createCategoryHashtag","ContainterEllipse","children","videojs","addLanguage","Play","Replay","Pause","Fullscreen","Mute","Unmute","controls","isTrainer","videoRef","observeVideoProgress","setInterval","duration","videoProgress","clearInterval","quality","qualitySelector","html5","hls","nativeAudioTracks","nativeVideoTracks","nativeTextTracks","plugins","undefined","seekButtons","forward","back","controlBar","volumePanel","inline","liveDisplay","pictureInPictureToggle","button","getComponent","nextButton","extend","constructor","apply","this","arguments","controlText","addClass","handleClick","nextVideo","registerComponent","addChild","dispose","data-vjs-player","data-setup","defaultProps","playbackRates","ex","require","global","videojsQualitySelector","defaults","registerPlugin","plugin","classCallCheck","instance","Constructor","TypeError","inherits","subClass","superClass","prototype","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","VideoJsButtonClass","VideoJsMenuClass","VideoJsComponent","VideoJsMenuItemClass","Dom","dom","QualityMenu","_VideoJsButtonClass","createItems","createMenu","menu","player_","menuButton","hideThreshold_","titleEl","createEl","innerHTML","tabIndex","titleComponent","el","addItem","i","QualityMenuItem","_VideoJsMenuItemClass","qualityMenu","_this","selectable","selected","setQuality","QualitySelectorPlugin","options","qualityParams","getQualityParams","dataset","createQualityMenu","onAddQualityLevel","level","order","sort","next","_qualityMenu","placementIndex","qualityMenuInstance","componentClass","menuButton_","$","removeClass","getQualityMenuItem","levels","levelItems","_loop","_existingItem","levelItem","update","getHls","tech","IWillNotUseThisInPlugins","qualityItem","representations","forEach","rep","enabled","unpressButton","ready","onPlayerReady","mergeOptions","VERSION","module","exports","Button","seekForward","direction","seconds","seekBack","SeekButton","_Button","_this2","options_","_proto","buildCSSClass","now"],"mappings":"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","file":"static/js/12.5e65d59d.chunk.js","sourcesContent":["import React from 'react';\nimport { loadingSmall } from '../../../extensions';\n\nconst InputLoading: React.FC = (props) => {\n  return (\n    <div\n      className=\"d-flex align-items-center justify-content-center\"\n      style={{ height: 56, width: '100%', marginTop: 16 }}\n    >\n      {loadingSmall}\n    </div>\n  );\n};\n\nexport default InputLoading;\n","import React, { useEffect, useRef, useState } from 'react';\nimport config from '../../../config';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport { defaultAvatar } from '../../../extensions';\nimport { useSelector } from 'react-redux';\nimport { HBButtonFull, HBButtonIcon } from '../../../hbBaseClass';\nimport InputLoading from './InputLoading';\nimport { useApi } from 'store/callApi';\nimport { KMSImg } from 'components';\n\ninterface Props {\n  videoId: string;\n  commentId?: string;\n  commentContent?: string;\n  setComments: (params: any) => void;\n  setShowUpdateInput?: (params: any) => void;\n}\n\nconst CommentInput: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const [loading, setLoading] = useState(false);\n  const { videoId, commentId, commentContent, setComments, setShowUpdateInput } = props;\n  const [content, setContent] = useState(commentId ? commentContent : '');\n  const auth = useSelector((state: any) => state.auth);\n  const avatar = auth.avatar || defaultAvatar;\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    commentId && inputRef.current?.focus();\n  }, []);\n\n  const createComment = () => {\n    if (!content?.trim()) return;\n    setLoading(true);\n    callApi(\n      {\n        method: 'post',\n        api: config.rest.createComment(videoId),\n        body: { comment: content },\n      },\n      (response: any) => {\n        setLoading(false);\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setContent('');\n          setComments((comments: any) => {\n            return {\n              data: [\n                {\n                  id: data.id,\n                  user_id: auth.user_id,\n                  user_avatar: avatar,\n                  username: auth.first_name + ' ' + auth.last_name,\n                  content: content,\n                  liked_amount: 0,\n                  is_liked: false,\n                  replied_amount: 0,\n                  created_date: new Date().getTime() / 1000,\n                },\n                ...comments.data,\n              ],\n              total: comments.total + 1,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const updateComment = () => {\n    if (!content?.trim()) return;\n    setLoading?.(true);\n    callApi(\n      {\n        method: 'put',\n        api: config.rest.updateComment(videoId, commentId || ''),\n        body: { comment: content },\n      },\n      (response: any) => {\n        setLoading?.(false);\n        setShowUpdateInput?.(false);\n        const { status } = response;\n        if (status === SUCCESS) {\n          setComments((comments: any) => {\n            const commentsData = [...comments.data];\n            const index = commentsData.findIndex((item) => item.id === commentId);\n            const commentData = commentsData[index];\n            commentData.content = content;\n            return {\n              ...comments,\n              data: commentsData,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter') {\n      if (commentId) updateComment();\n      else createComment();\n    }\n  };\n\n  if (loading) return <InputLoading />;\n\n  return (\n    <div>\n      <div className=\"hb-comment-input\">\n        <KMSImg className=\"hb-avatar-img\" alt=\"avatar\" src={avatar} />\n        <div className=\"input-wrapper\">\n          <input\n            ref={inputRef}\n            placeholder=\"Ihr Kommentar ...\"\n            value={content}\n            onChange={(e: any) => setContent(e.target.value)}\n            onKeyDown={handleKeyDown}\n            maxLength={500}\n            style={{ marginRight: commentId ? 0 : 8 }}\n          />\n          {content && (\n            <HBButtonIcon\n              style={{ position: 'absolute', right: commentId ? 16 : 24 }}\n              circle={{ color: '#dddedf', size: 24 }}\n              icon=\"cross\"\n              size={16}\n              color=\"var(--violet-80)\"\n              onClick={() => setContent('')}\n            />\n          )}\n        </div>\n        {!commentId && (\n          <HBButtonIcon\n            icon=\"send\"\n            size={24}\n            color=\"var(--violet-80)\"\n            disabled={content?.trim() === ''}\n            onClick={commentId ? updateComment : createComment}\n          />\n        )}\n      </div>\n      {commentId && (\n        <div className=\"d-flex justify-content-end mt-3\">\n          <div className=\"hb-btn-comment-wrapper mr-2\">\n            <HBButtonFull\n              outline\n              small\n              // disabled={commentId ? false : content === ''}\n              onClick={() => (commentId ? setShowUpdateInput?.(false) : setContent(''))}\n            >\n              Abbrechen\n            </HBButtonFull>\n          </div>\n          <div className=\"hb-btn-comment-wrapper\">\n            <HBButtonFull\n              small\n              disabled={!content?.trim() || content?.trim() === commentContent}\n              onClick={commentId ? updateComment : createComment}\n            >\n              Speichern\n            </HBButtonFull>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentInput;\n","import React, { useEffect, useRef, useState } from 'react';\nimport config from '../../../config';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport { defaultAvatar } from '../../../extensions';\nimport { useSelector } from 'react-redux';\nimport { HBButtonIcon } from '../../../hbBaseClass';\nimport InputLoading from './InputLoading';\nimport { useApi } from 'store/callApi';\nimport { KMSImg } from 'components';\n\ninterface Props {\n  videoId: string;\n  small?: boolean;\n  commentId: string;\n  replyId?: string;\n  replyContent?: string;\n  setReplies: (params: any) => void;\n  setShowReplyInput: (params: any) => void;\n}\n\nconst ReplyInput: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const [loading, setLoading] = useState(false);\n  const { videoId, commentId, replyId, replyContent, setReplies, setShowReplyInput } = props;\n  const [content, setContent] = useState(replyContent || '');\n  const auth = useSelector((state: any) => state.auth);\n  const avatar = auth.avatar || defaultAvatar;\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => inputRef.current?.focus(), []);\n\n  const createReply = () => {\n    const trimmedContent = content?.trim();\n    if (!trimmedContent || trimmedContent === replyContent) return;\n    setLoading(true);\n    callApi(\n      {\n        method: 'post',\n        api: config.rest.createReply(videoId, commentId),\n        body: { comment: content },\n      },\n      (response: any) => {\n        setShowReplyInput(false);\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setReplies((replies: any) => {\n            return {\n              ...replies,\n              data: [\n                {\n                  id: data.id,\n                  user_id: auth.user_id,\n                  user_avatar: avatar,\n                  username: auth.first_name + ' ' + auth.last_name,\n                  content: content,\n                  liked_amount: 0,\n                  is_liked: false,\n                  created_date: new Date().getTime() / 1000,\n                  is_new: true,\n                },\n                ...replies.data,\n              ],\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const updateReply = () => {\n    if (!content?.trim()) return;\n    setLoading?.(true);\n    callApi(\n      {\n        method: 'put',\n        api: config.rest.updateReply(videoId, commentId, replyId || ''),\n        body: { comment: content },\n      },\n      (response: any) => {\n        setLoading?.(false);\n        setShowReplyInput(false);\n        const { status } = response;\n        if (status === SUCCESS) {\n          setReplies((replies: any) => {\n            const repliesData = [...replies.data];\n            const index = repliesData.findIndex((item) => item.id === replyId);\n            const replyData = repliesData[index];\n            replyData.content = content;\n            return {\n              ...replies,\n              data: repliesData,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter') {\n      if (replyId) updateReply();\n      else createReply();\n    }\n  };\n\n  if (loading) return <InputLoading />;\n\n  return (\n    <div className=\"hb-comment-input hb-ml-40\">\n      <KMSImg className=\"hb-avatar-img\" alt=\"avatar\" src={avatar} />\n      <div className=\"input-wrapper\">\n        <input\n          ref={inputRef}\n          placeholder=\"Ihre Antwort ...\"\n          value={content}\n          onChange={(e: any) => setContent(e.target.value)}\n          onKeyDown={handleKeyDown}\n          maxLength={500}\n        />\n        <HBButtonIcon\n          style={{ position: 'absolute', right: 24 }}\n          circle={{ color: '#dddedf', size: 24 }}\n          icon=\"cross\"\n          size={16}\n          color=\"var(--violet-80)\"\n          onClick={() => setShowReplyInput?.(false)}\n        />\n      </div>\n      <HBButtonIcon\n        icon=\"send\"\n        size={24}\n        color=\"var(--violet-80)\"\n        disabled={content?.trim() === ''}\n        onClick={replyId ? updateReply : createReply}\n      />\n    </div>\n  );\n};\n\nexport default ReplyInput;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { timestampToDatetime } from '../../../utils';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport config from '../../../config';\nimport { defaultAvatar } from '../../../extensions';\nimport ReplyInput from './ReplyInput';\nimport { HBButtonIcon } from '../../../hbBaseClass';\nimport InputLoading from './InputLoading';\nimport { useApi } from 'store/callApi';\nimport { KMSImg } from 'components';\n\ninterface Props {\n  videoId: string;\n  commentId: string;\n  reply: {\n    user_id: string;\n    id: string;\n    user_avatar: string;\n    username: string;\n    content: string;\n    is_liked: boolean;\n    liked_amount: number;\n    created_date: number;\n    is_new?: boolean;\n  };\n  setComments: (callback: any) => void;\n  setReplies: (callback: any) => void;\n  setPopupDelete: (params: any) => void;\n  handleOpenPopup: any;\n}\n\nconst Reply: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const [loading, setLoading] = useState(false);\n  const [showUpdateInput, setShowUpdateInput] = useState(false);\n  // const [showReplyInput, setShowReplyInput] = useState(false);\n  const { videoId, commentId, reply, setComments, setReplies, setPopupDelete, handleOpenPopup } = props;\n  const auth = useSelector((state: { auth: { user_id: string } }) => state.auth);\n\n  const likeReply = () => {\n    const like = reply.is_liked;\n    const replyId = reply.id;\n\n    setReplies((replies: any) => {\n      const repliesData = [...replies.data];\n      const index = repliesData.findIndex((item) => item.id === replyId);\n      const replyData = repliesData[index];\n      const like = replyData.is_liked;\n      replyData.is_liked = !like;\n      replyData.liked_amount += like ? -1 : 1;\n      return {\n        ...replies,\n        data: repliesData,\n      };\n    });\n\n    callApi(\n      {\n        method: !like ? 'post' : 'put',\n        api: !like\n          ? config.rest.likeReply(videoId, commentId, replyId)\n          : config.rest.unlikeReply(videoId, commentId, replyId),\n      },\n      (response: any) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n        }\n      },\n    );\n  };\n\n  const deleteReply = () => {\n    setLoading(true);\n    const replyId = reply.id;\n    callApi(\n      {\n        method: 'delete',\n        api: config.rest.deleteReply(videoId, commentId, replyId),\n      },\n      (response: any) => {\n        setLoading(false);\n        const { status } = response;\n        if (status === SUCCESS) {\n          setReplies((replies: any) => {\n            const repliesData = replies.data.filter((reply: any) => reply.id !== replyId);\n            return {\n              ...replies,\n              data: repliesData,\n            };\n          });\n          if (!reply.is_new)\n            setComments((comments: any) => {\n              const newComments: any = { ...comments };\n              const commentsData = newComments.data;\n              const index = commentsData.findIndex((item: any) => item.id === commentId);\n              commentsData[index].replied_amount -= 1;\n              return newComments;\n            });\n        }\n      },\n    );\n  };\n\n  if (loading) return <InputLoading />;\n\n  if (showUpdateInput)\n    return (\n      <ReplyInput\n        videoId={videoId}\n        commentId={commentId}\n        replyId={reply.id}\n        replyContent={reply.content}\n        setReplies={setReplies}\n        setShowReplyInput={setShowUpdateInput}\n      />\n    );\n\n  return (\n    // <div key={reply.id} className=\"video-comments--comment\">\n    //   <div className=\"video-comments--comment__avatar\">\n    //     <img\n    //       alt=\"IMG\"\n    //       src={reply.user_avatar || defaultAvatar}\n    //       className=\"video-comments--comment__avatar-img\"\n    //       width=\"30px\"\n    //       height=\"30px\"\n    //     />\n    //   </div>\n    //   <div style={{ width: '100%' }}>\n    //     <div>\n    //       {reply.username}\n    //       <span style={{ fontSize: 13, color: '#888', marginLeft: 8 }}>{timestampToDatetime(reply.created_date)}</span>\n    //     </div>\n    //     <div>{reply.content}</div>\n    //     <div>\n    //       <div>\n    //         <i className={`${!reply.is_liked ? 'far' : 'fas'} fa-thumbs-up cursor-pointer`} onClick={likeReply}></i>\n    //         {reply.liked_amount ? <span className=\"ml-2 mr-1\">{reply.liked_amount}</span> : null}\n    //         {/* <span className=\"ml-3 cursor-pointer reply-button\" onClick={() => setShowReplyInput(true)}>\n    //           REPLY\n    //         </span> */}\n    //         {reply.user_id === auth.user_id && (\n    //           <>\n    //             <i className=\"fas fa-edit cursor-pointer mx-4\" onClick={() => setShowUpdateInput(true)} />\n    //             <i\n    //               className=\"fas fa-trash-alt cursor-pointer\"\n    //               onClick={() => setPopupDelete({ show: true, isReply: true, deleteComment: deleteReply })}\n    //             />\n    //           </>\n    //         )}\n    //         {showReplyInput && (\n    //           <ReplyInput\n    //             videoId={videoId}\n    //             small\n    //             commentId={commentId}\n    //             replyContent={`@${reply.username} `}\n    //             setReplies={setReplies}\n    //             setShowReplyInput={setShowReplyInput}\n    //           />\n    //         )}\n    //       </div>\n    //     </div>\n    //   </div>\n    // </div>\n    <div\n      className=\"hb-comment reply hb-ml-40\"\n      style={{ borderRadius: '0 16px 16px 0', borderLeft: '4px solid var(--violet-20)' }}\n    >\n      {reply.user_id === auth.user_id && (\n        <div\n          className=\"more-ver\"\n          onClick={(e) =>\n            handleOpenPopup(e, {\n              edit: () => setShowUpdateInput(true),\n              del: () => setPopupDelete({ show: true, isReply: true, deleteComment: deleteReply }),\n            })\n          }\n        >\n          <i className=\"hb-icon-more-ver\" />\n        </div>\n      )}\n\n      <div className=\"d-flex align-items-center\">\n        <KMSImg className=\"hb-avatar-img\" alt=\"avatar\" src={reply.user_avatar || defaultAvatar} />\n        <div className=\"header\">\n          <div className=\"username\">{reply.username}</div>\n          <div className=\"time\">{timestampToDatetime(reply.created_date, true)}</div>\n        </div>\n      </div>\n      <div className=\"body\">\n        <div className=\"content\">{reply.content}</div>\n        <div className=\"d-flex align-items-center justify-content-between\">\n          <div className=\"d-flex align-items-center\">\n            <HBButtonIcon\n              size={25}\n              icon={reply.is_liked ? 'heart-s' : 'heart-r'}\n              color=\"var(--violet-80)\"\n              onClick={likeReply}\n            />\n            {reply.liked_amount > 0 && <span className=\"ml-2 like-comment-amount\">{reply.liked_amount}</span>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Reply;\n","import React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { timestampToDatetime, includes } from '../../../utils';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport config from '../../../config';\nimport { defaultAvatar } from '../../../extensions';\nimport CommentInput from './CommentInput';\nimport Reply from './Reply';\nimport ReplyInput from './ReplyInput';\nimport { HBButtonIcon } from '../../../hbBaseClass';\nimport InputLoading from './InputLoading';\nimport { useApi } from 'store/callApi';\nimport { KMSImg } from 'components';\n\ninterface Props {\n  videoId: string;\n  comment: {\n    user_id: string;\n    id: string;\n    user_avatar: string;\n    username: string;\n    content: string;\n    is_liked: boolean;\n    liked_amount: number;\n    replied_amount: number;\n    created_date: number;\n  };\n  setComments: (callback: any) => void;\n  setPopupDelete: (params: any) => void;\n  handleOpenPopup: any;\n}\n\nconst Comment: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const [loading, setLoading] = useState(false);\n  const [showUpdateInput, setShowUpdateInput] = useState(false);\n  const [showReplyInput, setShowReplyInput] = useState(false);\n  const [replies, setReplies] = useState<any>({\n    data: [],\n    loading: false,\n    loaded: false,\n    show: false,\n  });\n  const { videoId, comment, setComments, setPopupDelete, handleOpenPopup } = props;\n  const auth = useSelector((state: { auth: { user_id: string } }) => state.auth);\n  const page = useRef<number>(1);\n\n  const likeComment = () => {\n    const like = comment.is_liked;\n    const commentId = comment.id;\n\n    setComments((comments: any) => {\n      const commentsData = [...comments.data];\n      const index = commentsData.findIndex((item) => item.id === commentId);\n      const commentData = commentsData[index];\n      const like = commentData.is_liked;\n      commentData.is_liked = !like;\n      commentData.liked_amount += like ? -1 : 1;\n      return {\n        ...comments,\n        data: commentsData,\n      };\n    });\n\n    callApi(\n      {\n        method: !like ? 'post' : 'put',\n        api: !like ? config.rest.likeComment(videoId, commentId) : config.rest.unlikeComment(videoId, commentId),\n      },\n      (response: any) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n        }\n      },\n    );\n  };\n\n  const getReplies = (page: number) => {\n    callApi(\n      {\n        api: config.rest.getReplies(videoId, comment.id, page),\n        method: 'get',\n      },\n      (response: any) => {\n        const { status, data } = response;\n        if (status === SUCCESS) {\n          setReplies((replies: any) => {\n            const repliesData = replies.data;\n            return {\n              ...replies,\n              show: true,\n              loading: false,\n              loaded: true,\n              data: [...repliesData, ...data.replies.filter((item: any) => !includes(repliesData, item))],\n            };\n          });\n        } else {\n          setReplies((replies: any) => {\n            return {\n              ...replies,\n              loading: false,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const deleteComment = () => {\n    setLoading(true);\n    const commentId = comment.id;\n    callApi(\n      {\n        method: 'delete',\n        api: config.rest.deleteComment(videoId, commentId),\n      },\n      (response: any) => {\n        setLoading(false);\n        const { status } = response;\n        if (status === SUCCESS) {\n          setComments((comments: any) => {\n            const commentsData = comments.data.filter((comment: any) => comment.id !== commentId);\n            return {\n              ...comments,\n              data: commentsData,\n              total: comments.total - 1,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const viewHideReplies = () => {\n    if (!replies.show) {\n      setReplies({ ...replies, loading: true, show: true });\n      if (!replies.loaded) {\n        getReplies(1);\n      } else {\n        setReplies({ ...replies, show: true });\n      }\n    } else\n      setReplies({\n        ...replies,\n        show: false,\n        // data: replies.data.map((item: any) => {\n        //   return { ...item, is_new: false };\n        // }),\n      });\n  };\n\n  // const repliesDistinct = replies.data.filter((v: any, i: number, a) => a.findIndex((t: any) => t.id === v.id) === i);\n\n  const viewReplies = () => {\n    return replies.data\n      .filter((item: any) => !item.is_new)\n      .map((reply: any) => (\n        <Reply\n          key={reply.id}\n          videoId={videoId}\n          setPopupDelete={setPopupDelete}\n          commentId={comment.id}\n          reply={reply}\n          setComments={setComments}\n          setReplies={setReplies}\n          handleOpenPopup={handleOpenPopup}\n        />\n      ));\n  };\n\n  const viewRepliesNew = () => {\n    return replies.data\n      .filter((item: any) => item.is_new)\n      .map((reply: any) => (\n        <Reply\n          key={reply.id}\n          videoId={videoId}\n          setPopupDelete={setPopupDelete}\n          commentId={comment.id}\n          reply={reply}\n          setComments={setComments}\n          setReplies={setReplies}\n          handleOpenPopup={handleOpenPopup}\n        />\n      ));\n  };\n\n  const loadMoreReplies = () => {\n    setReplies({ ...replies, loading: true });\n    page.current += 1;\n    getReplies(page.current);\n  };\n\n  const showMoreReplies = () => {\n    if (!replies.show) return;\n    if (replies.data.filter((item: any) => !item.is_new).length >= comment.replied_amount) return <div />;\n    return (\n      <div className=\"show-more-replies--button\" onClick={loadMoreReplies}>\n        <div>\n          <span className=\"show-more-replies--arrow\">&#10551;</span>\n        </div>\n        <div className=\"show-more-replies--text\">Show more replies</div>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      {loading ? (\n        <InputLoading />\n      ) : showUpdateInput ? (\n        <CommentInput\n          videoId={videoId}\n          commentId={comment.id}\n          commentContent={comment.content}\n          setComments={setComments}\n          setShowUpdateInput={setShowUpdateInput}\n        />\n      ) : (\n        <div className=\"hb-comment\">\n          {comment.user_id === auth.user_id && (\n            <div\n              className=\"more-ver\"\n              onClick={(e) =>\n                handleOpenPopup(e, {\n                  edit: () => setShowUpdateInput(true),\n                  del: () => setPopupDelete({ show: true, deleteComment }),\n                })\n              }\n            >\n              <i className=\"hb-icon-more-ver\" />\n            </div>\n          )}\n          <div className=\"d-flex align-items-center\">\n            <KMSImg className=\"hb-avatar-img\" alt=\"avatar\" src={comment.user_avatar || defaultAvatar} />\n            <div className=\"header\">\n              <h6 className=\"username\">{comment.username}</h6>\n              <div className=\"time\">{timestampToDatetime(comment.created_date, true)}</div>\n            </div>\n          </div>\n          <div className=\"body\">\n            <div className=\"content\">{comment.content}</div>\n            <div className=\"d-flex align-items-center justify-content-between\">\n              <div className=\"d-flex align-items-center\">\n                <HBButtonIcon\n                  size={25}\n                  icon={comment.is_liked ? 'heart-s' : 'heart-r'}\n                  color=\"var(--violet-80)\"\n                  onClick={likeComment}\n                />\n                {comment.liked_amount > 0 && <span className=\"ml-2 like-comment-amount\">{comment.liked_amount}</span>}\n                {comment.replied_amount > 0 && (\n                  <>\n                    <HBButtonIcon\n                      style={{ fontWeight: 'bold', marginLeft: 28 }}\n                      size={23}\n                      icon={replies.show ? 'comment-s' : 'comment-r'}\n                      color=\"var(--violet-80)\"\n                      onClick={viewHideReplies}\n                    />\n                    <span className=\"ml-2 like-comment-amount\">{comment.replied_amount}</span>\n                  </>\n                )}\n              </div>\n              <div className=\"btn-reply\" onClick={() => setShowReplyInput(true)}>\n                Antworten\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      <div>\n        {showReplyInput && (\n          <ReplyInput\n            videoId={videoId}\n            commentId={comment.id}\n            replyContent=\"\"\n            setReplies={setReplies}\n            setShowReplyInput={setShowReplyInput}\n          />\n        )}\n        {/* {comment.replied_amount > 0 && (\n          <div onClick={viewHideReplies} className=\"button-link mt-2\">\n            <i className={`fas fa-angle-${replies.show ? 'up' : 'down'} mx-2 size-0 margin-auto-0`} />\n            <div className=\"margin-auto-0\">\n              {replies.show ? 'Hide' : 'View'}\n              {comment.replied_amount === 1 ? ' reply' : ` all ${comment.replied_amount} replies`}\n            </div>\n          </div>\n        )} */}\n        {viewRepliesNew()}\n        {comment.replied_amount > 0 && replies.show && viewReplies()}\n        {/* {replies.loading ? <InputLoading /> : showMoreReplies()} */}\n        {replies.loading && <InputLoading />}\n      </div>\n    </>\n  );\n};\n\nexport default Comment;\n","import React from 'react';\nimport { HBModalConfirm } from '../../../hbBaseClass';\n\ninterface Props {\n  popupDelete: {\n    deleteComment?: () => void;\n    show: boolean;\n    isReply?: boolean;\n  };\n  setPopupDelete: (params: any) => void;\n}\n\nconst PopupDeleteComment: React.FC<Props> = (props) => {\n  const { popupDelete, setPopupDelete } = props;\n\n  const { deleteComment, show, isReply } = popupDelete;\n\n  const handleClose = () => {\n    setPopupDelete({ ...popupDelete, show: false });\n  };\n\n  const confirm = () => {\n    deleteComment?.();\n    handleClose();\n  };\n\n  return (\n    <HBModalConfirm\n      show={show}\n      handleClose={handleClose}\n      title={isReply ? 'Antwort löschen' : 'Kommentar löschen'}\n      content={\n        isReply\n          ? 'Sind Sie sicher, dass Sie Ihren Antwort unwiederruflich löschen wollen?'\n          : 'Sind Sie sicher, dass Sie Ihren Kommentar unwiederruflich löschen wollen?'\n      }\n      up=\"Jetzt löschen\"\n      down=\"Abbrechen\"\n      upCallback={confirm}\n      downCallback={handleClose}\n    />\n  );\n};\n\nexport default PopupDeleteComment;\n","import { KMSIframe } from 'components';\nimport React, { useRef, useState } from 'react';\nimport { HBModal } from '../../../hbBaseClass';\nimport WorkbookItem from './WorkbookItem';\n\ninterface Props {\n  data: { file_name: string; key: string; link: string }[];\n}\n\nconst Workbooks: React.FC<Props> = (props) => {\n  const { data } = props;\n  const [showContent, setShowContent] = useState(false);\n  const [modal, setModal] = useState({ show: false, name: '', link: '' });\n  const divRef = useRef<any>(null);\n\n  return (\n    <div>\n      <HBModal\n        size=\"xl\"\n        style={{ height: '90vh' }}\n        centered\n        closeBtn\n        show={modal.show}\n        onClose={() => setModal({ show: false, name: '', link: '' })}\n        closeOnBackdrop={false}\n      >\n        <div className=\"hb-modal-body\">{modal.name}</div>\n        <KMSIframe\n          key={modal.link}\n          title={modal.name}\n          width={'100%'}\n          height={'95%'}\n          src={modal.link}\n          style={{ border: 'none' }}\n        />\n      </HBModal>\n      {/* <div className=\"d-flex align-items-center mb-2\">\n        <div className=\"d-flex align-items-center cursor-pointer\" onClick={() => setShowContent(!showContent)}>\n          <div className=\"workbooks-and-instructions-text\">Workbooks and Instructions</div>\n          <i className={`fa fa-chevron-${showContent ? 'up' : 'down'} size-0 ml-3`} />\n        </div>\n      </div>\n      <div\n        ref={divRef}\n        className=\"workbooks-wrapper\"\n        style={{ height: showContent ? divRef.current?.scrollHeight : 0 }}\n      >\n        {data.map((item: { file_name: string; key: string; link: string }) => (\n          <div key={item.key} className=\"d-flex align-items-center\">\n            <div\n              className=\"d-flex align-items-center cursor-pointer p-2 mb-1 workbook-wrapper\"\n              onClick={() => setModal({ show: true, name: item.file_name, link: item.link })}\n            >\n              <i className=\"fas fa-file-alt size-0 mr-3\" />\n              <div className=\"workbook-text\">{item.file_name}</div>\n            </div>\n          </div>\n        ))}\n      </div> */}\n      <h3 className=\"header pr-3\">Arbeitsunterlagen und Anleitungen</h3>\n      {data.map((item: { file_name: string; key: string; link: string }) => (\n        <WorkbookItem\n          key={item.key}\n          label={item.file_name}\n          icon=\"file-text\"\n          callback={() => setModal({ show: true, name: item.file_name, link: item.link })}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Workbooks;\n","import React, { useState } from 'react';\nimport { HBButtonSmall } from '../../../hbBaseClass';\nimport './QNA.scss';\n\ninterface Props {\n  handleClose: any;\n}\n\nconst QNA: React.FC<Props> = (props) => {\n  const { handleClose } = props;\n\n  const [qnaData, setQnaData] = useState([\n    {\n      id: '1',\n      title: 'Wie kann ich die Intensität der Übung steigern?',\n      content: [\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.',\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo.',\n      ],\n      show: false,\n    },\n    {\n      id: '2',\n      title: 'Wie kann ich die Intensität der Übung steigern?',\n      content: [\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.',\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo.',\n      ],\n      show: false,\n    },\n    {\n      id: '3',\n      title: 'Wie kann ich die Intensität der Übung steigern?',\n      content: [\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.',\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo.',\n      ],\n      show: false,\n    },\n    {\n      id: '4',\n      title: 'Wie kann ich die Intensität der Übung steigern?',\n      content: [\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.',\n        'Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo.',\n      ],\n      show: false,\n    },\n  ]);\n\n  const handleChange = (index: number) => {\n    const newQna = [...qnaData];\n    newQna[index].show = !newQna[index].show;\n    setQnaData(newQna);\n  };\n\n  return (\n    <div className=\"hb-wrapper\">\n      <div className=\"hb-mx-20\">\n        <div className=\"hb-my-28\">\n          <HBButtonSmall\n            color=\"nightblue\"\n            onClick={() => {\n              handleClose();\n              window.scrollTo(0, 0);\n            }}\n          >\n            <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n          </HBButtonSmall>\n        </div>\n        <div className=\"hb-title hb-qna-title\">Häufige Fragen zum Übung</div>\n      </div>\n      <div className=\"hb-mx-20 hb-qna-contentWrapper\">\n        <div className=\"hb-qna-card\">\n          {qnaData.map((item, index) => (\n            <div key={item.id} style={{ marginTop: index === 0 ? 0 : 16 }}>\n              <div\n                className=\"hb-qna-item-header\"\n                style={{ borderRadius: item.show ? '24px 24px 0 0' : 24 }}\n                onClick={() => handleChange(index)}\n              >\n                <h4>{item.title} </h4>\n                <i\n                  className=\"hb-icon-angle-down\"\n                  style={{ transform: `rotate(${item.show ? -180 : 0}deg)`, fontSize: 8, height: 9 }}\n                />\n              </div>\n              {item.show && (\n                <div className=\"hb-qna-item-wrapper\">\n                  {item.content.map((text, index1) => (\n                    <div key={index1} className=\"hb-qna-content\" style={{ marginTop: index1 === 0 ? 0 : 10 }}>\n                      {text}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QNA;\n","import ReactDOM from 'react-dom';\nimport config from '../../../config';\nimport { addKMSToken, concatData, getPageSize, includes } from '../../../utils';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport React, { useEffect, useMemo, useState, useRef } from 'react';\nimport VideoPlayer from '../../../components/videoPlayer/VideoPlayer';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport Frame from './Frame';\nimport Comment from './Comment';\nimport CommentInput from './CommentInput';\nimport PopupDeleteComment from './PopupDeleteComment';\nimport { defaultTrainer, loadingSmall } from '../../../extensions';\nimport { Waypoint } from 'react-waypoint';\nimport Workbooks from './Workbooks';\nimport { HBButtonSmall, HBMenuPopup } from '../../../hbBaseClass';\nimport WorkbookItem from './WorkbookItem';\nimport MobilityVideo from './MobilityVideo';\nimport ContainterEllipse from '../containers/ContainerEllipse';\nimport QNA from './QNA';\nimport styles from './MobilityDetail.module.scss';\nimport { intToString } from '../../../utils';\nimport Tippy from '@tippyjs/react';\nimport 'tippy.js/dist/tippy.css';\nimport { useApi } from 'store/callApi';\nimport { DEFAULT_PAGE_SIZE } from 'configs/constants';\nimport { useSelector } from 'react-redux';\nimport { KMSDiv } from 'components';\n\ninterface Props {\n  location: {\n    search?: string;\n  };\n}\n\nconst MobilityDetail: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const query = new URLSearchParams(props?.location?.search);\n  const access_token = useSelector((state: any) => state.auth.access_token);\n\n  const location = useLocation();\n\n  const videoId: any = query.get('video');\n  const [startTime, setStartTime] = useState(Math.max(Number(query.get('time')) || 0, 0));\n  const [qna, setQna] = useState(query.get('qna') || false);\n\n  const autoplay = query.get('autoplay');\n  const history = useHistory();\n  const pageComments = useRef<number>(1);\n  const pageRelatedVideos = useRef<number>(1);\n\n  const [video, setVideo] = useState<any>(null);\n  const [isSaved, setIsSaved] = useState(false);\n  const [relatedVideos, setRelatedVideos] = useState<any>({ data: [], loading: true });\n  const [comments, setComments] = useState<any>({ data: [], loading: true, total: 0, full: false });\n  const [player, setPlayer] = useState<any>(null);\n  const [popupDelete, setPopupDelete] = useState<any>({\n    deleteComment: null,\n    show: false,\n    isReply: false,\n  });\n  const [menuPopup, setMenuPopup] = useState<any>({\n    show: false,\n    top: 0,\n    left: 0,\n    width: 0,\n    items: [],\n  });\n\n  // get video tags\n  const tags = useMemo(() => video?.tag?.split?.(',').filter((item: any) => item !== ''), [video]);\n\n  const getVideoById = (videoId: string) => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getVideoById(videoId),\n        loading: !video,\n      },\n      (response: any) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setVideo({ ...data.video, link_hls: addKMSToken(data.video.link_hls, access_token) });\n          setIsSaved(data.video.is_saved);\n          setComments((comments: any) => {\n            return { ...comments, total: data.video.commented_amount };\n          });\n        }\n      },\n    );\n  };\n\n  const getRelatedVideos = (videoId: string, page: number) => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getRelatedVideos(videoId, getPageSize(page), page),\n      },\n      (response: any) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setRelatedVideos({\n            data: data.videos,\n            loading: false,\n          });\n        }\n      },\n    );\n  };\n\n  const getComments = (page: number) => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getComments(videoId, page),\n      },\n      (response: any) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setComments((comments: any) => {\n            const commentsData = comments.data;\n            return {\n              ...comments,\n              data: concatData(\n                page,\n                commentsData,\n                data.comments.filter((item: any) => !includes(commentsData, item)),\n              ),\n              loading: false,\n              full: data.comments.length < DEFAULT_PAGE_SIZE,\n            };\n          });\n        } else {\n          setComments((comments: any) => {\n            return {\n              ...comments,\n              loading: false,\n            };\n          });\n        }\n      },\n    );\n  };\n\n  const saveAction = () => {\n    setIsSaved((isSaved) => !isSaved);\n\n    callApi(\n      {\n        method: !isSaved ? 'post' : 'put',\n        api: !isSaved ? config.rest.saveVideo(videoId) : config.rest.unsaveVideo(videoId),\n      },\n      (response: any) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n        }\n      },\n    );\n  };\n\n  const loadMoreComment = () => {\n    if (comments.loading) return;\n    if (comments.total <= comments.data.length) return;\n    if (comments.full) return;\n    setComments({ ...comments, loading: true });\n    pageComments.current += 1;\n    getComments(pageComments.current);\n  };\n\n  useEffect(() => {\n    const reload = () => {\n      if (video && player) player.reset();\n      window.scrollTo(0, 0);\n      setComments({ ...comments, data: [], loading: true });\n      getVideoById(videoId);\n      getComments(pageComments.current);\n      getRelatedVideos(videoId, pageRelatedVideos.current);\n      setMenuPopup({ ...menuPopup, show: false });\n    };\n\n    if (!videoId) history.push('/mobility');\n    else reload();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoId]);\n\n  useEffect(() => {\n    if (player && video.link_hls) player.src(video.link_hls);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [video]);\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResizeWindow);\n\n    return () => {\n      window.removeEventListener('resize', handleResizeWindow);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [menuPopup]);\n\n  /**\n   * Calculate popup position (use for responsive display)\n   *\n   * @param bound Element bounding client\n   *\n   * @return Object\n   */\n  function calculatePopupPosition(bound: any) {\n    const { clientWidth: windowWidth } = document.documentElement;\n    const left = windowWidth <= 860 ? bound.left - 131 : bound.left + window.scrollX;\n    let top = bound.top + window.scrollY - 20;\n    top = windowWidth <= 860 ? top + 50 : top;\n\n    return { top, left: left + 30 };\n  }\n\n  /**\n   * Handle resize window\n   */\n  function handleResizeWindow() {\n    const { targetEle } = menuPopup;\n    const eleTargetDOM: any = ReactDOM.findDOMNode(targetEle);\n    const bound = eleTargetDOM?.getBoundingClientRect();\n\n    if (!bound) return;\n    const popupPosition = calculatePopupPosition(bound);\n\n    setMenuPopup({ ...menuPopup, ...popupPosition });\n  }\n\n  const videoParams = video\n    ? {\n        setPlayer: setPlayer,\n        autoplay: autoplay !== '0',\n        sources: [\n          {\n            src: video?.link_hls,\n            type: 'application/x-mpegURL',\n            overrideNative: true,\n          },\n        ],\n        poster: video?.thumbnail,\n        relatedVideos: relatedVideos,\n        setRelatedVideos: setRelatedVideos,\n        startTime,\n        showQuality: true,\n      }\n    : {};\n\n  const handleOpenPopup = (e: any, data: { edit: any; del: any }) => {\n    const bound = e.target.getBoundingClientRect();\n    const popupPosition = calculatePopupPosition(bound);\n\n    setMenuPopup({\n      targetEle: e.target,\n      show: true,\n      width: 141,\n      items: [\n        {\n          id: 'edit',\n          label: 'Bearbeiten',\n          icon: 'edit-2',\n          handle: data.edit,\n        },\n        {\n          id: 'del',\n          label: 'Löschen',\n          icon: 'trash',\n          handle: data.del,\n        },\n      ],\n      ...data,\n      ...popupPosition,\n    });\n  };\n\n  const gotoTrainer = (e: any) => {\n    e.preventDefault();\n    if (!video.trainer_id) return;\n    history.push(`/mobility/trainer-detail/${video.trainer_id}`);\n  };\n\n  const renderVideo =\n    video && !relatedVideos.loading ? (\n      <>\n        <div className=\"hb-video mb-2\">\n          <VideoPlayer className={styles.videoWrapper} {...videoParams} />\n        </div>\n\n        <div className={`d-flex justify-content-between align-items-center hb-my-28 ${styles.author}`}>\n          <div className=\"d-flex align-items-center\">\n            <KMSDiv\n              backgroundImage={video.trainer_avatar || defaultTrainer}\n              onClick={gotoTrainer}\n              style={{\n                cursor: video.trainer_id ? 'pointer' : 'default',\n              }}\n              className=\"hb-card-avatar\"\n            />\n            <Tippy interactive content={video?.viewed_amount || '0'}>\n              <div className=\"hb-card-views-wrapper detail\">\n                <i className=\"hb-icon-eye\" style={{ color: 'var(--violet-80)', fontSize: 22, marginRight: 7 }} />\n                <span>{intToString(video?.viewed_amount)}</span>\n              </div>\n            </Tippy>\n          </div>\n          <div className=\"hb-save\" onClick={saveAction}>\n            <i className={`${isSaved ? 'hb-icon-heart-s' : 'hb-icon-heart-r'}`} />\n          </div>\n        </div>\n\n        <h2 className=\"hb-title-video\">{video?.title}</h2>\n\n        {!!tags?.length && (\n          <div className={`d-flex ${styles.tags}`}>\n            {tags.map((item: string, index: number) => (\n              <Link to={`/mobility/hashtag/${item}`} key={index} className=\"hb-card-keyword\">\n                {`#${item}`}\n              </Link>\n            ))}\n          </div>\n        )}\n\n        {video?.description && (\n          <>\n            <h4 className=\"hb-video-description-title\">Beschreibung</h4>\n            <div className=\"hb-video-description-content\">\n              {video.description}\n              {/* <ShowMoreText lines={2} more=\"Show more\" less=\"Show less\" className=\"content-css\" expanded={false}>\n          {video?.description}\n        </ShowMoreText> */}\n            </div>\n          </>\n        )}\n\n        {/* Comments */}\n        <div className=\"hb-card-video\">\n          <h3 className=\"header\">\n            {comments.total} Kommentar{comments.total > 1 && 'e'}\n          </h3>\n          <>\n            <CommentInput videoId={video.id} setComments={setComments} />\n            {comments.data.map((comment: any) => (\n              <Comment\n                key={comment.id}\n                handleOpenPopup={handleOpenPopup}\n                videoId={videoId}\n                comment={comment}\n                setComments={setComments}\n                setPopupDelete={setPopupDelete}\n              />\n            ))}\n          </>\n          {comments.loading && <Frame size=\"large\" render={loadingSmall} />}\n          <Waypoint onEnter={loadMoreComment} />\n        </div>\n      </>\n    ) : (\n      <div className=\"hb-video mb-2\">\n        <div className={`video-wrapper ${styles.videoWrapper}`} />\n      </div>\n    );\n\n  if (qna)\n    return (\n      <QNA\n        handleClose={() => {\n          setQna(false);\n          history.push(location.pathname + `?video=${videoId}&autoplay=${autoplay}`);\n        }}\n      />\n    );\n\n  return (\n    <ContainterEllipse>\n      <HBMenuPopup\n        {...menuPopup}\n        className=\"userOptions\"\n        handleClose={() => setMenuPopup({ ...menuPopup, show: false })}\n      />\n\n      <div className=\"hb-mx-20\">\n        <div className=\"hb-my-28\">\n          <HBButtonSmall onClick={() => history.goBack()}>\n            <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n          </HBButtonSmall>\n        </div>\n        <div className=\"mobility-detail\">\n          <PopupDeleteComment popupDelete={popupDelete} setPopupDelete={setPopupDelete} />\n\n          <div className={`row ${styles.detailWrapperContainer}`}>\n            <div className=\"col-md-8\">{renderVideo}</div>\n            <div className=\"col-md-4\">\n              {video?.documents?.length > 0 && (\n                <div className=\"hb-card-video\">\n                  <Workbooks data={video.documents} />\n                </div>\n              )}\n              <div className=\"hb-card-video\">\n                <h3 className=\"header\">Häufige Fragen zum Übung</h3>\n                <WorkbookItem\n                  label=\"Fragen &amp; Antworten\"\n                  icon=\"comment-2-question\"\n                  callback={() => {\n                    const current = Math.floor(player?.currentTime?.() || 0);\n                    history.push(\n                      location.pathname +\n                        `?video=${videoId}&qna=true&time=${current}&autoplay=${player.paused() ? '0' : '1'}`,\n                    );\n                    setStartTime(current);\n                    setQna(true);\n                    window.scrollTo(0, 0);\n                  }}\n                />\n              </div>\n              {relatedVideos.data.length > 0 && (\n                <div className={`hb-card-video ${styles.listVideosWrapper}`}>\n                  <h3 className=\"header\">Empfohlene Übungen</h3>\n                  <div className={styles.listVideos}>\n                    {relatedVideos.data.map((relatedVideo: any, index: any) => (\n                      <MobilityVideo\n                        setVideos={setRelatedVideos}\n                        {...relatedVideo}\n                        key={relatedVideo.id}\n                        index={index}\n                        isRelated={true}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </ContainterEllipse>\n  );\n};\n\nexport default MobilityDetail;\n","import React from 'react';\n\ninterface Props {\n  size: 'large' | 'medium' | 'small';\n  render: any;\n}\n\nconst mappingSize = { large: 80, medium: 48, small: 36 };\n\nconst Frame: React.FC<Props> = (props) => {\n  const { size, render } = props;\n\n  return (\n    <div className=\"video-comments--comment\">\n      <div style={{ width: '100%', height: mappingSize[size] }}>{render}</div>\n    </div>\n  );\n};\n\nexport default Frame;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport config from '../../../config';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport { createCategoryHashtag, defaultTrainer, videoNoThumbnail } from '../../../extensions';\nimport { intToString } from '../../../utils';\nimport Tippy from '@tippyjs/react';\nimport 'tippy.js/dist/tippy.css';\nimport { useApi } from 'store/callApi';\nimport { KMSDiv } from 'components';\n\ninterface Props {\n  index: number;\n  id: string;\n  thumbnail: string;\n  created_date: number;\n  title: string;\n  viewed_amount: number;\n  setVideos: (videos: any) => void;\n  is_saved?: boolean;\n  screenSaved?: boolean;\n  categories: { id: string; name: string }[];\n  isRelated?: boolean;\n  isDetail?: boolean;\n  category_name?: string;\n  trainer_avatar: string;\n  trainer_id: string;\n  className?: string;\n  setLibrary?: any;\n}\n\nconst MobilityVideo: React.FC<Props> = (props) => {\n  const { callApi } = useApi();\n\n  const {\n    index,\n    id,\n    thumbnail,\n    title,\n    viewed_amount,\n    setVideos,\n    is_saved,\n    screenSaved,\n    isRelated,\n    isDetail,\n    category_name,\n    trainer_avatar,\n    trainer_id,\n    className,\n    setLibrary,\n  } = props;\n\n  const history = useHistory();\n\n  const gotoTrainer = (e: any) => {\n    e.preventDefault();\n    if (!trainer_id) return;\n    history.push(`/mobility/trainer-detail/${trainer_id}`);\n  };\n\n  const saveAction = (e: any) => {\n    e.preventDefault();\n    if (!screenSaved)\n      setVideos((videos: any) => {\n        let newVideos = [...videos.data];\n        newVideos[index].is_saved = !is_saved;\n        return { ...videos, data: newVideos };\n      });\n    else\n      setVideos((videos: any) => {\n        let newVideos = videos.data.filter((newVideo: any) => newVideo.id !== id);\n        return { ...videos, data: newVideos };\n      });\n\n    setLibrary &&\n      setLibrary((library: any) => {\n        if (!library) return null;\n        return { ...library, is_save_number: library.is_save_number + (is_saved ? -1 : 1) };\n      });\n\n    callApi(\n      {\n        method: !is_saved ? 'post' : 'put',\n        api: !is_saved ? config.rest.saveVideo(id) : config.rest.unsaveVideo(id),\n      },\n      (response) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n        }\n      },\n    );\n  };\n\n  return (\n    <div\n      className={`${\n        isRelated ? 'hb-card-item' : isDetail ? 'col-md-6 hb-card-item' : 'col-lg-4 col-md-6 hb-card-item'\n      } ${className}`}\n      style={{ marginBottom: isRelated ? 0 : 16, marginTop: isRelated ? 16 : 0 }}\n    >\n      <Link to={`/mobility/watch?video=${id}`}>\n        <KMSDiv\n          backgroundImage={thumbnail || videoNoThumbnail}\n          className=\"Video-thumbnail\"\n          style={{\n            overflow: 'hidden',\n            width: '100%',\n            display: 'block',\n            borderRadius: '32px 32px 0 0',\n            height: 182,\n            backgroundSize: 'cover',\n          }}\n        />\n        <div\n          style={{\n            backgroundColor: 'white',\n            padding: '20px',\n            borderRadius: '0 0 30px 30px',\n            border: isRelated ? '1px solid var(--petrol-5)' : 'none',\n          }}\n        >\n          <div className=\"d-flex justify-content-between\">\n            <div className=\"d-flex align-items-center\">\n              <KMSDiv\n                backgroundImage={trainer_avatar || defaultTrainer}\n                onClick={gotoTrainer}\n                style={{\n                  cursor: trainer_id ? 'pointer' : 'default',\n                }}\n                className=\"hb-card-avatar\"\n              />\n              <Tippy interactive={true} content={viewed_amount || '0'}>\n                <div className=\"hb-card-views-wrapper\">\n                  <i className=\"hb-icon-eye\" style={{ color: 'var(--violet-80)', fontSize: 22, marginRight: 7 }} />\n                  <span className=\"small\">{intToString(viewed_amount)}</span>\n                </div>\n              </Tippy>\n            </div>\n            <div className=\"hb-save\" onClick={saveAction}>\n              <i className={`${is_saved ? 'hb-icon-heart-s' : 'hb-icon-heart-r'}`} />\n            </div>\n          </div>\n          <h4 className=\"hb-card-title video\">{title}</h4>\n          <div className=\"d-flex\" style={{ marginTop: 10 }}>\n            {createCategoryHashtag(category_name || '')}\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default MobilityVideo;\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n  icon: 'file-text' | 'comment-2-question' | 'phone' | 'user-square';\n  label: string;\n  callback?: any;\n}\n\nconst WorkbookItem: React.FC<Props> = (props) => {\n  const { className = '', icon, label, callback = () => {} } = props;\n\n  return (\n    <div className={`hb-workbook-item ${className}`} onClick={callback}>\n      <div className=\"d-flex align-items-center\" style={{ width: 'calc(100% - 30px)' }}>\n        <div className=\"icon\">\n          <i className={`hb-icon-${icon}`} />\n        </div>\n        <div className=\"label\">{label}</div>\n      </div>\n      <div className=\"arrow\">\n        <i className=\"hb-icon-arrow-right\" />\n      </div>\n    </div>\n  );\n};\n\nexport default WorkbookItem;\n","import React from 'react';\n\nconst ContainterEllipse: React.FC = (props) => {\n  const { children } = props;\n\n  return (\n    <>\n      <div className=\"hb-ellipse\">\n        <div className=\"hb-ellipse-children\" />\n      </div>\n      <div className=\"hb-wrapper\">{children}</div>\n    </>\n  );\n};\n\nexport default ContainterEllipse;\n","import { useEffect, useRef } from 'react';\nimport videojs from 'video.js';\n// import './VideojsContribQualityLevels';\nimport './VideojsQualitySelector';\n// import './VideojsHlsQualitySelector';\nimport './VideojsSeekButtons';\nimport 'video.js/dist/video-js.css';\nimport './VideojsSeekButtons.css';\nimport './VideoPlayer.scss';\nimport { useHistory } from 'react-router-dom';\n\nvideojs.addLanguage('de', {\n  Play: 'Wiedergabe',\n  Replay: 'Wiedergabe',\n  Pause: 'Pause',\n  Fullscreen: 'Vollbild',\n  'Non-Fullscreen': 'Vollbild beenden',\n  Mute: 'Stummschalten',\n  Unmute: 'Stummschaltung aufheben',\n  'Play Video': 'Video abspielen',\n});\n\nconst VideoPlayer = (props) => {\n  const {\n    className,\n    setPlayer,\n    autoplay,\n    controls,\n    poster,\n    sources,\n    relatedVideos,\n    setRelatedVideos,\n    startTime,\n    showQuality,\n    isTrainer,\n  } = props;\n\n  const history = useHistory();\n  const videoRef = useRef(null);\n\n  useEffect(() => {\n    const observeVideoProgress = setInterval(() => {\n      const video = (videoRef && videoRef.current) || null;\n\n      if (video && !video.paused) {\n        const { duration, currentTime } = video;\n\n        props.videoProgress({\n          duration,\n          currentTime,\n        });\n      }\n    }, 500);\n\n    return () => {\n      clearInterval(observeVideoProgress);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const quality = showQuality ? { qualitySelector: {} } : {};\n\n    const player = videojs(\n      videoRef.current,\n      {\n        html5: {\n          hls: {\n            overrideNative: true,\n            // smoothQualityChange: true,\n          },\n          nativeAudioTracks: false,\n          nativeVideoTracks: false,\n          nativeTextTracks: false,\n        },\n        autoplay: autoplay,\n        controls: controls,\n        // playbackRates: playbackRates,\n        poster: poster,\n        sources: sources,\n        plugins: isTrainer\n          ? undefined\n          : {\n              ...quality,\n              seekButtons: {\n                forward: 15,\n                back: 15,\n              },\n            },\n        controlBar: {\n          volumePanel: { inline: false },\n          liveDisplay: true,\n          pictureInPictureToggle: false,\n          children: [\n            'playToggle',\n            'volumePanel',\n            'currentTimeDisplay',\n            'timeDivider',\n            'durationDisplay',\n            // 'remainingTimeDisplay',\n            'progressControl',\n            'fullscreenToggle',\n          ],\n        },\n      },\n      function onPlayerReady() {\n        // player.on('ended', () => {\n        //   let nextVideo;\n        //   relatedVideos?.data?.length > 0 &&\n        //     setRelatedVideos((value) => {\n        //       nextVideo = value.data?.[0]?.id;\n        //       return value;\n        //     });\n        //   if (nextVideo) history.push(`/mobility/watch?video=${nextVideo}`);\n        // });\n        startTime && player.currentTime(startTime);\n        if (setRelatedVideos && relatedVideos?.data?.length > 0) {\n          const button = videojs.getComponent('Button');\n          const nextButton = videojs.extend(button, {\n            constructor: function () {\n              button.apply(this, arguments);\n              this.controlText('Nächstes Video');\n              // this.addClass('vjs-icon-next-item');\n              this.addClass('vjs-next-video');\n            },\n            handleClick: function () {\n              let nextVideo;\n              setRelatedVideos((value) => {\n                nextVideo = value?.data?.[0]?.id;\n                return value;\n              });\n              if (nextVideo) history.push(`/mobility/watch?video=${nextVideo}`);\n            },\n          });\n          videojs.registerComponent('nextButton', nextButton);\n          player.controlBar.addChild('nextButton', {}, 5);\n        }\n\n        const logo = player.controlBar.addChild('Component', {}, 6);\n        logo.addClass('logo');\n      },\n    );\n\n    setPlayer && setPlayer(player);\n\n    return () => {\n      if (player) {\n        player.dispose();\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={`video-wrapper ${className}`}>\n      <div data-vjs-player>\n        <video ref={videoRef} className=\"video-js vjs-fill\" data-setup='{\"language\":\"de\"}' />\n      </div>\n    </div>\n  );\n};\n\nVideoPlayer.defaultProps = {\n  className: '',\n  autoplay: true,\n  controls: true,\n  playbackRates: [0.5, 0.75, 1, 1.5, 2],\n  poster: '',\n  sources: [],\n  videoProgress: () => null,\n  nextVideo: '',\n  startTime: 0,\n};\n\nexport default VideoPlayer;\n","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar videojs = _interopDefault(require('video.js'));\n\nglobal.videojsQualitySelector = videojs;\n\nvar version = '0.0.0';\nvar defaults = {}; // Cross-compatibility for Video.js 5 and 6.\nvar registerPlugin = videojs.registerPlugin || videojs.plugin; // const dom = videojs.dom || videojs;\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n};\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    },\n  });\n  if (superClass)\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : (subClass.__proto__ = superClass);\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === 'object' || typeof call === 'function') ? call : self;\n};\n\nvar VideoJsButtonClass = videojs.getComponent('MenuButton');\nvar VideoJsMenuClass = videojs.getComponent('Menu');\nvar VideoJsComponent = videojs.getComponent('Component');\nvar VideoJsMenuItemClass = videojs.getComponent('MenuItem');\nvar Dom = videojs.dom;\n\n/**\n * Extend vjs button class for quality button.\n */\nvar QualityMenu = (function (_VideoJsButtonClass) {\n  inherits(QualityMenu, _VideoJsButtonClass);\n\n  /**\n   * Button constructor.\n   *\n   * @param {Player} player - videojs player instance\n   */\n  function QualityMenu(player) {\n    classCallCheck(this, QualityMenu);\n    return possibleConstructorReturn(this, _VideoJsButtonClass.call(this, player, {}));\n  }\n\n  /**\n   * Creates button items.\n   *\n   * @return {Array} - Button items\n   */\n  QualityMenu.prototype.createItems = function createItems() {\n    return [];\n  };\n\n  /**\n   * Create the menu and add all items to it.\n   *\n   * @return {Menu}\n   *         The constructed menu\n   */\n  QualityMenu.prototype.createMenu = function createMenu() {\n    var menu = new VideoJsMenuClass(this.player_, { menuButton: this });\n\n    this.hideThreshold_ = 0;\n\n    var titleEl = Dom.createEl('li', {\n      className: 'vjs-menu-title',\n      innerHTML: '',\n      tabIndex: -1,\n    });\n    var titleComponent = new VideoJsComponent(this.player_, { el: titleEl });\n\n    this.hideThreshold_ += 1;\n\n    menu.addItem(titleComponent);\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  };\n\n  return QualityMenu;\n})(VideoJsButtonClass);\n\nvar QualityMenuItem = (function (_VideoJsMenuItemClass) {\n  inherits(QualityMenuItem, _VideoJsMenuItemClass);\n\n  /**\n   * Menu item constructor.\n   *\n   * @param {Player} player - vjs player\n   * @param {Object} item - Item object\n   * @param {QualityMenu} qualityMenu - The containing button.\n   * @param {HlsQualitySelectorPlugin} plugin - This plugin instance.\n   */\n  function QualityMenuItem(player, item, qualityMenu, plugin) {\n    classCallCheck(this, QualityMenuItem);\n\n    var _this = possibleConstructorReturn(\n      this,\n      _VideoJsMenuItemClass.call(this, player, {\n        label: item.label,\n        selectable: true,\n        selected: item.selected || false,\n      }),\n    );\n\n    _this.item = item;\n    _this.qualityMenu = qualityMenu;\n    _this.plugin = plugin;\n    return _this;\n  }\n\n  /**\n   * Click event for menu item.\n   */\n  QualityMenuItem.prototype.handleClick = function handleClick() {\n    // Reset other menu items selected status.\n    for (var i = 0; i < this.qualityMenu.items.length; ++i) {\n      this.qualityMenu.items[i].selected(false);\n    }\n\n    // Set this menu item to selected, and set quality.\n    this.plugin.setQuality(this.item);\n    this.selected(true);\n  };\n\n  return QualityMenuItem;\n})(VideoJsMenuItemClass);\n\nvar QualitySelectorPlugin = (function () {\n  function QualitySelectorPlugin(player, options) {\n    this.player = player;\n    this.qualityParams = this.getQualityParams(player.el().dataset.qualityParams);\n\n    if (this.qualityParams.length > 0) {\n      this.createQualityMenu();\n      this.onAddQualityLevel();\n    }\n  }\n\n  QualitySelectorPlugin.prototype.getQualityParams = function getQualityParams(qualityParams) {\n    qualityParams = [\n      { quality: -1, level: -1, label: 'Auto', order: 0 },\n      { quality: 480, level: 0, label: '480p', order: 3 },\n      { quality: 720, level: 1, label: '720p', order: 2 },\n      { quality: 1080, level: 2, label: '1080p', order: 1 },\n    ];\n    if (!(qualityParams.length > 0)) {\n      return [];\n    }\n\n    qualityParams.sort(function (current, next) {\n      if (current.order < next.order) {\n        return -1;\n      }\n      if (current.order > next.order) {\n        return 1;\n      }\n      return 0;\n    });\n\n    return qualityParams;\n  };\n\n  QualitySelectorPlugin.prototype.createQualityMenu = function createQualityMenu() {\n    var player = this.player;\n\n    this._qualityMenu = new QualityMenu(player);\n\n    var placementIndex = player.controlBar.children().length - 2;\n    var qualityMenuInstance = player.controlBar.addChild(\n      this._qualityMenu,\n      { componentClass: 'qualitySelector' },\n      placementIndex,\n    );\n\n    qualityMenuInstance.addClass('vjs-quality-selector');\n    qualityMenuInstance.menuButton_.$('.vjs-icon-placeholder').className += ' vjs-icon-quality';\n    qualityMenuInstance.removeClass('vjs-hidden');\n  };\n\n  QualitySelectorPlugin.prototype.getQualityMenuItem = function getQualityMenuItem(item) {\n    var player = this.player;\n\n    return new QualityMenuItem(player, item, this._qualityMenu, this);\n  };\n\n  QualitySelectorPlugin.prototype.onAddQualityLevel = function onAddQualityLevel() {\n    var _this = this;\n\n    var player = this.player;\n    var levels = this.qualityParams;\n    var levelItems = [];\n\n    var _loop = function _loop(i) {\n      if (\n        !levelItems.filter(function (_existingItem) {\n          return _existingItem.item && _existingItem.item.level === levels[i].level;\n        }).length\n      ) {\n        var levelItem = _this.getQualityMenuItem.call(_this, {\n          label: levels[i].label,\n          level: levels[i].level,\n          quality: levels[i].quality,\n          selected: levels[i].level == -1 || false,\n        });\n\n        levelItems.push(levelItem);\n      }\n    };\n\n    for (var i = 0; i < levels.length; ++i) {\n      _loop(i);\n    }\n\n    if (this._qualityMenu) {\n      this._qualityMenu.createItems = function () {\n        return levelItems;\n      };\n      this._qualityMenu.update();\n    }\n  };\n\n  QualitySelectorPlugin.prototype.getHls = function getHls() {\n    return this.player.tech({ IWillNotUseThisInPlugins: true }).hls;\n  };\n\n  QualitySelectorPlugin.prototype.setQuality = function setQuality(qualityItem) {\n    var player = this.player;\n    this.getHls()\n      .representations()\n      .forEach(function (rep) {\n        rep.enabled(rep.height === qualityItem.quality || qualityItem.quality === -1);\n      });\n\n    this._qualityMenu.unpressButton();\n  };\n\n  return QualitySelectorPlugin;\n})();\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player object.\n *\n * @param    {Object} [options={}]\n *           A plain object containing options for the plugin.\n */\n\nvar onPlayerReady = function onPlayerReady(player, options) {\n  player.addClass('vjs-quality-selector');\n  player.qualitySelector = new QualitySelectorPlugin(player, options);\n};\n\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function qualitySelector\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\n\nvar qualitySelector = function qualitySelector(options) {\n  var _this = this;\n\n  this.ready(function () {\n    onPlayerReady(_this, videojs.mergeOptions(defaults, options));\n  });\n}; // Register the plugin with video.js.\n\nregisterPlugin('qualitySelector', qualitySelector); // Include the version number.\n\nqualitySelector.VERSION = version;\n\nmodule.exports = qualitySelector;\n","function _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar videojs = _interopDefault(require('video.js'));\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar version = '1.5.0';\n\nvar Button = videojs.getComponent('Button'); // Default options for the plugin.\n\nvar defaults = {}; // Cross-compatibility for Video.js 5 and 6.\n\nvar registerPlugin = videojs.registerPlugin || videojs.plugin; // const dom = videojs.dom || videojs;\n// document.sbInit = 0;\n// videojs.log('seek');\n// videojs.log(videojs === global.videojs);\n// videojs.log(videojs);\n// videojs.log(global.videojs);\n// videojs.log(document.body.querySelector('video'));\n\n/**\n * Function to invoke when the player is ready.\n *\n * This is a great place for your plugin to initialize itself. When this\n * function is called, the player will have its DOM and child components\n * in place.\n *\n * @function onPlayerReady\n * @param    {Player} player\n *           A Video.js player object.\n *\n * @param    {Object} [options={}]\n *           A plain object containing options for the plugin.\n */\n\nvar onPlayerReady = function onPlayerReady(player, options) {\n  player.addClass('vjs-seek-buttons');\n\n  if (options.forward && options.forward > 0) {\n    player.controlBar.seekForward = player.controlBar.addChild(\n      'seekButton',\n      {\n        direction: 'forward',\n        seconds: options.forward,\n      },\n      5,\n    );\n    // player.controlBar.el().insertBefore(player.controlBar.seekForward.el(), player.controlBar.el().firstChild.nextSibling);\n  }\n\n  if (options.back && options.back > 0) {\n    player.controlBar.seekBack = player.controlBar.addChild(\n      'seekButton',\n      {\n        direction: 'back',\n        seconds: options.back,\n      },\n      5,\n    );\n    // player.controlBar.el().insertBefore(player.controlBar.seekBack.el(), player.controlBar.el().firstChild.nextSibling);\n  }\n};\n/**\n * A video.js plugin.\n *\n * In the plugin function, the value of `this` is a video.js `Player`\n * instance. You cannot rely on the player being in a \"ready\" state here,\n * depending on how the plugin is invoked. This may or may not be important\n * to you; if not, remove the wait for \"ready\"!\n *\n * @function seekButtons\n * @param    {Object} [options={}]\n *           An object of options left to the plugin author to define.\n */\n\nvar seekButtons = function seekButtons(options) {\n  var _this = this;\n\n  // document.sbInit++;\n  this.ready(function () {\n    onPlayerReady(_this, videojs.mergeOptions(defaults, options));\n  });\n}; // Include the version number.\n\nseekButtons.VERSION = version;\n/**\n * Button to seek forward/back\n *\n * @param {Player|Object} player\n * @param {Object=} options\n * @extends Button\n * @class SeekToggle\n */\n\nvar SeekButton =\n  /*#__PURE__*/\n  (function (_Button) {\n    _inheritsLoose(SeekButton, _Button);\n\n    function SeekButton(player, options) {\n      var _this2;\n\n      _this2 = _Button.call(this, player, options) || this;\n\n      if (_this2.options_.direction === 'forward') {\n        _this2.controlText(\n          // _this2.localize('Seek forward {{seconds}}s').replace('{{seconds}}', _this2.options_.seconds),\n          '15 Sekunden vorwärts',\n        );\n      } else if (_this2.options_.direction === 'back') {\n        _this2.controlText(\n          // _this2.localize('Seek back {{seconds}}s').replace('{{seconds}}', _this2.options_.seconds)\n          '15 Sekunden zurückspulen',\n        );\n      }\n\n      return _this2;\n    }\n\n    var _proto = SeekButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      /* Each button will have the classes:\n       `vjs-seek-button`\n       `skip-forward` or `skip-back`\n       `skip-n` where `n` is the number of seconds\n       So you could have a generic icon for \"skip back\" and a more\n       specific one for \"skip back 30 seconds\"\n    */\n      return (\n        'vjs-seek-button skip-' +\n        this.options_.direction +\n        ' ' +\n        ('skip-' + this.options_.seconds + ' ' + _Button.prototype.buildCSSClass.call(this))\n      );\n    };\n\n    _proto.handleClick = function handleClick() {\n      var now = this.player_.currentTime();\n\n      if (this.options_.direction === 'forward') {\n        this.player_.currentTime(now + this.options_.seconds);\n      } else if (this.options_.direction === 'back') {\n        this.player_.currentTime(now - this.options_.seconds);\n      }\n    };\n\n    return SeekButton;\n  })(Button); // console.log('register component with', videojs.VERSION, videojs);\n\nvideojs.registerComponent('SeekButton', SeekButton); // Register the plugin with video.js.\n\nregisterPlugin('seekButtons', seekButtons);\n\nmodule.exports = seekButtons;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailWrapperContainer\":\"MobilityDetail_detailWrapperContainer__3pS4z\",\"videoWrapper\":\"MobilityDetail_videoWrapper__3N8GP\",\"tags\":\"MobilityDetail_tags__ASK7K\",\"listVideosWrapper\":\"MobilityDetail_listVideosWrapper__3IM6q\",\"listVideos\":\"MobilityDetail_listVideos__QEinQ\",\"author\":\"MobilityDetail_author__239cv\"};"],"sourceRoot":""}