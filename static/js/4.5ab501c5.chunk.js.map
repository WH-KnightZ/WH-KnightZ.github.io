{"version":3,"sources":["views/containers/Searchbar.tsx","extensions/utilities.ts","views/containers/AccountPopover.tsx","views/containers/LanguagePopover.tsx","views/containers/Navbar.tsx","views/containers/Sidebar.tsx","views/containers/DashboardBar.tsx","views/login/Login.tsx","views/autoBook/ModalRelative.tsx","views/autoBook/payment.ts","views/autoBook/AutoBook.tsx","views/more/More.tsx","views/containers/Layout.tsx"],"names":["Searchbar","t","useTranslation","useState","isOpen","setOpen","handleClose","ClickAwayListener","onClickAway","IconButton","onClick","prev","icon","Slide","direction","in","mountOnEnter","unmountOnExit","className","Input","autoFocus","fullWidth","disableUnderline","placeholder","startAdornment","InputAdornment","position","sx","mr","fontWeight","Button","variant","actionSignOut","history","dispatch","ls","remove","type","axios","defaults","headers","common","push","menuOptions","label","linkTo","AccountPopover","anchorRef","useRef","open","auth","useAuth","useHistory","useDispatch","ref","padding","width","height","zIndex","content","borderRadius","bgcolor","theme","alpha","palette","grey","Avatar","src","avatar_url","alt","onClose","anchorEl","current","Box","my","px","Typography","noWrap","full_name","color","email","Divider","map","option","MenuItem","to","component","RouterLink","typography","py","display","alignItems","p","pt","langs","value","LanguagePopover","language","setLanguage","useEffect","currentLanguage","i18next","index","findIndex","item","primary","main","action","focusOpacity","selected","changeLanguage","handleClick","ListItemIcon","ListItemText","primaryTypographyProps","RootStyle","styled","AppBar","boxShadow","backdropFilter","WebkitBackdropFilter","backgroundColor","background","default","breakpoints","up","DRAWER_WIDTH","ToolbarStyle","Toolbar","minHeight","spacing","Navbar","onOpenSidebar","flexGrow","Stack","xs","sm","sidebarConfig","title","path","SCREENS","LOGIN","AUTO_BOOK","MORE","flexShrink","AccountStyle","shape","borderRadiusSm","Sidebar","isOpenSidebar","onCloseSidebar","screen","useSelector","state","renderContent","mb","mx","Link","underline","ml","style","overflow","textOverflow","navConfig","pb","mt","imgLogo","margin","textAlign","FormLabel","fontSize","Drawer","PaperProps","DashboardBar","LoginSchema","Yup","required","password","Login","callApi","useApi","loading","changeScreen","useScreen","updateProfile","user","get","env","setEnv","formik","useFormik","initialValues","validationSchema","onSubmit","method","api","body","status","data","id_token","set","first_name","last_name","avatar","errors","values","handleSubmit","getFieldProps","isValid","maxWidth","autoComplete","noValidate","invalid","error","disabled","Select","onChange","e","newEnv","target","baseURL","baseURLs","size","Schema","ModalRelative","props","show","setRelatives","relative","enableReinitialize","relatives","resetForm","dirty","validateForm","setTimeout","Dialog","DialogTitle","DialogContent","DialogActions","token","publicKey","account","paymentIntent","payment","price","appointmentId","appointmentName","qs","stringify","amount","currency","receipt_email","configBody","url","Authorization","then","response","name","paymentId","paymentMethod","clientSecret","createToast","done","payment_method","key","_stripe_account","message","confirmPayment","client_secret","id","pay","require","catch","console","log","createPaymentMethod","Users","useModalConfirm","showModalConfirm","hideModalConfirm","useLoading","startLoading","stopLoading","useToasts","appointmentType","setAppointmentType","setAmount","time","setTime","amountOK","setAmountOK","modalRelative","setModalRelative","autoPay","setAutoPay","interval","stop","a","clearInterval","amountOK1","i","confirm","text","Grid","container","md","flexDirection","minWidth","toString","Checkbox","checked","marginLeft","marginRight","newAmount","Number","newTime","newAppointmentType","setInterval","begin","Math","ceil","Date","getTime","end","appointment_type","result_survey","undefined","appointment_time_begin","appointment_time_end","cost","selected_treatments_id","customer_gender","phone_number","street","postcode","no","place","x","newX","treatments","diseases_title","justifyContent","marginBottom","startIcon","readOnly","filter","_relative","More","Container","href","window","Layout","Render","AutoBook","gutterBottom","SCREENS_TITLE"],"mappings":"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","file":"static/js/4.5ab501c5.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Input, Slide, Button, InputAdornment, ClickAwayListener, IconButton } from '@material-ui/core';\r\nimport { MaterialIcon } from 'components';\r\nimport './Searchbar.scss';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst Searchbar: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  const handleOpen = () => {\r\n    setOpen((prev) => !prev);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <ClickAwayListener onClickAway={handleClose}>\r\n      <div>\r\n        {!isOpen && (\r\n          <IconButton onClick={handleOpen}>\r\n            <MaterialIcon icon=\"search\" />\r\n          </IconButton>\r\n        )}\r\n\r\n        <Slide direction=\"down\" in={isOpen} mountOnEnter unmountOnExit>\r\n          <div className=\"Searchbar\">\r\n            <Input\r\n              autoFocus\r\n              fullWidth\r\n              disableUnderline\r\n              placeholder={t('search') + ' …'}\r\n              startAdornment={\r\n                <InputAdornment position=\"start\">\r\n                  <MaterialIcon icon=\"search\" />\r\n                </InputAdornment>\r\n              }\r\n              sx={{ mr: 1, fontWeight: 'fontWeightBold' }}\r\n            />\r\n            <Button variant=\"contained\" onClick={handleClose}>\r\n              {t('search')}\r\n            </Button>\r\n          </div>\r\n        </Slide>\r\n      </div>\r\n    </ClickAwayListener>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\nimport { ls } from './extensions';\r\n\r\n/**\r\n * Create title from snake case\r\n * @param str\r\n */\r\nexport const titleCase = (str: string) => {\r\n  return str\r\n    .replaceAll('_', ' ')\r\n    .split(' ')\r\n    .map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase())\r\n    .join(' ');\r\n};\r\n\r\n/**\r\n * Get user info from local storage\r\n */\r\nexport const getUserLS = () => {\r\n  return ls.get('user') || {};\r\n};\r\n\r\n/**\r\n * Save user info to local storage\r\n * @param user\r\n */\r\nexport const addUserLS = (user: any) => {\r\n  let newUser = ls.get('user') || {};\r\n  ls.set('user', { ...newUser, ...user });\r\n};\r\n\r\n/**\r\n * Clear user info from local storage\r\n */\r\nexport const removeUserLS = () => {\r\n  ls.remove('user');\r\n};\r\n\r\n/**\r\n * Sign out\r\n */\r\nexport const actionSignOut = ({ history, dispatch }: { history: any; dispatch: any }) => {\r\n  removeUserLS();\r\n  dispatch({ type: 'SIGN_OUT' });\r\n  axios.defaults.headers.common['Authorization'] = '';\r\n  history.push('/');\r\n};\r\n\r\n/**\r\n * Add column no to the table\r\n * @param item\r\n * @param index\r\n * @param page\r\n */\r\nexport const addNo = (item: any, index: number, page: number, pageSize: number) => {\r\n  return { ...item, no: index + 1 + pageSize * (page - 1) };\r\n};\r\n","import React, { useRef, useState } from 'react';\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\r\nimport { alpha } from '@material-ui/core/styles';\r\nimport { Button, Box, Divider, MenuItem, Typography, Avatar, IconButton } from '@material-ui/core';\r\nimport { MaterialIcon, MenuPopover } from 'components';\r\nimport { useAuth } from 'extensions/hooks';\r\nimport { actionSignOut } from 'extensions/utilities';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst menuOptions = [\r\n  {\r\n    label: 'home',\r\n    icon: 'home',\r\n    linkTo: '/',\r\n  },\r\n  {\r\n    label: 'profile',\r\n    icon: 'person',\r\n    linkTo: '#',\r\n  },\r\n  {\r\n    label: 'settings',\r\n    icon: 'settings',\r\n    linkTo: '#',\r\n  },\r\n];\r\n\r\nconst AccountPopover: React.FC = () => {\r\n  const { t } = useTranslation();\r\n\r\n  const anchorRef = useRef(null);\r\n  const [open, setOpen] = useState(false);\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        ref={anchorRef}\r\n        onClick={handleOpen}\r\n        sx={{\r\n          padding: 0,\r\n          width: 44,\r\n          height: 44,\r\n          ...(open && {\r\n            '&:before': {\r\n              zIndex: 1,\r\n              content: \"''\",\r\n              width: '100%',\r\n              height: '100%',\r\n              borderRadius: '50%',\r\n              position: 'absolute',\r\n              bgcolor: (theme) => alpha(theme.palette.grey[900], 0.15),\r\n            },\r\n          }),\r\n        }}\r\n      >\r\n        <Avatar src={auth.avatar_url} alt=\"avatar\" />\r\n      </IconButton>\r\n\r\n      <MenuPopover open={open} onClose={handleClose} anchorEl={anchorRef.current} sx={{ width: 220 }}>\r\n        <Box sx={{ my: 1.5, px: 2.5 }}>\r\n          <Typography variant=\"subtitle1\" noWrap>\r\n            {auth.full_name}\r\n          </Typography>\r\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }} noWrap>\r\n            {auth.email}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Divider sx={{ my: 1 }} />\r\n\r\n        {menuOptions.map((option) => (\r\n          <MenuItem\r\n            key={option.label}\r\n            to={option.linkTo}\r\n            component={RouterLink}\r\n            onClick={handleClose}\r\n            sx={{ typography: 'body2', py: 1, px: 2.5 }}\r\n          >\r\n            <Box mr={2} display=\"flex\" alignItems=\"center\">\r\n              <MaterialIcon icon={option.icon} />\r\n            </Box>\r\n\r\n            {t(option.label)}\r\n          </MenuItem>\r\n        ))}\r\n\r\n        <Box sx={{ p: 2, pt: 1.5 }}>\r\n          <Button\r\n            fullWidth\r\n            color=\"inherit\"\r\n            variant=\"outlined\"\r\n            onClick={() => {\r\n              actionSignOut({ history, dispatch });\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            {t('logout')}\r\n          </Button>\r\n        </Box>\r\n      </MenuPopover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountPopover;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { alpha } from '@material-ui/core/styles';\r\nimport { Box, MenuItem, ListItemIcon, ListItemText, IconButton } from '@material-ui/core';\r\nimport { MenuPopover } from 'components';\r\nimport i18next from 'i18next';\r\n\r\nconst langs = [\r\n  {\r\n    value: 'vi',\r\n    label: 'Tiếng Việt',\r\n    icon: '/static/icons/ic_flag_vi.svg',\r\n  },\r\n  {\r\n    value: 'en',\r\n    label: 'English',\r\n    icon: '/static/icons/ic_flag_en.svg',\r\n  },\r\n];\r\n\r\nconst LanguagePopover: React.FC = () => {\r\n  const anchorRef = useRef(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [language, setLanguage] = useState(0);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClick = (language: number) => {\r\n    i18next.changeLanguage(langs[language].value);\r\n    setLanguage(language);\r\n    handleClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const currentLanguage = i18next.language || langs[0].value;\r\n    const index = langs.findIndex((item) => item.value === currentLanguage);\r\n    setLanguage(index);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        ref={anchorRef}\r\n        onClick={handleOpen}\r\n        sx={{\r\n          padding: 0,\r\n          width: 44,\r\n          height: 44,\r\n          ...(open && {\r\n            bgcolor: (theme) => alpha(theme.palette.primary.main, theme.palette.action.focusOpacity),\r\n          }),\r\n        }}\r\n      >\r\n        <img src={langs[language].icon} alt={langs[language].label} />\r\n      </IconButton>\r\n\r\n      <MenuPopover open={open} onClose={handleClose} anchorEl={anchorRef.current}>\r\n        <Box sx={{ py: 1 }}>\r\n          {langs.map((option, index) => (\r\n            <MenuItem\r\n              key={option.value}\r\n              selected={option.value === langs[language].value}\r\n              onClick={() => handleClick(index)}\r\n              sx={{ py: 1, px: 2.5 }}\r\n            >\r\n              <ListItemIcon>\r\n                <Box component=\"img\" alt={option.label} src={option.icon} />\r\n              </ListItemIcon>\r\n              <ListItemText primaryTypographyProps={{ variant: 'body2' }}>{option.label}</ListItemText>\r\n            </MenuItem>\r\n          ))}\r\n        </Box>\r\n      </MenuPopover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LanguagePopover;\r\n","import React from 'react';\r\nimport { alpha, styled } from '@material-ui/core/styles';\r\nimport { Box, Stack, AppBar, Toolbar, IconButton } from '@material-ui/core';\r\nimport { MHidden, MaterialIcon } from 'components';\r\nimport Searchbar from './Searchbar';\r\nimport AccountPopover from './AccountPopover';\r\nimport LanguagePopover from './LanguagePopover';\r\n\r\nconst DRAWER_WIDTH = 280;\r\nconst APPBAR_MOBILE = 64;\r\nconst APPBAR_DESKTOP = 92;\r\n\r\nconst RootStyle = styled(AppBar)(({ theme }) => ({\r\n  boxShadow: 'none',\r\n  backdropFilter: 'blur(6px)',\r\n  WebkitBackdropFilter: 'blur(6px)',\r\n  backgroundColor: alpha(theme.palette.background.default, 0.72),\r\n  [theme.breakpoints.up('lg')]: {\r\n    width: `calc(100% - ${DRAWER_WIDTH + 1}px)`,\r\n  },\r\n}));\r\n\r\nconst ToolbarStyle = styled(Toolbar)(({ theme }) => ({\r\n  minHeight: APPBAR_MOBILE,\r\n  [theme.breakpoints.up('lg')]: {\r\n    minHeight: APPBAR_DESKTOP,\r\n    padding: theme.spacing(0, 5),\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  onOpenSidebar: () => void;\r\n}\r\n\r\nconst Navbar: React.FC<Props> = ({ onOpenSidebar }) => {\r\n  return (\r\n    <RootStyle>\r\n      <ToolbarStyle>\r\n        <MHidden width=\"lgUp\">\r\n          <IconButton onClick={onOpenSidebar} sx={{ mr: 1, color: 'text.primary' }}>\r\n            <MaterialIcon icon=\"menu_open\" color=\"#666\" />\r\n          </IconButton>\r\n        </MHidden>\r\n\r\n        <Searchbar />\r\n        <Box sx={{ flexGrow: 1 }} />\r\n\r\n        <Stack direction=\"row\" alignItems=\"center\" spacing={{ xs: 0.5, sm: 1.5 }}>\r\n          <LanguagePopover />\r\n          <AccountPopover />\r\n        </Stack>\r\n      </ToolbarStyle>\r\n    </RootStyle>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useEffect } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { styled } from '@material-ui/core/styles';\r\nimport { Box, Link, Drawer, Typography, Avatar, Stack, FormLabel } from '@material-ui/core';\r\nimport { MHidden, NavSection, Scrollbar } from 'components';\r\nimport { useAuth } from 'extensions/hooks';\r\nimport { imgLogo } from 'extensions/extensions';\r\nimport { SCREENS } from 'extensions/constants';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from 'store';\r\n\r\nconst sidebarConfig = [\r\n  {\r\n    title: 'Đăng Nhập',\r\n    path: SCREENS.LOGIN,\r\n    icon: 'account_circle',\r\n  },\r\n  {\r\n    title: 'Auto Book',\r\n    path: SCREENS.AUTO_BOOK,\r\n    icon: 'book_online',\r\n  },\r\n  {\r\n    title: 'Chưa Nghĩ Ra',\r\n    path: SCREENS.MORE,\r\n    icon: 'more_time',\r\n  },\r\n];\r\n\r\nconst DRAWER_WIDTH = 280;\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  [theme.breakpoints.up('lg')]: {\r\n    flexShrink: 0,\r\n    width: DRAWER_WIDTH,\r\n  },\r\n}));\r\n\r\nconst AccountStyle = styled('div')(({ theme }: any) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(2, 2.5),\r\n  borderRadius: theme.shape.borderRadiusSm,\r\n  backgroundColor: theme.palette.grey[200],\r\n}));\r\n\r\ninterface Props {\r\n  isOpenSidebar: boolean;\r\n  onCloseSidebar: () => void;\r\n}\r\n\r\nconst Sidebar: React.FC<Props> = ({ isOpenSidebar, onCloseSidebar }) => {\r\n  const auth = useAuth();\r\n  const screen = useSelector((state: RootState) => state.screen);\r\n\r\n  useEffect(() => {\r\n    if (isOpenSidebar) {\r\n      onCloseSidebar();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [screen]);\r\n\r\n  const renderContent = (\r\n    <Scrollbar\r\n      sx={{\r\n        height: '100%',\r\n        // '& .simplebar-content': { height: '100%', display: 'flex', flexDirection: 'column' },\r\n      }}\r\n    >\r\n      <Box sx={{ px: 2.5, py: 3 }}>\r\n        <Box component={RouterLink} to=\"/\" sx={{ display: 'inline-flex' }}></Box>\r\n      </Box>\r\n\r\n      <Box sx={{ mb: 5, mx: 2.5 }}>\r\n        <Link underline=\"none\" component={RouterLink} to=\"#\">\r\n          <AccountStyle>\r\n            <Avatar src={auth.avatar_url} alt=\"avatar\" />\r\n            <Box sx={{ ml: 2 }} style={{ overflow: 'hidden' }}>\r\n              <Typography variant=\"subtitle2\" sx={{ color: 'text.primary' }}>\r\n                {auth.full_name}\r\n              </Typography>\r\n              <Typography\r\n                style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\r\n                variant=\"body2\"\r\n                sx={{ color: 'text.secondary' }}\r\n              >\r\n                {auth.email}\r\n              </Typography>\r\n            </Box>\r\n          </AccountStyle>\r\n        </Link>\r\n      </Box>\r\n\r\n      <NavSection navConfig={sidebarConfig} />\r\n\r\n      <Box sx={{ flexGrow: 1 }} />\r\n\r\n      <Box sx={{ px: 2.5, pb: 3, mt: 10 }}>\r\n        <Stack\r\n          alignItems=\"center\"\r\n          spacing={3}\r\n          sx={{\r\n            p: 2.5,\r\n            borderRadius: 2,\r\n            position: 'relative',\r\n            bgcolor: 'grey.200',\r\n          }}\r\n        >\r\n          {imgLogo}\r\n        </Stack>\r\n        <Box style={{ margin: '28px auto 12px', textAlign: 'center' }}>\r\n          <FormLabel style={{ fontSize: 15 }}>by khanh.nguyen@boot.ai</FormLabel>\r\n        </Box>\r\n      </Box>\r\n    </Scrollbar>\r\n  );\r\n\r\n  return (\r\n    <RootStyle>\r\n      <MHidden width=\"lgUp\">\r\n        <Drawer\r\n          open={isOpenSidebar}\r\n          onClose={onCloseSidebar}\r\n          PaperProps={{\r\n            sx: { width: DRAWER_WIDTH },\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      </MHidden>\r\n\r\n      <MHidden width=\"lgDown\">\r\n        <Drawer\r\n          open\r\n          variant=\"persistent\"\r\n          PaperProps={{\r\n            sx: {\r\n              width: DRAWER_WIDTH,\r\n              bgcolor: 'background.default',\r\n            },\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      </MHidden>\r\n    </RootStyle>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport Navbar from './Navbar';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst DashboardBar: React.FC = () => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <Navbar onOpenSidebar={() => setOpen(true)} />\r\n      <Sidebar isOpenSidebar={open} onCloseSidebar={() => setOpen(false)} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DashboardBar;\r\n","import React, { useState } from 'react';\r\nimport { MenuItem, Select, Stack } from '@material-ui/core';\r\nimport { FocusInput, LoadingButton } from 'components';\r\nimport { useApi, useAuth, useScreen } from 'extensions/hooks';\r\nimport * as Yup from 'yup';\r\nimport { useFormik, Form, FormikProvider } from 'formik';\r\nimport axios from 'axios';\r\nimport { ls } from 'extensions/extensions';\r\nimport { SCREENS } from 'extensions/constants';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from 'store';\r\nimport { baseURLs } from 'extensions/configs';\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n  email: Yup.string().email('email_not_valid').required(),\r\n  password: Yup.string().required(),\r\n});\r\n\r\nconst Login: React.FC = () => {\r\n  const { callApi } = useApi();\r\n  const loading = useSelector((state: RootState) => state.loading);\r\n  const { changeScreen } = useScreen();\r\n  const { updateProfile } = useAuth();\r\n  const user = ls.get('user');\r\n  const email = user?.email || 'lehuong.hp9794@gmail.com';\r\n  const password = user?.password || 'Admin@1234';\r\n  const [env, setEnv] = useState('STG');\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email,\r\n      password,\r\n    },\r\n    validationSchema: LoginSchema,\r\n    onSubmit: ({ email, password }) => {\r\n      callApi(\r\n        { method: 'post', api: 'user/auth/signin', body: { email, password }, loading: true },\r\n        ({ status, data }) => {\r\n          if (status === 'success') {\r\n            axios.defaults.headers.common['Authorization'] = data.id_token;\r\n            ls.set('user', { email, password });\r\n            updateProfile({\r\n              ...data,\r\n              email,\r\n              full_name: data.first_name + ' ' + data.last_name,\r\n              avatar_url: data.avatar,\r\n            });\r\n            changeScreen(SCREENS.AUTO_BOOK);\r\n          }\r\n        },\r\n      );\r\n    },\r\n  });\r\n\r\n  const { errors, values, handleSubmit, getFieldProps, isValid } = formik;\r\n\r\n  const changeEnv = (e: any) => {\r\n    const newEnv = e.target.value;\r\n    axios.defaults.baseURL = baseURLs[newEnv];\r\n    setEnv(newEnv);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 500, margin: '0 auto' }}>\r\n      <FormikProvider value={formik}>\r\n        <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n          <Stack spacing={3} my={3}>\r\n            <FocusInput\r\n              autoComplete=\"email\"\r\n              type=\"email\"\r\n              label=\"Email\"\r\n              {...getFieldProps('email')}\r\n              invalid={!!values.email && !!errors.email}\r\n              error=\"Email không hợp lệ!\"\r\n              disabled={loading}\r\n            />\r\n\r\n            <FocusInput\r\n              autoComplete=\"new-password\"\r\n              label=\"Mật Khẩu\"\r\n              {...getFieldProps('password')}\r\n              invalid={!!values.password && !!errors.password}\r\n              error=\"\"\r\n              disabled={loading}\r\n            />\r\n\r\n            <Select style={{ width: '100%' }} value={env} onChange={changeEnv} disabled={loading}>\r\n              <MenuItem value=\"STG\">Môi trường STG</MenuItem>\r\n              <MenuItem value=\"UAT\">Môi trường UAT</MenuItem>\r\n              <MenuItem value=\"PRD\">Môi trường PRD</MenuItem>\r\n            </Select>\r\n          </Stack>\r\n\r\n          <LoadingButton loading={loading} fullWidth size=\"large\" type=\"submit\" variant=\"contained\" disabled={!isValid}>\r\n            Đăng Nhập\r\n          </LoadingButton>\r\n        </Form>\r\n      </FormikProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import * as Yup from 'yup';\r\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@material-ui/core';\r\nimport { FocusInput } from 'components';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\nimport React, { useEffect } from 'react';\r\nimport { ls } from 'extensions/extensions';\r\n\r\nconst Schema = Yup.object().shape({\r\n  email: Yup.string().email('Email không hợp lệ!').required(),\r\n  first_name: Yup.string().required(),\r\n  last_name: Yup.string().required(),\r\n});\r\n\r\ninterface Props {\r\n  show: boolean;\r\n  type: 'create' | 'update';\r\n  onClose?: any;\r\n  initialValues: { [key: string]: any };\r\n  setRelatives: any;\r\n}\r\n\r\nconst ModalRelative: React.FC<Props> = (props) => {\r\n  let { show, type, onClose, initialValues, setRelatives } = props;\r\n  const relative = ls.get('relative');\r\n  if (ls && type === 'create')\r\n    initialValues = {\r\n      email: relative?.email || '',\r\n      first_name: relative?.first_name || '',\r\n      last_name: relative?.last_name || '',\r\n    };\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    enableReinitialize: true,\r\n    validationSchema: Schema,\r\n    onSubmit: ({ email, first_name, last_name }) => {\r\n      setRelatives((relatives: any) => {\r\n        if (relatives.findIndex((item: any) => item.email === email) !== -1) return relatives;\r\n        return [{ email, first_name, last_name }, ...relatives];\r\n      });\r\n      if (type === 'create') ls.set('relative', { email, first_name, last_name });\r\n      onClose();\r\n    },\r\n  });\r\n\r\n  const { errors, values, handleSubmit, getFieldProps, isValid, resetForm, dirty, validateForm } = formik;\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    resetForm();\r\n    setTimeout(() => validateForm(), 10);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [show]);\r\n\r\n  return (\r\n    <Dialog open={show} fullWidth maxWidth=\"sm\">\r\n      <FormikProvider value={formik}>\r\n        <Form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n          <DialogTitle>{type === 'create' ? 'Thêm Người Thân' : 'Sửa Người Thân'}</DialogTitle>\r\n          <DialogContent>\r\n            <Box py={1}>\r\n              <FocusInput\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                {...getFieldProps('email')}\r\n                invalid={!!values.email && !!errors.email}\r\n                error={errors.email}\r\n              />\r\n            </Box>\r\n            <Box py={1}>\r\n              <FocusInput\r\n                label=\"Họ\"\r\n                {...getFieldProps('last_name')}\r\n                invalid={!!values.last_name && !!errors.last_name}\r\n                error={errors.last_name}\r\n              />\r\n            </Box>\r\n            <Box py={1}>\r\n              <FocusInput\r\n                label=\"Tên\"\r\n                {...getFieldProps('first_name')}\r\n                invalid={!!values.first_name && !!errors.first_name}\r\n                error={errors.first_name}\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Box mr={1} mb={1}>\r\n              <Button type=\"button\" onClick={onClose} color=\"primary\">\r\n                Hủy\r\n              </Button>\r\n            </Box>\r\n            <Box mr={1} mb={1}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={!isValid || (type === 'update' ? !dirty : false)}\r\n              >\r\n                {type === 'create' ? 'Thêm' : 'Sửa'}\r\n              </Button>\r\n            </Box>\r\n          </DialogActions>\r\n        </Form>\r\n      </FormikProvider>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ModalRelative;\r\n","import qs from 'qs';\r\nimport axios from 'axios';\r\n\r\nexport type PaymentType = {\r\n  appointmentId: string;\r\n  appointmentName: string;\r\n  price: string;\r\n  paymentId?: string;\r\n  paymentMethod?: string;\r\n  email?: string;\r\n  name?: string;\r\n  createToast?: any;\r\n  clientSecret?: string;\r\n  done: any;\r\n};\r\n\r\nconst token =\r\n  'Bearer sk_test_51J8hJ1HOUefBe0xwQGnhxP5vTD5KfnnR7MJDQh0JdM5o6rJ46Z7XsCUZ7HL5jy8FCalrXqDEmxqL8zAgQBhnLWim00LbEy0JdS';\r\nconst publicKey =\r\n  'pk_test_51J8hJ1HOUefBe0xw2JCZmcGDGPgR8fwuGChF0HKgCGqjmIRjcgVrybQhXOwI9XXJ3MuZPKrPANlcpYNMIKAhmB2T001QhHT6nh';\r\nconst account = 'acct_1J8hJ1HOUefBe0xw';\r\n\r\nconst type = 'card';\r\nconst cardNumber = '4242424242424242';\r\nconst cardCVC = '424';\r\nconst cardExpMonth = '04';\r\nconst cardExpYear = '24';\r\n\r\nconst confirmPayment = ({ name, email, paymentId, clientSecret, paymentMethod, createToast, done }: PaymentType) => {\r\n  const data = qs.stringify({\r\n    receipt_email: email,\r\n    payment_method: paymentMethod,\r\n    key: publicKey,\r\n    _stripe_account: account,\r\n    // client_secret: clientSecret,\r\n  });\r\n  const configBody: any = {\r\n    method: 'post',\r\n    url: `https://api.stripe.com/v1/payment_intents/${paymentId}/confirm`,\r\n    headers: {\r\n      Authorization: token,\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  axios(configBody).then((response: any) => {\r\n    createToast({ message: 'Thanh toán thành công!' });\r\n    done();\r\n  });\r\n};\r\n\r\nconst paymentIntent = (payment: PaymentType) => {\r\n  const { price, appointmentId, appointmentName, email } = payment;\r\n  const data = qs.stringify({\r\n    amount: price || 99,\r\n    currency: 'eur',\r\n    'payment_method_types[]': type,\r\n    'metadata[appointment_id]': appointmentId,\r\n    'metadata[type]': 'appointment',\r\n    'metadata[product_name]': appointmentName,\r\n    receipt_email: email,\r\n  });\r\n  const configBody: any = {\r\n    method: 'post',\r\n    url: 'https://api.stripe.com/v1/payment_intents',\r\n    headers: {\r\n      Authorization: token,\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  axios(configBody).then((response: any) => {\r\n    confirmPayment({ ...payment, clientSecret: response.data.client_secret, paymentId: response.data.id });\r\n  });\r\n};\r\n\r\nconst createPaymentMethod = (payment: PaymentType) => {\r\n  var axios = require('axios');\r\n  var qs = require('qs');\r\n  var data = qs.stringify({\r\n    type: 'card',\r\n    'card[number]': cardNumber,\r\n    'card[cvc]': cardCVC,\r\n    'card[exp_month]': cardExpMonth,\r\n    'card[exp_year]': cardExpYear,\r\n    _stripe_account: account,\r\n    key: publicKey,\r\n  });\r\n  var config = {\r\n    method: 'post',\r\n    url: 'https://api.stripe.com/v1/payment_methods',\r\n    headers: {\r\n      Authorization: token,\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    data: data,\r\n  };\r\n\r\n  axios(config)\r\n    .then((response: any) => {\r\n      const data = response.data;\r\n      paymentIntent({ ...payment, paymentMethod: data.id });\r\n    })\r\n    .catch((error: any) => {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nexport const pay = (payment: PaymentType) => {\r\n  createPaymentMethod(payment);\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Stack, Select, MenuItem, FormLabel, Box, Grid, Button, Checkbox } from '@material-ui/core';\r\nimport { FocusInput, LoadingButton, MaterialIcon } from 'components';\r\nimport { useApi, useAuth, useLoading, useModalConfirm, useScreen, useToasts } from 'extensions/hooks';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from 'store';\r\nimport { SCREENS } from 'extensions/constants';\r\nimport ModalRelative from './ModalRelative';\r\nimport { pay, PaymentType } from './payment';\r\nimport './AutoBook.scss';\r\n\r\nconst initialValues = {\r\n  email: '',\r\n  first_name: '',\r\n  last_name: '',\r\n};\r\n\r\ntype RelativeType = {\r\n  email: string;\r\n  first_name: string;\r\n  last_name: string;\r\n};\r\n\r\nconst Users: React.FC = () => {\r\n  const { showModalConfirm, hideModalConfirm } = useModalConfirm();\r\n  const { startLoading, stopLoading } = useLoading();\r\n  const { callApi } = useApi();\r\n  const { changeScreen } = useScreen();\r\n  const { createToast } = useToasts();\r\n  const auth = useAuth();\r\n\r\n  const [appointmentType, setAppointmentType] = useState(1);\r\n  const [amount, setAmount] = useState(15);\r\n  const [time, setTime] = useState(15);\r\n  const [amountOK, setAmountOK] = useState(0);\r\n  const [modalRelative, setModalRelative] = useState<{ type: 'create' | 'update'; show: boolean; initialValues: any }>({\r\n    show: false,\r\n    type: 'create',\r\n    initialValues,\r\n  });\r\n  const [autoPay, setAutoPay] = useState(true);\r\n  const [relatives, setRelatives] = useState<RelativeType[]>([\r\n    {\r\n      email: 'hang.bui@boot.ai',\r\n      first_name: 'Hang',\r\n      last_name: 'Bui',\r\n    },\r\n    {\r\n      email: 'lethihuong_t61@hus.edu.vn',\r\n      first_name: 'Huong',\r\n      last_name: 'Le',\r\n    },\r\n  ]);\r\n\r\n  const interval = useRef<any>();\r\n\r\n  const loading = useSelector((state: RootState) => state.loading);\r\n\r\n  const stop = async () => {\r\n    stopLoading();\r\n    clearInterval(interval.current);\r\n    let amountOK1 = 0;\r\n    await setAmountOK((i) => {\r\n      amountOK1 = i;\r\n      return i;\r\n    });\r\n    showModalConfirm({\r\n      title: 'Thông Báo',\r\n      content: `Đã book thành công ${amountOK1} trong tổng số ${amount} appointments!`,\r\n      confirm: {\r\n        text: 'OK',\r\n        action: () => hideModalConfirm(),\r\n      },\r\n    });\r\n  };\r\n\r\n  const book = () => {\r\n    setAmountOK(0);\r\n    const newAmount = Number(amount);\r\n    const newTime = Number(time) * 60;\r\n    const newAppointmentType = Number(appointmentType);\r\n    startLoading();\r\n    let i = 0;\r\n    interval.current = setInterval(() => {\r\n      let begin = Math.ceil(new Date().getTime() / 1000 / 900) * 900 + newTime * i;\r\n      let end = begin + newTime;\r\n      const a = {\r\n        appointment_type: Number(appointmentType),\r\n        result_survey: newAppointmentType === 1 ? {} : undefined,\r\n        relatives:\r\n          newAppointmentType === 1\r\n            ? [\r\n                {\r\n                  email: 'nguyenkhanhsl1997@gmail.com',\r\n                  first_name: 'Khanh',\r\n                  last_name: 'Nguyen',\r\n                },\r\n                ...relatives,\r\n              ]\r\n            : undefined,\r\n        appointment_time_begin: begin,\r\n        appointment_time_end: end,\r\n        cost: 54.0,\r\n        selected_treatments_id: newAppointmentType === 1 ? 2 : undefined,\r\n        customer_gender: 0,\r\n        phone_number: '+843456789',\r\n        street: 'Ha Noi',\r\n        postcode: '0809',\r\n        no: '0809',\r\n        place: '0809',\r\n      };\r\n      callApi({ method: 'post', api: 'consulting/appointments', body: a }, ({ status, data }) => {\r\n        const done = () =>\r\n          setAmountOK((x) => {\r\n            const newX = x + 1;\r\n            if (newX >= newAmount) stop();\r\n            return newX;\r\n          });\r\n        if (autoPay && status === 'success') {\r\n          const { treatments } = data;\r\n          const payment: PaymentType = {\r\n            appointmentName: treatments?.diseases_title,\r\n            appointmentId: data.id,\r\n            price: treatments?.price,\r\n            email: auth.email,\r\n            name: auth.first_name + ' ' + auth.last_name,\r\n            createToast,\r\n            done,\r\n          };\r\n          pay(payment);\r\n        } else done();\r\n      });\r\n      i += 1;\r\n      if (i >= newAmount) clearInterval(interval.current);\r\n    }, 500);\r\n  };\r\n\r\n  const renderRelative = (relative: RelativeType) => {\r\n    return (\r\n      <Stack key={relative.email} direction=\"row\" spacing={2} mb={3}>\r\n        <FocusInput size=\"small\" type=\"email\" label=\"Email\" value={relative.email} name=\"email\" readOnly />\r\n        <Stack direction=\"row\" spacing={1}>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ minWidth: 40, width: 40 }}\r\n            onClick={() => setModalRelative({ show: true, type: 'update', initialValues: relative })}\r\n          >\r\n            <MaterialIcon icon=\"edit\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ minWidth: 40, width: 40 }}\r\n            color=\"error\"\r\n            onClick={() => setRelatives(relatives.filter((_relative) => _relative.email !== relative.email))}\r\n          >\r\n            <MaterialIcon icon=\"delete\" />\r\n          </Button>\r\n        </Stack>\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!auth.id_token)\r\n      showModalConfirm({\r\n        title: 'Thông Báo',\r\n        content: 'Đăng nhập đi đã bạn ê!',\r\n        confirm: {\r\n          text: 'Okii',\r\n          action: () => {\r\n            changeScreen(SCREENS.LOGIN);\r\n            hideModalConfirm();\r\n          },\r\n        },\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"AutoBook\">\r\n      <ModalRelative\r\n        {...modalRelative}\r\n        setRelatives={setRelatives}\r\n        onClose={() => setModalRelative({ ...modalRelative, show: false })}\r\n      />\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={6} className=\"AutoBook-form\">\r\n          <Stack mb={3} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n            <Box style={{ minWidth: 130 }} mr={3}>\r\n              <FormLabel style={{ width: 130 }}>Book cho:</FormLabel>\r\n            </Box>\r\n            <Select\r\n              style={{ width: '100%' }}\r\n              value={appointmentType}\r\n              onChange={(e: any) => setAppointmentType(e.target.value)}\r\n            >\r\n              <MenuItem value={1}>Nurse</MenuItem>\r\n              <MenuItem value={2}>Assistant</MenuItem>\r\n            </Select>\r\n          </Stack>\r\n          <Stack my={3} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n            <Box style={{ minWidth: 130 }} mr={3}>\r\n              <FormLabel style={{ width: 130 }}>Thời gian:</FormLabel>\r\n            </Box>\r\n            <Select style={{ width: '100%' }} value={time} onChange={(e: any) => setTime(e.target.value)}>\r\n              <MenuItem value={15}>15 phút</MenuItem>\r\n              <MenuItem value={30}>30 phút</MenuItem>\r\n              <MenuItem value={45}>45 phút</MenuItem>\r\n              <MenuItem value={60}>1 tiếng</MenuItem>\r\n              <MenuItem value={120}>2 tiếng</MenuItem>\r\n            </Select>\r\n          </Stack>\r\n          <Stack my={3} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n            <Box style={{ minWidth: 130 }} mr={3}>\r\n              <FormLabel style={{ width: 130 }}>Số lượng:</FormLabel>\r\n            </Box>\r\n            <FocusInput\r\n              type=\"number\"\r\n              label=\"Số lượng\"\r\n              value={amount.toString()}\r\n              onChange={(e: any) => setAmount(e.target.value)}\r\n              name=\"amount\"\r\n              disabled={loading}\r\n            />\r\n          </Stack>\r\n          <Stack my={3} display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n            <Box style={{ minWidth: 130 }} mr={3}>\r\n              <FormLabel style={{ width: 130 }}>Thanh toán luôn:</FormLabel>\r\n            </Box>\r\n            <Checkbox checked={autoPay} onChange={() => setAutoPay(!autoPay)} style={{ marginLeft: 10 }} />\r\n          </Stack>\r\n          <Stack display=\"flex\" flexDirection=\"row\" my={3}>\r\n            <LoadingButton\r\n              loading={loading}\r\n              fullWidth\r\n              size=\"large\"\r\n              variant=\"contained\"\r\n              style={{ marginRight: 20 }}\r\n              onClick={book}\r\n            >\r\n              Book\r\n            </LoadingButton>\r\n            <LoadingButton\r\n              loading={false}\r\n              fullWidth\r\n              size=\"large\"\r\n              variant=\"contained\"\r\n              color=\"error\"\r\n              disabled={!loading}\r\n              onClick={stop}\r\n            >\r\n              Dừng\r\n            </LoadingButton>\r\n          </Stack>\r\n          {loading && (\r\n            <Stack display=\"flex\" flexDirection=\"row\">\r\n              <Box style={{ minWidth: 100 }} mr={3}>\r\n                <FormLabel style={{ width: 100 }}>\r\n                  Đã book được {amountOK}/{amount} appointments\r\n                </FormLabel>\r\n              </Box>\r\n            </Stack>\r\n          )}\r\n        </Grid>\r\n        <Grid item xs={12} md={6} className=\"AutoBook-relatives\">\r\n          <Box display=\"flex\" style={{ justifyContent: 'space-between' }}>\r\n            <div />\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              style={{ marginBottom: 18, height: 40, fontSize: 15 }}\r\n              startIcon={<MaterialIcon icon=\"add\" />}\r\n              onClick={() => setModalRelative({ show: true, type: 'create', initialValues })}\r\n            >\r\n              Người Thân\r\n            </Button>\r\n          </Box>\r\n          {relatives.map(renderRelative)}\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { Box, Button, Container, Link, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst More: React.FC = () => {\r\n  return (\r\n    <div style={{ maxWidth: 500, margin: '0 auto' }}>\r\n      <Container>\r\n        <Box sx={{ margin: 'auto', textAlign: 'center' }}>\r\n          <Typography sx={{ color: 'text.secondary', fontSize: 17 }}>\r\n            Hiện chưa biết cho gì vào đây! Nếu ai muốn thêm tool gì đó hay ho có thể ping\r\n            <Link href=\"https://www.messenger.com/t/WH.KnightZ\" underline=\"none\" target=\"_blank\">\r\n              {' '}\r\n              khanh.nguyen@boot.ai\r\n            </Link>\r\n            <br />\r\n            Tool sẽ có sau vài phút.\r\n          </Typography>\r\n\r\n          <Box\r\n            component=\"img\"\r\n            src=\"/static/illustrations/illustration_404.svg\"\r\n            sx={{ height: 160, mx: 'auto', my: { xs: 2, sm: 5 } }}\r\n          />\r\n\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            onClick={() => window.open('https://www.messenger.com/t/WH.KnightZ')}\r\n          >\r\n            Ping Ngay\r\n          </Button>\r\n        </Box>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default More;\r\n","import React from 'react';\r\nimport { RouteComponentProps } from 'react-router-dom';\r\nimport './Layout.scss';\r\nimport DashboardBar from './DashboardBar';\r\nimport { Page } from 'components';\r\nimport { Container, Stack, Typography } from '@material-ui/core';\r\nimport { SCREENS_TITLE, SCREENS } from 'extensions/constants';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from 'store';\r\nimport Login from 'views/login/Login';\r\nimport AutoBook from 'views/autoBook/AutoBook';\r\nimport More from 'views/more/More';\r\n\r\nconst { AUTO_BOOK, MORE } = SCREENS;\r\n\r\nconst Layout: React.FC<RouteComponentProps> = () => {\r\n  const screen = useSelector((state: RootState) => state.screen);\r\n\r\n  let Render;\r\n\r\n  switch (screen) {\r\n    case AUTO_BOOK:\r\n      Render = AutoBook;\r\n      break;\r\n    case MORE:\r\n      Render = More;\r\n      break;\r\n\r\n    default:\r\n      Render = Login;\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <div className=\"LayoutAdmin\">\r\n      <DashboardBar />\r\n\r\n      <div className=\"LayoutAdmin-main\">\r\n        <Page title=\"Vài Công Cụ Hỗ Trợ Tester\" className=\"LayoutAdmin-main__page\">\r\n          <Container>\r\n            <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\" mb={1} pb={3}>\r\n              <Typography variant=\"h4\" gutterBottom>\r\n                {SCREENS_TITLE[screen]}\r\n              </Typography>\r\n            </Stack>\r\n\r\n            <Render />\r\n          </Container>\r\n        </Page>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"sourceRoot":""}