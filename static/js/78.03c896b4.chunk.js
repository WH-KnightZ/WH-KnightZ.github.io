(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[78],{1044:function(e,t,n){"use strict";n.r(t),n.d(t,"ScheduleWebinar",(function(){return v}));var c=n(47),s=n(3),a=n(7),i=n(16),r=n(1),l=n(78),o=n.n(l),d=n(96),j=n(32),u=n(39),b=n(20),h=n(38),m=n(29),O=n(19),f=function(e){var t=e.show,n=e.treatments,a=e.selectedTreatments,i=e.setSelectedTreatments,r=e.handleClose;return Object(s.jsxs)(d.c,{size:"lg",style:{height:"90vh"},centered:!0,show:t,onClose:r,closeOnBackdrop:!1,children:[Object(s.jsx)(d.d,{closeButton:!0,children:"Treatments"}),Object(s.jsx)(O.D,{className:"px-0 py-3",style:{overflowY:"auto",overflowX:"hidden"},children:Object(s.jsxs)("div",{className:"py-2 px-5",children:[Object(s.jsx)("h3",{className:"mb-3",children:"Treatments"}),n.data.map((function(e,t){return Object(s.jsxs)("div",{className:"d-flex justify-content-between p-2",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"mr-3",alt:"treatment-thumbnail",style:{width:60,height:40,borderRadius:10},src:e.thumbnail}),e.tile]}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{style:{width:20,height:20},type:"checkbox",className:"form-control",checked:a.includes(t),onChange:function(){return function(e){i((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(c.a)(t),[e])}))}(t)}})})]},e.id)}))]})})]})},x=Array.from({length:24},(function(e,t){return("0"+t).substr(-2)})),p=Array.from({length:60},(function(e,t){return("0"+t).substr(-2)})),g=Array.from({length:48},(function(e,t){return("0"+Math.floor(t/2)).substr(-2)+":"+("0"+30*Math.floor(t%2)).substr(-2)})),v=function(e){var t=e.callApi,n=e.treatments,c=Object(u.h)(),l=Object(r.useState)(!1),b=Object(i.a)(l,2),v=b[0],y=b[1],N=1800*Math.ceil((new Date).getTime()/18e5),w=Object(r.useState)(new Date(1e3*N)),D=Object(i.a)(w,2),C=D[0],S=D[1],k=Object(r.useState)(Object(j.x)(N)),Y=Object(i.a)(k,2),T=Y[0],M=Y[1],A=new Date(1e3*N),_=g.findIndex((function(e){return A<=new Date("".concat(o()(C).format("MM/DD/YYYY")," ").concat(e))})),z=new Date,B=Object(r.useState)([]),J=Object(i.a)(B,2),W=J[0],E=J[1],R=Object(r.useState)(""),H=Object(i.a)(R,2),I=H[0],L=H[1],K=Object(r.useState)("01"),P=Object(i.a)(K,2),V=P[0],X=P[1],q=Object(r.useState)("00"),F=Object(i.a)(q,2),G=F[0],Q=F[1],U=Object(r.useState)(""),Z=Object(i.a)(U,2),$=Z[0],ee=Z[1],te=Object(r.useState)(!1),ne=Object(i.a)(te,2),ce=ne[0],se=ne[1],ae=Object(r.useState)(!1),ie=Object(i.a)(ae,2),re=ie[0],le=ie[1],oe=Object(r.useState)(0),de=Object(i.a)(oe,2),je=de[0],ue=de[1];Object(r.useEffect)((function(){A>new Date("".concat(o()(C).format("MM/DD/YYYY")," ").concat(T))&&M(Object(j.x)(N)),z.toDateString()!==C.toDateString()&&M("00:00")}),[C]);var be=Object(r.useState)({show:!1}),he=Object(i.a)(be,2),me=he[0],Oe=he[1],fe=""===I&&"01"===V&&"00"===G&&C.toDateString()===A.toDateString()&&T===Object(j.x)(N)&&""===$&&0===W.length&&!1===ce&&!1===re&&0===je;return Object(s.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(s.jsxs)(d.c,{size:"sm",show:me.show,centered:!0,closeOnBackdrop:!1,children:[Object(s.jsx)(O.D,{style:{textAlign:"center"},children:"Are you sure you want to discard this new webinar?"}),Object(s.jsxs)(O.E,{style:{display:"flex",justifyContent:"space-around"},children:[Object(s.jsx)("button",{className:"btn btn-danger",style:{width:160},color:"danger",onClick:function(){return c.push("/consulting")},children:"Discard Changes"}),Object(s.jsx)("button",{style:{width:160},className:"btn btn-primary",onClick:function(){return Oe(Object(a.a)(Object(a.a)({},me),{},{show:!1}))},children:"Keep Editing"})]})]}),Object(s.jsxs)("div",{style:{width:"50%"},children:[Object(s.jsx)(f,{show:v,handleClose:function(){return y(!1)},treatments:n,selectedTreatments:W,setSelectedTreatments:E}),Object(s.jsxs)("h3",{className:"mt-4",style:{position:"relative",display:"flex",alignItems:"center"},children:["Schedule a Webinar",Object(s.jsx)("i",{className:"fa fa-angle-left mr-2 cursor-pointer size-2",style:{position:"absolute",left:-24},onClick:function(){fe?c.push("/consulting"):Oe(Object(a.a)(Object(a.a)({},me),{},{show:!0}))}})]}),Object(s.jsx)("input",{maxLength:100,value:I,onChange:function(e){return L(e.target.value)},className:"form-control my-3",placeholder:"Title"}),Object(s.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(s.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"When"}),Object(s.jsx)("div",{children:Object(s.jsx)(d.g,{format:"DD.MM.YYYY",date:C,setDate:S,minDate:z,fullWidth:!0})})]}),Object(s.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(s.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"Start"}),Object(s.jsx)("div",{children:Object(s.jsx)("select",{className:"form-control",value:T,onChange:function(e){return M(e.target.value)},children:g.slice(_).map((function(e,t){return Object(s.jsx)("option",{children:e},e)}))})})]}),Object(s.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[Object(s.jsx)("div",{className:"font-weight-bold",style:{width:100},children:"Duration"}),Object(s.jsx)("div",{className:"mr-3",children:Object(s.jsx)("select",{className:"form-control",value:V,onChange:function(e){return X(e.target.value)},children:x.map((function(e){return Object(s.jsx)("option",{children:e},e)}))})}),"hr",Object(s.jsx)("div",{className:"ml-4 mr-3",children:Object(s.jsx)("select",{className:"form-control",value:G,onChange:function(e){return Q(e.target.value)},children:p.map((function(e){return Object(s.jsx)("option",{children:e},e)}))})}),"min"]}),Object(s.jsxs)("div",{className:"my-4 py-3",style:{borderTop:"2px solid #ccc",borderBottom:"2px solid #ccc"},children:[Object(s.jsx)("div",{className:"d-flex align-items-center my-2",children:Object(s.jsxs)("div",{className:"d-flex align-items-center cursor-pointer",onClick:function(){return y(!0)},children:[Object(s.jsx)("div",{className:"size-0 mr-3",children:"Treatments"}),Object(s.jsx)("i",{className:"fa fa-angle-right size-0"})]})}),Object(s.jsx)("div",{className:"px-4",children:W.map((function(e){var t=n.data[e];return Object(s.jsxs)("div",{className:"d-flex justify-content-between pt-2 px-4 pb-1",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"mr-3",alt:"treatment-thumbnail",style:{width:60,height:40,borderRadius:5},src:t.thumbnail}),t.tile]}),Object(s.jsx)("i",{className:"fa fa-times cursor-pointer",style:{color:"gray"},onClick:function(){return E(W.filter((function(t){return t!==e})))}})]})}))})]}),Object(s.jsx)("div",{className:"my-4",children:Object(s.jsx)("textarea",{maxLength:500,className:"form-control",rows:5,placeholder:"Description",value:$,onChange:function(e){return ee(e.target.value)}})}),Object(s.jsxs)("div",{className:"pt-4 pb-3",style:{borderTop:"2px solid #ccc"},children:[Object(s.jsx)("div",{className:"font-weight-bold mb-3",children:"Paticipant Settings"}),Object(s.jsxs)("div",{className:"ml-4",children:[Object(s.jsxs)("div",{className:"d-flex mb-3",children:[Object(s.jsx)("div",{style:{width:120},children:"Raised hands"}),"On"," ",Object(s.jsx)("input",{name:"raisedHands",type:"radio",className:"form-control",onChange:function(){return se(!0)},checked:!0===ce}),"Off"," ",Object(s.jsx)("input",{name:"raisedHands",type:"radio",className:"form-control",onChange:function(){return se(!1)},checked:!1===ce})]}),Object(s.jsxs)("div",{className:"d-flex mb-3",children:[Object(s.jsx)("div",{style:{width:120},children:"Video"}),"On"," ",Object(s.jsx)("input",{name:"video",type:"radio",className:"form-control",onChange:function(){return le(!0)},checked:!0===re}),"Off"," ",Object(s.jsx)("input",{name:"video",type:"radio",className:"form-control",onChange:function(){return le(!1)},checked:!1===re})]})]})]}),Object(s.jsxs)("div",{className:"mb-2",children:[Object(s.jsx)("div",{className:"font-weight-bold mb-3",children:"Who can join the webinar?"}),Object(s.jsxs)("div",{className:"d-flex ml-4",children:["All"," ",Object(s.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return ue(0)},checked:0===je}),"Nurses"," ",Object(s.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return ue(1)},checked:1===je}),"Basic members"," ",Object(s.jsx)("input",{name:"whoJoin",type:"radio",className:"form-control",onChange:function(){return ue(2)},checked:2===je})]})]}),Object(s.jsx)("div",{className:"d-flex justify-content-evenly my-5",children:Object(s.jsx)("button",{className:"btn btn-primary",style:{width:150},disabled:!(""!==I.trim()),onClick:function(){t({method:"post",api:m.d.rest.nurseCreateMeeting(),body:{title:I,start_date:new Date("".concat(o()(C).format("MM/DD/YYYY")," ").concat(T)).getTime()/1e3,duration:3600*Number(V)+60*Number(G),diseases:W.map((function(e){return{id:n.data[e].id}})),description:$,raised_hand:ce,video_enable:re,permission_view:je},loading:!0},(function(e){e.status===h.c&&c.push("/consulting")}))},children:"Schedule"})})]})]})};t.default=function(e){var t=Object(b.c)(),n=function(e,n){return t(Object(h.d)(e,n))},a=Object(r.useState)({data:[],loading:!0}),l=Object(i.a)(a,2),o=l[0],d=l[1];return Object(r.useEffect)((function(){n({method:"get",api:m.d.rest.getAllTreatments(),loading:!0},(function(e){var t=e.data;e.status===h.c&&d({data:t.group_treatments.reduce((function(e,t){return[].concat(Object(c.a)(e),Object(c.a)(t.list_diseases))}),[]),loading:!1})}))}),[]),o.loading?Object(s.jsx)("div",{}):Object(s.jsx)(v,{callApi:n,treatments:o})}}}]);
//# sourceMappingURL=78.03c896b4.chunk.js.map