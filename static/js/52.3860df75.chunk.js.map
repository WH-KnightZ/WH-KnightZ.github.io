{"version":3,"sources":["views/user/newsfeed/ContentNewsfeed.tsx","views/user/newsfeed/YourTopicsIsSelected.tsx","views/user/newsfeed/SelectCategory.tsx"],"names":["ContentNewsfeed","props","label","your_topics","saveSetting","data","className","map","item","index","includes","onClick","name","YourTopicsIsSelected","style","marginRight","SelectCategory","dispatch","useDispatch","callApi","useApi","history","useHistory","email","useSelector","state","auth","hasBack","ls","get","newsfeed","top_topics","top_search_keywords","useEffect","set","length","method","api","config","rest","getNewsfeedCategories","loading","response","status","SUCCESS","setNewsfeedTopics","updateNewsfeedYourTopics","visibility","cloneNewsfeedYourTopics","push","color","textAlign","handleClick","readOnly","placeholder","marginTop","width","padding","body","keywords","id","disabled"],"mappings":"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","file":"static/js/52.3860df75.chunk.js","sourcesContent":["import React from 'react';\nimport { includes } from '../../../utils';\n\ninterface Props {\n  label: string;\n  your_topics: [];\n  data: any;\n  saveSetting: any;\n}\n\nconst ContentNewsfeed: React.FC<Props> = (props) => {\n  const { label, your_topics, saveSetting, data } = props;\n\n  return (\n    <div className=\"hb-categories-wrapper\">\n      <div className=\"label\">{label}</div>\n      <div className=\"items-wrapper\">\n        {data.map((item: any, index: number) => (\n          <div\n            key={index}\n            className={`item${includes(your_topics, item) ? ' active' : ''}`}\n            onClick={() => saveSetting(item)}\n          >\n            {item.name}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ContentNewsfeed;\n","import React from 'react';\n\ninterface Props {\n  your_topics: any;\n  saveSetting: any;\n}\n\nconst YourTopicsIsSelected: React.FC<Props> = (props) => {\n  const { your_topics, saveSetting } = props;\n\n  return (\n    <div className=\"hb-my-categories-wrapper\">\n      <div className=\"label\">Ihre Auswahl</div>\n      <div className=\"items-wrapper\">\n        {your_topics.map((item: { id: string; name: string }, index: number) => (\n          <div key={index} className=\"item\" onClick={() => saveSetting(item)}>\n            <div className=\"d-flex align-items-center\">\n              <div style={{ marginRight: 10 }}>{item.name}</div>\n              <i className=\"hb-icon-close\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default YourTopicsIsSelected;\n","import React, { useEffect } from 'react';\nimport config from '../../../config';\nimport ContentNewsfeed from './ContentNewsfeed';\nimport YourTopicsIsSelected from './YourTopicsIsSelected';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport { RouteComponentProps, useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ls } from '../../../extensions';\nimport { HBButton, HBButtonSmall, HBSearch } from '../../../hbBaseClass';\nimport './Newsfeed.scss';\nimport { cloneNewsfeedYourTopics, setNewsfeedTopics, updateNewsfeedYourTopics } from '../../../store/newsfeed/actions';\nimport { useApi } from 'store/callApi';\n\nconst SelectCategory: React.FC<RouteComponentProps> = () => {\n  const dispatch = useDispatch();\n  const { callApi } = useApi();\n\n  const history = useHistory();\n\n  const email = useSelector((state: any) => state.auth.email);\n  const hasBack = ls.get(`has-back-${email}`);\n\n  const { top_topics, top_search_keywords, your_topics } = useSelector((state: any) => state.newsfeed);\n\n  useEffect(() => {\n    ls.set(`screen-${email}`, ls.get(`screen-${email}`) || '/newsfeed/select-category');\n\n    if (top_topics.length === 0)\n      callApi(\n        {\n          method: 'get',\n          api: config.rest.getNewsfeedCategories(),\n          loading: true,\n        },\n        (response) => {\n          const { data, status } = response;\n          if (status === SUCCESS) {\n            dispatch(setNewsfeedTopics(data));\n          }\n        },\n      );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const saveSetting = (item: { id: string; name: string }) => {\n    dispatch(updateNewsfeedYourTopics(item));\n  };\n\n  const startNewsfeed = () => {\n    callApi(\n      {\n        method: 'post',\n        api: '/api/v1/newsfeed/starts',\n        loading: true,\n        body: {\n          keywords: your_topics.map((item: any) => item.id),\n        },\n      },\n      (response) => {\n        const { status } = response;\n        if (status === SUCCESS) {\n          ls.set(`has-back-${email}`, 'ok');\n          dispatch(cloneNewsfeedYourTopics('Real'));\n          ls.set(`screen-${email}`, '/newsfeed');\n          history.push('/newsfeed');\n        }\n      },\n    );\n  };\n\n  return (\n    <>\n      <div className=\"hb-wrapper\">\n        <div className=\"hb-mx-20\">\n          <div className=\"d-flex justify-content-between hb-my-28\">\n            <HBButtonSmall\n              style={{ visibility: hasBack ? 'visible' : 'hidden' }}\n              onClick={() => {\n                dispatch(cloneNewsfeedYourTopics('Fake'));\n                ls.set(`screen-${email}`, '/newsfeed');\n                history.push('/newsfeed');\n              }}\n            >\n              <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n            </HBButtonSmall>\n          </div>\n          <h1 style={{ color: 'white', textAlign: 'center' }}>Themenauswahl</h1>\n          <div className=\"hb-select-category-intro\">\n            <p>\n              Zeigen Sie uns hier, für welche Themen Sie sich interessieren. Bitte wählen Sie mindestens drei Themen\n              aus.\n            </p>\n          </div>\n          <HBSearch\n            handleClick={() => history.push('/newsfeed/select-category/search')}\n            readOnly\n            placeholder=\"Thema suchen\"\n            className=\"hb-select-category-search\"\n          />\n          <div className=\"row NewsfeedSelectCategory-content\">\n            <div className=\"col-md-8\">\n              <ContentNewsfeed\n                label=\"Top Themen\"\n                your_topics={your_topics}\n                saveSetting={saveSetting}\n                data={top_topics}\n              />\n              <ContentNewsfeed\n                label=\"Meistgesucht\"\n                your_topics={your_topics}\n                saveSetting={saveSetting}\n                data={top_search_keywords}\n              />\n            </div>\n            <div className=\"col-md-4\">\n              <YourTopicsIsSelected your_topics={your_topics} saveSetting={saveSetting} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div style={{ marginTop: 100 }}>\n        <div className=\"hb-start-newsfeed-wrapper\">\n          <HBButton\n            style={{ width: '100%', padding: '12px 0' }}\n            className=\"hb-start-newsfeed\"\n            onClick={startNewsfeed}\n            disabled={your_topics.length < 3}\n          >\n            Pflegemagazin erstellen\n          </HBButton>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SelectCategory;\n"],"sourceRoot":""}