(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[64],{1033:function(e,t,s){"use strict";s.r(t);var a,i=s(3),n=s(7),r=s(16),c=s(1),l=s(19),d=s(29),o=s(38),u=["success","error","warning"],j={success:"#006644",error:"#BF2600",warning:"#DF6B00"};!function(e){e[e.Success=200]="Success"}(a||(a={}));var h=s(602),p=s(603),b=s(32),x=s(611),m=s(96),O=s(186),g=function(e,t){return p.b().shape({message_id:p.d().required("Required.").notOneOf(t.map((function(e){return e.message_id.toString()})),"This message id already exists. Please choose another message id."),text:p.d().required("Required."),text_de:p.d().required("Required."),descriptions:p.d().required("Required.")})},f=function(e,t){return function(s){var a=e(s,t);try{return a.validateSync(s,{abortEarly:!1}),{}}catch(i){return Object(b.k)(i)}}},v=function(e){var t=Object(O.b)().callApi,s=e.reload,a=e.handleClose,n=e.show,r=e.initialValues,c=e.data;return Object(i.jsx)("div",{className:"flex-row align-items-center",children:Object(i.jsxs)(m.c,{size:"lg",centered:!0,show:n,onClose:a,closeOnBackdrop:!1,children:[Object(i.jsx)(m.d,{closeButton:!0,children:"Create Message"}),Object(i.jsx)(l.D,{className:"popup--update-user",children:Object(i.jsx)(l.I,{className:"justify-content-center",children:Object(i.jsx)(l.j,{md:"12",children:Object(i.jsx)(l.h,{children:Object(i.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(i.jsx)(l.f,{children:Object(i.jsx)(h.c,{enableReinitialize:!0,initialValues:r,validate:f(g,c),onSubmit:function(e){var i={message_id:e.message_id,popup:"true"===e.popup||!0===e.popup,status:e.status,text:e.text.trim(),text_de:e.text_de.trim(),duration:"false"===e.popup?0:parseInt(e.duration),descriptions:e.descriptions.trim()},n=JSON.stringify(i);t({method:"post",api:d.d.rest.createMessage(),body:n,loading:!0,msg:d.d.messages.createMessageFailure},(function(e){e.status===o.c&&(s(),a())}))},children:function(e){var t=e.values,s=e.errors,a=e.touched,n=e.dirty,r=e.handleChange,c=e.handleBlur,d=e.handleSubmit,o=e.isValid;return Object(i.jsxs)(l.q,{onSubmit:d,children:[Object(i.jsx)(x.a,{label:"Message Id",width:140,children:Object(i.jsxs)(l.r,{className:"m-0",children:[Object(i.jsx)(l.u,{placeholder:"Message Id",value:t.message_id,onChange:function(e){/^[0-9]*$/.test(e.target.value)&&r(e)},name:"message_id",invalid:""!==t.message_id&&a.message_id&&!!s.message_id,onBlur:c}),Object(i.jsx)(l.A,{children:s.message_id})]})}),Object(i.jsx)(x.a,{label:"Popup",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsxs)(l.J,{value:t.popup,onChange:r,name:"popup",children:[Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]})})}),Object(i.jsx)(x.a,{label:"Status",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.J,{value:t.status,onChange:r,name:"status",children:u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})})}),Object(i.jsx)(x.a,{label:"English Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{required:!0,maxLength:200,type:"text",placeholder:"English Message",value:t.text,name:"text",onChange:r,rows:3})})}),Object(i.jsx)(x.a,{label:"German Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{required:!0,maxLength:200,type:"text",placeholder:"German Message",value:t.text_de,name:"text_de",onChange:r,rows:3})})}),Object(i.jsx)(x.a,{label:"Duration",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{type:"number",min:1,step:1,disabled:"false"===t.popup,placeholder:"Duration",value:"false"===t.popup?0:t.duration,name:"duration",onChange:r})})}),Object(i.jsx)(x.a,{label:"Description",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{type:"text",placeholder:"Description",value:t.descriptions,name:"descriptions",maxLength:200,onChange:r,rows:3})})}),Object(i.jsx)(l.r,{className:"d-flex justify-content-end mb-0",children:Object(i.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!(o&&n),children:"Create"})})]})}})})})})})})})]})})},y=function(e){return p.b().shape({text:p.d().required("Required."),text_de:p.d().required("Required."),descriptions:p.d().required("Required.")})},w=function(e){var t,s=Object(O.b)().callApi,a=e.reload,n=e.handleClose,r=e.show,c=e.initialValues;return Object(i.jsx)("div",{className:"flex-row align-items-center",children:Object(i.jsxs)(m.c,{size:"lg",centered:!0,show:r,onClose:n,closeOnBackdrop:!1,children:[Object(i.jsx)(m.d,{closeButton:!0,children:"Update Message"}),Object(i.jsx)(l.D,{className:"popup--update-user",children:Object(i.jsx)(l.I,{className:"justify-content-center",children:Object(i.jsx)(l.j,{md:"12",children:Object(i.jsx)(l.h,{children:Object(i.jsx)(l.e,{className:"popup--update-user__card--wrapper",children:Object(i.jsx)(l.f,{children:Object(i.jsx)(h.c,{enableReinitialize:!0,initialValues:c,validate:(t=y,function(e){var s=t(e);try{return s.validateSync(e,{abortEarly:!1}),{}}catch(a){return Object(b.k)(a)}}),onSubmit:function(e){var t={popup:"true"===e.popup||!0===e.popup,status:e.status,text:e.text.trim(),text_de:e.text_de.trim(),duration:"false"===e.popup?0:parseInt(e.duration),descriptions:e.descriptions.trim()},i=JSON.stringify(t);s({method:"put",api:d.d.rest.updateMessage(e.message_id),body:i,loading:!0,msg:d.d.messages.updateMessageFailure},(function(e){e.status===o.c&&(a(),n())}))},children:function(e){var t=e.values,s=e.dirty,a=e.handleChange,n=e.handleSubmit,r=e.isValid;return Object(i.jsxs)(l.q,{onSubmit:n,children:[Object(i.jsx)(x.a,{label:"Message Id",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{disabled:!0,type:"number",value:t.message_id,name:"message_id"})})}),Object(i.jsx)(x.a,{label:"Popup",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsxs)(l.J,{value:t.popup,onChange:a,name:"popup",children:[Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]})})}),Object(i.jsx)(x.a,{label:"Status",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.J,{value:t.status,onChange:a,name:"status",children:u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))})})}),Object(i.jsx)(x.a,{label:"English Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{required:!0,maxLength:200,type:"text",placeholder:"English Message",value:t.text,name:"text",onChange:a,rows:3})})}),Object(i.jsx)(x.a,{label:"German Message",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{required:!0,maxLength:200,type:"text",placeholder:"German Message",value:t.text_de,name:"text_de",onChange:a,rows:3})})}),Object(i.jsx)(x.a,{label:"Duration",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.u,{type:"number",min:1,disabled:"false"===t.popup||!t.popup,placeholder:"Duration",value:"false"!==t.popup&&t.popup?t.duration:0,name:"duration",onChange:a})})}),Object(i.jsx)(x.a,{label:"Description",width:140,children:Object(i.jsx)(l.r,{className:"m-0",children:Object(i.jsx)(l.O,{type:"text",placeholder:"Description",value:t.descriptions,name:"descriptions",maxLength:200,onChange:a,rows:3})})}),Object(i.jsx)(l.r,{className:"d-flex justify-content-end mb-0",children:Object(i.jsx)(l.d,{color:"primary",className:"px-4",type:"submit",disabled:!(r&&s),children:"Update"})})]})}})})})})})})})]})})},_=s(31);t.default=function(){var e=Object(O.b)().callApi,t=Object(c.useState)(!0),s=Object(r.a)(t,2),a=s[0],h=s[1],p=Object(c.useState)(""),b=Object(r.a)(p,2),x=b[0],m=b[1],g=Object(c.useState)(""),f=Object(r.a)(g,2),y=f[0],N=f[1],C=Object(c.useState)(""),S=Object(r.a)(C,2),q=S[0],M=S[1],k=Object(c.useState)([]),V=Object(r.a)(k,2),D=V[0],L=V[1],I=Object(c.useState)({show:!1,initialValues:{}}),J=Object(r.a)(I,2),R=J[0],B=J[1],A=Object(c.useState)({show:!1,initialValues:{}}),E=Object(r.a)(A,2),z=E[0],G=E[1],T=Object(c.useMemo)((function(){return[{key:"message_id",label:"Id",_style:{width:"5%"}},{key:"popup",label:"Popup",_style:{width:"6%"},renderContent:function(e){return e.popup?"true":"false"}},{key:"status",label:"Status",_style:{width:"6%"},renderContent:function(e){return Object(i.jsx)("div",{style:{fontWeight:"bold",color:j[e.status]},children:e.status})}},{key:"text",label:"English Message",_style:{width:"20%"}},{key:"text_de",label:"German Message",_style:{width:"20%"}},{key:"duration",label:"Duration",_style:{width:"6%"},renderContent:function(e){return!1===e.popup?0:e.duration}},{key:"descriptions",label:"Description",_style:{width:"20%"}},{key:"action",label:"Action",_style:{width:"6%"},renderContent:function(e){return Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(l.d,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){return G({show:!0,initialValues:e})},children:Object(i.jsx)("i",{className:"fas fa-pencil-alt",children:" "})})})}}]}),[]),F=Object(c.useCallback)((function(){h(!0),e({method:"get",api:d.d.rest.getAllMessages()},(function(e){var t=e.status,s=e.data;t===o.c&&L(s.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{message_id:parseInt(e.message_id)})})).sort((function(e,t){return t.message_id-e.message_id}))),h(!1)}))}),[]);Object(c.useEffect)((function(){F()}),[F]);var P=Object(i.jsx)("div",{}),U="true"===y,W=D;if(""!==x){var $=x.toLowerCase();W=W.filter((function(e){var t,s;return e.message_id.toString().includes($)||(null===(t=e.text)||void 0===t?void 0:t.toLowerCase().includes($))||(null===(s=e.text_de)||void 0===s?void 0:s.toLowerCase().toString().includes($))}))}return""!==y&&(W=W.filter((function(e){return e.popup===U}))),""!==q&&(W=W.filter((function(e){return e.status===q}))),a||0!==W.length||(P=Object(i.jsx)("div",{children:"No items found!"})),Object(i.jsxs)("div",{className:"px-5 mx-3",style:{marginTop:10},children:[Object(i.jsx)(v,{data:D,show:R.show,initialValues:R.initialValues,handleClose:function(){return B({show:!1,initialValues:{}})},reload:F}),Object(i.jsx)(w,{show:z.show,initialValues:z.initialValues,handleClose:function(){return G({show:!1,initialValues:{}})},reload:F}),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:20,marginBottom:30},children:[Object(i.jsxs)("div",{className:"mr-3",style:{position:"relative",width:220},children:[Object(i.jsx)(l.u,{style:{width:220,position:"absolute",paddingLeft:32},type:"text",placeholder:"search",value:x,maxLength:50,onChange:function(e){return m(e.target.value)}}),Object(i.jsx)("i",{style:{position:"absolute",left:10,top:11,color:"#777"},className:"fa fa-search icon"})]}),Object(i.jsxs)(l.J,{className:"mr-3",style:{width:160},value:y,onChange:function(e){return N(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Show popup?"}),Object(i.jsx)("option",{children:"true"}),Object(i.jsx)("option",{children:"false"})]}),Object(i.jsxs)(l.J,{style:{width:160},value:q,onChange:function(e){return M(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"Status?"}),u.map((function(e){return Object(i.jsx)("option",{children:e},e)}))]}),Object(i.jsx)("div",{style:{textAlign:"right",flex:1},children:Object(i.jsx)(l.d,{color:"primary",onClick:function(){B({show:!0,initialValues:{message_id:"",popup:"true",status:"success",text:"",text_de:"",duration:5,descriptions:""}})},children:"Create message"})})]})}),Object(i.jsx)("div",{className:"hb-table",children:Object(i.jsx)(l.l,{items:W,fields:T,loading:a,noItemsViewSlot:P,hover:!0,striped:!0,sorter:!0,sorterValue:{column:"message_id",desc:"true"},scopedSlots:Object(_.k)(T)})}),0!==W.length&&Object(i.jsxs)("div",{style:{textAlign:"right",marginRight:100},children:["Total: ",W.length]})]})}},611:function(e,t,s){"use strict";var a=s(3);s(1);t.a=function(e){var t=e.className,s=e.label,i=e.children,n=e.width,r=e.centered,c=e.style;return n=n||110,Object(a.jsxs)("div",{className:"d-flex mb-3 ".concat(r?"align-items-center":""," ").concat(t||""),style:c,children:[Object(a.jsx)("div",{style:{minWidth:n,marginTop:6},children:s}),Object(a.jsx)("div",{style:{width:"calc(100% - ".concat(n,"px)")},children:i})]})}}}]);
//# sourceMappingURL=64.99ada29a.chunk.js.map