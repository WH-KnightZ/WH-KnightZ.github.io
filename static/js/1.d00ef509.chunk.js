(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[1],{612:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var c=n(78),i=n.n(c),a=n(29),s=n(73),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxTime,c=void 0===n?s.v:n,i=a.g.filter((function(t){return t>=e&&t<=c}));return i.map((function(e){return{label:e,value:e}}))},o=function(e){if(e)return e;var t=i()().add(2,"hours").format("HH:mm");return a.g.find((function(e){return e>=t&&e<="23:45"}))||t},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=i()("".concat(i()().format("YYYY-MM-DD")," ").concat(e));return e<s.w?n.add(t,"hours").format("HH:mm"):s.v},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e<"23:00"?u(e):s.v},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return e>1?"".concat(t).concat(n):t},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(1===e?"\xdcbung":"\xdcbungen")},m=n(47),b=n(187),f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.every((function(t){var c=t.id,i=t.required,a=t.question_type,r=t.answers,o=void 0===r?[]:r,u=o.reduce((function(e,t){return[].concat(Object(m.a)(e),[t.answer_title])}),[]),l=n[c]||{},d=l.answer,j=void 0===d?"":d,f=l.parentQuestionId;if(i&&!j)return!1;switch(a){case s.B.YES_NO:case s.B.RADIO:if(!Object(b.includes)(u,j))return!1;break;case s.B.TEXTBOX:if(j.length>s.u)return!1;if(f&&j.length>s.x)return!1}var O=o.find((function(e){return e.answer_title===j}));if(O){var v=O.sub_questions;if(!e(void 0===v?[]:v,n))return!1}return!0}))},O=function(e){var t=e||{},n=t.selectedOption,c=t.timeStart,a=t.specificDate,r=i()().format("YYYY-MM-DD"),o=i.a.duration(i()("".concat(r," ").concat(c)).diff(i()())).asHours(),u=i()(a).format("YYYY-MM-DD");return n===s.D.TOMORROW||n===s.D.LATER&&r<=u||o>=s.E},v=n(7),h=function(e){var t=e.selectedOption,n=e.specificDate,c=e.timeStart,a=e.timeEnd,r=i()();t!==s.D.TODAY&&(r=t===s.D.LATER?i()(n):i()().add(1,"d"));var o=r.format("YYYY-MM-DD");return{appointment_time_begin:i()("".concat(o," ").concat(c)).utc().unix(),appointment_time_end:i()("".concat(o," ").concat(a)).utc().unix()}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.f[s.e.NURSE],n=e||{},c=n.selectedTopic,i=n.adviceRelatives,a=void 0===i?[]:i,r=n.scheduleData,o=void 0===r?{}:r,u=n.userInfo,l=void 0===u?{}:u,d=n.surveyAnswers,j=void 0===d?{}:d,b=l.phone_number,f=void 0===b?"":b,O=l.street,p=l.gender,x=l.postal_code,g=l.no,D=l.place,S=Object(m.a)(Object.values(j)).reduce((function(e,t){var n=t||{},c=n.question_id,i=n.answer,a=n.question_title,s=n.parentQuestionId,r={question_id:c,answer:i,question_title:a};return s?e=e.map((function(e){var t=e||{},n=t.question_id,c=t.sub_questions;return n===s?Object(v.a)(Object(v.a)({},e),{},{sub_questions:[].concat(Object(m.a)(c),[r])}):e})):[].concat(Object(m.a)(e),[Object(v.a)(Object(v.a)({},r),{},{sub_questions:[]})])}),[]),N=h(o);return Object(v.a)({result_survey:{questions:S},appointment_type:t,selected_treatments_id:c,customer_gender:p,phone_number:f,street:O,postcode:x,no:g,place:D,relatives:a,cost:1},N)}},629:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return T})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return L}));var c,i,a=n(3),s=n(1),r=n(187),o=(n(909),function(e){var t=e.className,n=void 0===t?"":t,c=e.title,i=void 0===c?"":c,s=e.value,o=e.unit,u=void 0===o?"Beratungen":o,l=e.onClick,d=void 0===l?function(){}:l;return Object(a.jsxs)("div",{className:"CategoryItem-container ".concat(n),onClick:d,children:[Object(a.jsx)("h5",{className:"CategoryItem-title",children:i}),Object(a.jsxs)("div",{className:"CategoryItem-footer",children:[Object(a.jsx)("span",{className:"text",children:"".concat(Object(r.isNil)(s)?"":s," ").concat(u)}),Object(a.jsx)("span",{className:"hb-icon-arrow-right icon"})]})]})}),u=n(16),l=n(49),d=n(78),j=n.n(d),m=n(115),b=(n(910),function(e){var t=e.className,n=void 0===t?"":t,c=e.open,i=e.options,r=void 0===i?[]:i,o=e.anchorEl,u=e.onClose,l=void 0===u?function(){}:u,d=e.children,j=Object(s.useRef)(null);Object(s.useEffect)((function(){return c&&document.addEventListener("click",m),function(){document.removeEventListener("click",m)}}),[c]);var m=function(e){var t,n,c=!o||!(null===o||void 0===o||null===(t=o.current)||void 0===t?void 0:t.contains(e.target));!(null===j||void 0===j||null===(n=j.current)||void 0===n?void 0:n.contains(e.target))&&c&&l()};return Object(a.jsx)("div",{className:"MenuOptions-area ".concat(n," ").concat(c&&"open"),ref:j,children:Object(a.jsx)("ul",{className:"MenuOptions-list",children:d||Object(a.jsx)(a.Fragment,{children:r.map((function(e,t){return Object(a.jsxs)("li",{onClick:function(){return function(e){var t=e.onClick;t&&t(),l()}(e)},children:[e.icon&&Object(a.jsx)("i",{className:e.icon})," ",e.label]},t)}))})})})}),f=function(e){var t=e.icon,n=void 0===t?"":t,c=e.value,i=void 0===c?"":c;return Object(a.jsxs)("div",{className:"AppointmentTagInfo-container",children:[n&&Object(a.jsx)("i",{className:"HbIc-".concat(n)}),i]})},O=n(742),v=n(73),h=n(32),p=n(612),x=n(202),g=(n(911),n(197)),D=v.b.REQUESTED,S=v.b.ACCEPTED,N=v.b.FINISHED,_=v.b.CANCELLED,Y=(c={},Object(l.a)(c,S,"Anfrage gesendet an:"),Object(l.a)(c,N,"Pflegeberaterin:"),Object(l.a)(c,_,"Pflegeberaterin:"),c),C=(i={},Object(l.a)(i,D,"Pflegenotfall Soforthilfe"),Object(l.a)(i,S,"Pflegenotfall Soforthilfe"),Object(l.a)(i,N,"Pflegenotfall Soforthilfe"),Object(l.a)(i,_,"Pflegenotfall Soforthilfe"),i),I=function(e){var t=Object(O.a)().user_id,n=e.className,c=void 0===n?"":n,i=e.requestType,r=void 0===i?D:i,o=e.appointment,l=e.onOpenPopupEdit,d=e.onOpenPopupCancel,I=e.onSetSelectedAppointment,M=e.isDetail,A=e.onClick,w=void 0===A?function(){}:A,E=Object(s.useState)(!1),T=Object(u.a)(E,2),k=T[0],y=T[1],q=Object(s.useRef)(null),H=o.appointment_time_begin,B=o.appointment_time_end,P=o.treatments,R=o.modified_date,L=o.cancel_by_id,Q=o.cancelled,J=o.appointment_time_confirms_to_start,F=o.appointment_time_confirms_to_stop,X=o.appointment_time_begin_reality,G=o.appointment_time_end_reality,W=o.user_consulting,Z=o.feedback,U=(P||{}).diseases_title,V=void 0===U?"":U,z=Object(s.useMemo)((function(){var e=J;switch(r){case D:return{timeStartSeconds:H,timeEndSeconds:B};case S:case N:return{timeStartSeconds:J,timeEndSeconds:F};case _:default:return{timeStartSeconds:e?J:H,timeEndSeconds:e?F:B}}}),[r,H,B,J,F]),K=z.timeStartSeconds,$=z.timeEndSeconds,ee=Object(s.useMemo)((function(){var e=j()().format("DD.MM.YY"),t=j()(1e3*K),n=j()(1e3*R),c=t.format("HH:mm"),i=j()(1e3*$).format("HH:mm"),a=t.format("DD.MM.YY"),s=n.format("DD.MM.YY"),r=e===a;return{scheduleTime:"".concat(c," - ").concat("00:00"===i?v.v:i),scheduleDate:r?v.D.TODAY:a,scheduleDateYMD:r?v.D.TODAY:t.format("YYYY-MM-DD"),modifiedDate:e===s?v.D.TODAY:s,modifiedTime:n.format("HH:mm"),finishedTime:Object(h.t)(G-X)}}),[K,$,R,X,G]),te=ee.scheduleTime,ne=ee.scheduleDate,ce=ee.modifiedDate,ie=ee.modifiedTime,ae=ee.finishedTime,se=ee.scheduleDateYMD,re=Object(s.useMemo)((function(){return t===L?"Ihre Stornierung":(null===Q||void 0===Q?void 0:Q.id)?"Stornierung durch den/die PflegeberaterIn":"Automatische Stornierung durch das System"}),[L,Q,t]),oe=Object(s.useMemo)((function(){var e=(r===_?Q:W)||{},n=e.id,c=e.first_name,i=void 0===c?"":c,a=e.last_name,s=void 0===a?"":a,o=e.avatar,u=!0;return r!==_||n&&n!==t||(u=!1),{isShowNurseInfo:u,nurseName:"".concat(i," ").concat(s),nurseAvatar:o||x.a}}),[W,Q,t,r]),ue=oe.isShowNurseInfo,le=oe.nurseName,de=oe.nurseAvatar,je=Object(s.useMemo)((function(){var e=r===S,t=j()().format("YYYY-MM-DD"),n=j.a.duration(j()(1e3*J).diff(j()())).asHours(),c=ne===v.D.TODAY;return{isEditAccepted:e&&(c&&n>1||se>t),isShowGoogleCalendar:e&&c&&n<=1}}),[ne,se,J,r]),me=je.isEditAccepted,be=je.isShowGoogleCalendar,fe=Object(s.useMemo)((function(){return r===D||me||be}),[r,me,be]),Oe=Object(s.useMemo)((function(){return M?C[r]:Y[r]}),[M,r]),ve=function(e){return function(t){t.stopPropagation(),y(!1),I&&I(o),e?r===D&&l&&l():d&&d()}};return Object(a.jsxs)("div",{className:"AppointmentItem-container ".concat(c," ").concat(M&&"detail"),onClick:w,children:[Object(a.jsxs)("div",{className:"AppointmentItem-up",children:[Object(a.jsxs)("div",{className:"AppointmentItem-schedule",children:[Object(a.jsxs)("div",{className:"AppointmentItem-dateTime",children:[Object(a.jsx)(f,{icon:"clock",value:te}),Object(a.jsx)(f,{icon:"calendar",value:ne}),r===N&&ae&&Object(a.jsx)(f,{icon:"hourglass",value:ae})]}),!M&&fe&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"hb-icon-more-ver AppointmentItem-btnMenu",ref:q,onClick:function(e){e.stopPropagation(),y(!0)}}),Object(a.jsxs)(b,{open:k,anchorEl:q,onClose:function(){return y(!1)},children:[(r===D||r===S&&me)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("li",{onClick:ve(!0),children:[Object(a.jsx)("i",{className:"hb-icon-edit-2"})," Bearbeiten"]}),Object(a.jsxs)("li",{onClick:ve(),children:[Object(a.jsx)("i",{className:"hb-icon-trash"})," L\xf6schen"]})]}),r===S&&Object(a.jsxs)("li",{onClick:function(){return y(!1)},children:[Object(a.jsx)("i",{className:"hb-icon-calendar"})," Im Google-Kalender speichern"]})]})]})]}),Object(a.jsx)("h4",{className:"AppointmentItem-topic",children:V})]}),Object(a.jsxs)("div",{className:"AppointmentItem-down",children:[r!==D&&ue&&Object(a.jsxs)("div",{className:"AppointmentItem-userInfo",children:[Object(a.jsx)(g.a,{className:"AppointmentItem-ava",src:de,alt:""}),Object(a.jsxs)("div",{className:"AppointmentItem-userName",children:[Object(a.jsx)("p",{children:Oe}),Object(a.jsx)("p",{children:le})]})]}),Object(a.jsx)("div",{className:"AppointmentItem-footer",children:function(){switch(r){case D:return Object(a.jsx)("div",{className:"AppointmentItem-status hasBorder",children:Object(a.jsxs)("span",{className:"AppointmentItem-status requested ",children:[Object(a.jsx)("i",{className:"hb-icon-loader"}),Object(a.jsx)("span",{children:"Antwort ausst\xe4ndig"})]})});case _:return Object(a.jsx)("div",{className:"AppointmentItem-status cancelled hasBorder",children:Object(a.jsxs)("div",{className:"reason",children:[Object(a.jsx)("span",{className:"HbIc-x-rounded icon"}),Object(a.jsxs)("span",{children:[re,": ",ce," um ",ie]})]})});case N:return Object(a.jsx)("div",{className:"AppointmentItem-status finished hasBorder",children:Z?Object(a.jsxs)("div",{className:"vote",children:[Object(a.jsxs)("span",{className:"rate",children:[Object(a.jsx)("span",{className:"HbIc-star icon"}),"".concat(Z," ").concat(Object(p.h)(Z,"Stern","e"))]}),Object(a.jsx)(m.e,{children:"Zur Bewertung"})]}):Object(a.jsx)(m.e,{children:"Beratung bewerten"})});case S:var e=j()().unix(),t=e>=J&&e<=F;return Object(a.jsx)("div",{className:"AppointmentItem-status accepted ".concat(t&&"hasBorder"),children:t&&Object(a.jsx)(m.e,{children:"Teilnehmen"})})}}()})]})]})},M=n(7),A=n(24),w=function(e){var t=e.title,n=e.onClick,c=void 0===n?function(){}:n,i=Object(A.a)(e,["title","onClick"]);return Object(a.jsx)("div",{className:"AppointmentLayout-footer",children:Object(a.jsx)(m.c,Object(M.a)(Object(M.a)({},i),{},{color:"petrol",outline:!0,children:t,onClick:c}))})},E=n(96),T=function e(t){var n=t.questionData,c=void 0===n?{}:n,i=t.parentQuestionId,r=t.isSubQuestion,o=t.answers,u=void 0===o?{}:o,d=t.setAnswers,j=void 0===d?function(){}:d,m=c.id,b=c.question_title,f=void 0===b?"":b,O=c.question_type,h=c.step_number,p=c.answers,x=void 0===p?[]:p,g=Object(s.useMemo)((function(){return x.map((function(e){var t=e.answer_title;return{label:t,name:m,value:t,icon:v.C[t]}}))}),[m,x]),D=Object(s.useMemo)((function(){var e=(u[m]||{}).answer;return void 0===e?"":e}),[m,u]),S=Object(s.useMemo)((function(){var e=(x.find((function(e){return(null===e||void 0===e?void 0:e.answer_title)===D}))||{}).sub_questions;return void 0===e?[]:e}),[x,D]),N=function(e){var t=e.target.value,n=Object.keys(u).reduce((function(e,t){var n=u[t]||{};return n.parentQuestionId!==m?Object(M.a)(Object(M.a)({},e),{},Object(l.a)({},t,n)):e}),{});j(Object(M.a)(Object(M.a)({},n),{},Object(l.a)({},m,{question_id:m,question_title:f,answer:t,step_number:h,parentQuestionId:i})))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"SurveyQuestionItem-container",children:[Object(a.jsx)("h3",{className:"AppointmentLayout-title",children:f}),Object(a.jsx)("div",{className:"SurveyQuestionItem-answers",children:function(){switch(O){case v.B.TEXTBOX:return Object(a.jsx)(E.m,{value:D,onChange:N,maxLength:r?v.x:v.u,placeholder:r?"Ihr Pflegehilfsmittel":"Bitte angeben"});case v.B.RADIO:return Object(a.jsx)(E.r,{value:D,options:g,onChange:N});case v.B.YES_NO:default:return Object(a.jsx)(E.s,{value:D,options:g,onChange:N})}}()})]}),S.map((function(t,n){return Object(a.jsx)(e,{isSubQuestion:!0,questionData:t,parentQuestionId:m,answers:u,setAnswers:j},n)}))]})},k=(n(912),function(e){var t=e.className,n=void 0===t?"":t,c=e.title,i=void 0===c?"":c,s=e.description,r=void 0===s?"":s,o=e.image,u=e.onClick;return Object(a.jsxs)("div",{className:"ConsultingCategoryItem-container ".concat(n),onClick:u,children:[Object(a.jsxs)("div",{className:"ConsultingCategoryItem-up",children:[Object(a.jsx)("h4",{className:"ConsultingCategoryItem-title",children:i}),Object(a.jsx)("p",{className:"ConsultingCategoryItem-desc",children:r})]}),o&&Object(a.jsx)("div",{className:"ConsultingCategoryItem-image",children:Object(a.jsx)(g.a,{src:o,alt:""})})]})}),y=(n(913),v.D.TODAY),q=v.D.TOMORROW,H=v.D.LATER,B=new Date(j()().add(2,"d").format("YYYY-MM-DD")),P=new Date(j()().add(21,"d").format("YYYY-MM-DD")),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{label:e,value:e}}))},L=function(e){var t,n=e.className,c=void 0===n?"":n,i=e.isEditSchedule,r=e.scheduleData,o=e.lbDate,l=void 0===o?"Datum":o,d=e.lbTime,b=void 0===d?"Von \u2013 Bis":d,f=e.onConfirm,O=void 0===f?function(){}:f,h=r||{},x=h.selectedOption,g=h.timeStart,D=h.timeEnd,S=h.specificDate,N=Object(s.useMemo)((function(){return j()().format("HH:mm")>v.y?[q,H]:[y,q,H]}),[]),_=Object(s.useState)(R(N)),Y=Object(u.a)(_,2),C=Y[0],I=Y[1],M=Object(s.useState)(x||(null===(t=C[0])||void 0===t?void 0:t.value)),A=Object(u.a)(M,2),T=A[0],k=A[1],L=Object(s.useState)(g||Object(p.f)(T===y?"":v.i)),Q=Object(u.a)(L,2),J=Q[0],F=Q[1],X=Object(s.useState)(D||Object(p.c)(J)),G=Object(u.a)(X,2),W=G[0],Z=G[1],U=Object(s.useState)(S||B),V=Object(u.a)(U,2),z=V[0],K=V[1],$=Object(s.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ce=Object(s.useMemo)((function(){var e=T===y?Object(p.f)():"00:00";return Object(p.e)(e,{maxTime:v.w})}),[T]),ie=Object(s.useMemo)((function(){return Object(p.e)(Object(p.d)(J,.25))}),[J]),ae=Object(s.useMemo)((function(){return j()(z).format("DD.MM.YYYY")}),[z]);Object(s.useEffect)((function(){var e,t=C.some((function(e){return e.value===T})),n=T;t||(n=null===(e=C[0])||void 0===e?void 0:e.value,k(n));var c=ce.some((function(e){return e.value===J}));if(!t||!c){var i=Object(p.f)(n===y?"":v.i);F(i),Z(Object(p.c)(i))}}),[]);var se=function(e){return function(t){var n=t.target.value,c=void 0===n?"":n;if(e)return F(c),void Z(Object(p.c)(c));Z(c)}},re=function(){var e=Object(p.g)({selectedOption:T,specificDate:z,timeStart:J}),t=ce.some((function(e){return e.value===J})),n=ie.some((function(e){return e.value===W}));e&&t&&n?O({selectedOption:T,specificDate:z,timeStart:J,timeEnd:W}):ne(!0)};return Object(a.jsxs)("div",{className:"SetSchedule-area ".concat(c),children:[Object(a.jsxs)("div",{className:"SetSchedule-container",children:[Object(a.jsxs)("div",{className:"SetSchedule-chooseDate",children:[Object(a.jsxs)("div",{className:"SetSchedule-listDates",children:[Object(a.jsx)("h5",{className:"AppointmentLayout-subLabel",children:l}),Object(a.jsx)(E.a,{className:"SetSchedule-options",value:T,options:C,onClick:function(e){var t=Object(p.f)(e===y?"":v.i);F(t),Z(Object(p.c)(t)),k(e)}})]}),T===H&&Object(a.jsxs)("div",{className:"SetSchedule-datePicker",children:[Object(a.jsx)("h5",{className:"SetSchedule-lb",children:"Datum w\xe4hlen"}),Object(a.jsx)(E.h,{disabled:!0,placeholder:"TT.MM.JJJJ",selected:z,value:ae,minDate:B,maxDate:P,onChange:function(e){K(e)}})]})]}),Object(a.jsxs)("div",{className:"SetSchedule-times",children:[Object(a.jsx)("h5",{className:"SetSchedule-lb",children:b}),Object(a.jsxs)("div",{className:"SetSchedule-timesOptions",children:[Object(a.jsx)(E.j,{value:J,options:ce,onChange:se(!0)}),Object(a.jsx)("span",{children:"und"}),Object(a.jsx)(E.j,{value:W,options:ie,onChange:se()})]})]})]}),i?Object(a.jsx)("div",{className:"SetSchedule-actions",children:Object(a.jsx)(m.e,{onClick:re,children:"\xc4nderungen \xfcbernehmen"})}):Object(a.jsx)(w,{type:"submit",title:"Speichern",onClick:re}),Object(a.jsx)(m.j,{show:te,handleClose:function(){return ne(!1)},title:"Information",content:"Wir haben nicht genug Zeit, um Ihre Anfrage anzunehmen. Bitte w\xe4hlen Sie die Zeit erneut",up:"Verstanden",upCallback:function(){ne(!1);var e=j()().format("HH:mm"),t=Object(p.f)();e>v.y&&(I(R([q,H])),k(q),t=v.i),F(t),Z(Object(p.c)(t))}})]})}},742:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(7),i=n(1),a=n(20),s=n(45);function r(){var e=Object(a.c)(),t=Object(a.d)((function(e){return e.auth}),a.b);return Object(i.useMemo)((function(){return Object(c.a)(Object(c.a)({},t),{},{updateProfile:function(t){return e(Object(s.l)(t))}})}),[e,t])}},909:function(e,t,n){},910:function(e,t,n){},911:function(e,t,n){},912:function(e,t,n){},913:function(e,t,n){}}]);
//# sourceMappingURL=1.d00ef509.chunk.js.map