(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[36],{605:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return _})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return y}));var i=n(78),a=n.n(i),c=n(29),r=n(73),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxTime,i=void 0===n?r.w:n,a=c.g.filter((function(t){return t>=e&&t<=i}));return a.map((function(e){return{label:e,value:e}}))},s=function(e){if(e)return e;var t=a()().add(2,"hours").format("HH:mm");return c.g.find((function(e){return e>=t&&e<="23:45"}))||t},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a()("".concat(a()().format("YYYY-MM-DD")," ").concat(e));return e<r.x?n.add(t,"hours").format("HH:mm"):r.w},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e<"23:00"?d(e):r.w},u=n(142),h=r.g.USER,b=(r.g.NURSE,r.g.ASSISTANT,function(){var e=u.b.getState().auth.group_name;return void 0===e?"":e}),v=function(){return b()===h},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return e>1?"".concat(t).concat(n):t},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(e," ").concat(1===e?"\xdcbung":"\xdcbungen")},f=n(47),g=n(190),_=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.every((function(t){var i=t.id,a=t.required,c=t.question_type,o=t.answers,s=void 0===o?[]:o,d=s.reduce((function(e,t){return[].concat(Object(f.a)(e),[t.answer_title])}),[]),l=n[i]||{},u=l.answer,h=void 0===u?"":u,b=l.parentQuestionId;if(a&&!h)return!1;switch(c){case r.C.YES_NO:case r.C.RADIO:if(!Object(g.includes)(d,h))return!1;break;case r.C.TEXTBOX:if(h.length>r.v)return!1;if(b&&h.length>r.y)return!1}var v=s.find((function(e){return e.answer_title===h}));if(v){var j=v.sub_questions;if(!e(void 0===j?[]:j,n))return!1}return!0}))},p=function(e){var t=e||{},n=t.selectedOption,i=t.timeStart,c=t.specificDate,o=a()().format("YYYY-MM-DD"),s=a.a.duration(a()("".concat(o," ").concat(i)).diff(a()())).asHours(),d=a()(c).format("YYYY-MM-DD");return n===r.E.TOMORROW||n===r.E.LATER&&o<=d||s>=r.F},O=n(7),x=function(e){var t=e.selectedOption,n=e.specificDate,i=e.timeStart,c=e.timeEnd,o=a()();t!==r.E.TODAY&&(o=t===r.E.LATER?a()(n):a()().add(1,"d"));var s=o.format("YYYY-MM-DD");return{appointment_time_begin:a()("".concat(s," ").concat(i)).utc().unix(),appointment_time_end:a()("".concat(s," ").concat(c)).utc().unix()}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.f[r.e.NURSE],n=e||{},i=n.selectedTopic,a=n.adviceRelatives,c=void 0===a?[]:a,o=n.scheduleData,s=void 0===o?{}:o,d=n.userInfo,l=void 0===d?{}:d,u=n.surveyAnswers,h=void 0===u?{}:u,b=l.phone_number,v=void 0===b?"":b,j=l.street,m=l.gender,g=l.postal_code,_=l.no,p=l.place,y=Object(f.a)(Object.values(h)).reduce((function(e,t){var n=t||{},i=n.question_id,a=n.answer,c=n.question_title,r=n.parentQuestionId,o={question_id:i,answer:a,question_title:c};return r?e=e.map((function(e){var t=e||{},n=t.question_id,i=t.sub_questions;return n===r?Object(O.a)(Object(O.a)({},e),{},{sub_questions:[].concat(Object(f.a)(i),[o])}):e})):[].concat(Object(f.a)(e),[Object(O.a)(Object(O.a)({},o),{},{sub_questions:[]})])}),[]),w=x(s);return Object(O.a)({result_survey:{questions:y},appointment_type:t,selected_treatments_id:i,customer_gender:m,phone_number:v,street:j,postcode:g,no:_,place:p,relatives:c,cost:1},w)}},614:function(e,t,n){"use strict";var i=n(3),a=(n(1),{large:80,medium:48,small:36});t.a=function(e){var t=e.size,n=e.render;return Object(i.jsx)("div",{className:"video-comments--comment",children:Object(i.jsx)("div",{style:{width:"100%",height:a[t]},children:n})})}},678:function(e,t,n){"use strict";t.a=n.p+"static/media/Saly-24.fc543b3d.png"},900:function(e,t,n){e.exports={mobilityWrapper:"MobilitySaved_mobilityWrapper__sMArV",btn:"MobilitySaved_btn__sv5Xg",title:"MobilitySaved_title__14cu5",searchBtn:"MobilitySaved_searchBtn__3shZs",altere:"MobilitySaved_altere__3ia4r",informationTrainer:"MobilitySaved_informationTrainer__pw6EV",amountView:"MobilitySaved_amountView__1Fxxs",hashtag:"MobilitySaved_hashtag__2NyTU",content:"MobilitySaved_content__2xWEz",hbSave:"MobilitySaved_hbSave__1JuA_",iconCross:"MobilitySaved_iconCross__2fPfl",noVideo:"MobilitySaved_noVideo__qK7NZ",thumbnail:"MobilitySaved_thumbnail__22JmS",itemContent:"MobilitySaved_itemContent__1E5XA",tags:"MobilitySaved_tags__2iHSX",wrapperContainer:"MobilitySaved_wrapperContainer__n31ni",itemInfo:"MobilitySaved_itemInfo__1IfiA",hashTag:"MobilitySaved_hashTag__3at1l",avatar:"MobilitySaved_avatar__3zZJs"}},994:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(7),c=n(47),r=n(16),o=n(1),s=n(38),d=n(29),l=n(39),u=n(192),h=n(31),b=n(614),v=n(117),j=n(900),m=n.n(j),f=n(678),g=n(32),_=n(196),p=(n(195),n(189)),O=n(98),x=n(605),y=86400,w=7*y,S=30*y,N=31104e3;t.default=function(){var e=Object(l.i)().search,t=new URLSearchParams(e).get("history")||"",n=Object(p.b)().callApi,j=Object(l.h)(),M=Object(o.useState)({data:[],loading:!0,full:!1,page:0}),k=Object(r.a)(M,2),C=k[0],T=k[1],E=Object(o.useState)(""),A=Object(r.a)(E,2),D=A[0],I=A[1],Y=Object(o.useState)(!1),R=Object(r.a)(Y,2),q=R[0],W=R[1],H=Object(o.useState)(!1),V=Object(r.a)(H,2),z=V[0],J=V[1],B=t?"watch_history_id":"id",U=function(e,i){var a=Object(g.n)(i);n({method:"get",api:t?d.d.rest.getHistoryWatch(e,i,a):d.d.rest.getSearchVideos("1",e,"",a,i),loading:1===i},(function(e){var t=e.data;e.status===s.c&&T((function(e){return{data:1===i?t.videos:[].concat(Object(c.a)(e.data),Object(c.a)((n=e.data,r=t.videos,r.filter((function(e){return-1===n.findIndex((function(t){return t[B]===e[B]}))}))))),full:t.videos.length<a,loading:!1,page:i};var n,r}))}))},L=function(){W(!1)};Object(o.useEffect)((function(){var e;U(D,1),null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);var X={className:"header-topic--wrapper__search--selection__world",searchName:D,setSearchName:I,searchEmpty:!0,callbackSearch:function(e){J(!0),U(e,1)},isNew:!0,clearBtn:!0,onKeyPress:function(e){U(e,1)},timeoutSearch:0,callbackEmpty:function(){J(!0),U("",1)}},F=function(e){return Object(i.jsx)("div",{className:"hb-card-item",children:Object(i.jsxs)("div",{className:m.a.itemContent,style:{backgroundColor:"white",padding:15,borderRadius:32,height:181,display:"flex",alignItems:"center"},children:[Object(i.jsx)("div",{children:Object(i.jsx)(O.n,{backgroundImage:null===e||void 0===e?void 0:e.thumbnail,className:m.a.thumbnail,style:{overflow:"hidden",display:"block",borderRadius:20,width:150,height:150,backgroundSize:"cover",marginRight:20,cursor:"pointer"},onClick:function(){return j.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))}})}),Object(i.jsxs)("div",{className:m.a.itemInfo,style:{marginRight:20,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsxs)("div",{className:"".concat(m.a.informationTrainer," d-flex justify-content-between"),children:[Object(i.jsx)(O.n,{backgroundImage:(null===e||void 0===e?void 0:e.trainer_avatar)||h.d,className:m.a.avatar,style:{borderRadius:"50%",width:32,height:32,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",cursor:(null===e||void 0===e?void 0:e.trainer_id)?"pointer":"default"},onClick:function(){(null===e||void 0===e?void 0:e.trainer_id)&&j.push("/mobility/trainer-detail/".concat(null===e||void 0===e?void 0:e.trainer_id))}}),Object(i.jsx)(_.a,{interactive:!0,content:(null===e||void 0===e?void 0:e.viewed_amount)||"0",children:Object(i.jsxs)("div",{className:m.a.amountView,children:[Object(i.jsx)("i",{className:"hb-icon-eye"}),Object(i.jsx)("span",{children:Object(g.r)(null===e||void 0===e?void 0:e.viewed_amount)})]})})]}),Object(i.jsx)("div",{className:"".concat(t?m.a.hbSave:"hb-save"),onClick:function(){return t?function(e){var t=Object(a.a)({},C),i=Object(c.a)(null===C||void 0===C?void 0:C.data);i=i.filter((function(t){return(null===t||void 0===t?void 0:t.watch_history_id)!==e})),t.data=i,T(t),n({method:"delete",api:d.d.rest.removeHistoryWatch(e)},(function(e){e.status,console.log("response",e),s.c}))}(e.watch_history_id):(i=e.id,r=e.is_saved,T((function(e){var t=Object(c.a)(e.data),n=t.findIndex((function(e){return e.id===i}));return t[n].is_saved=!t[n].is_saved,Object(a.a)(Object(a.a)({},e),{},{data:t})})),void n({method:r?"put":"post",api:r?d.d.rest.unsaveVideo(i):d.d.rest.saveVideo(i)},(function(e){e.status,s.c})));var i,r},children:t?Object(i.jsx)("i",{className:"".concat(m.a.iconCross," hb-icon-cross")}):Object(i.jsx)("i",{className:"".concat(e.is_saved?"hb-icon-heart-s":"hb-icon-heart-r")})})]}),Object(i.jsx)("div",{className:m.a.content,onClick:function(){return j.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))},children:(null===e||void 0===e?void 0:e.title.length)>30?(null===e||void 0===e?void 0:e.title.slice(0,27))+"...":null===e||void 0===e?void 0:e.title})]}),Object(i.jsx)("div",{className:"d-flex ".concat(m.a.tags),style:{cursor:"pointer"},onClick:function(){return j.push("/mobility/watch?video=".concat(null===e||void 0===e?void 0:e.id))},children:Object(h.b)(e.category_name)})]})]})},t?null===e||void 0===e?void 0:e.watch_history_id:null===e||void 0===e?void 0:e.id)},G=[],K=function(e,n){var i=G.findIndex((function(t){return t.label===e}));-1===i?G.push({label:e,arr:[n],count:t||n.is_saved?1:0}):(G[i].arr.push(n),G[i].count+=t||n.is_saved?1:0)},P=new Date,Z=P.getTime(),Q=3600*P.getHours()+60*P.getMinutes()+P.getSeconds();return C.data.forEach((function(e){return function(e){var t=new Date(1e3*(e.saved_date||e.created_date)),n=(Z-t.getTime())/1e3;K(n<Q?"Heute":(n+=86399-Q)<2*y?"1 Tag":n<w?Math.floor(n/y)+" Tage":n<2*w?"1 Woche":n<S?Math.floor(n/w)+" Wochen":n<5184e3?"1 Monat":n<N?Math.floor(n/S)+" Monate":n<2*N?"1 Jahr":Math.floor(n/N)+" Jahre",e)}(e)})),0===G.length&&!D&&C.loading?Object(i.jsx)("div",{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(v.j,{show:q,handleClose:L,title:t?"Gesehene l\xf6schen":"Gespeicherte l\xf6schen",content:t?"Sind Sie sicher, dass Sie Ihre gesehenen \xdcbungen vollst\xe4ndig l\xf6schen m\xf6chten?":"Sind Sie sicher, dass Sie Ihre gespeicherten \xdcbungen vollst\xe4ndig l\xf6schen m\xf6chten?",up:"Ja, l\xf6schen",upCallback:function(){n({method:"delete",api:t?d.d.rest.clearAllHistoryWatch():d.d.rest.unsaveALLMobility(),loading:!0},(function(e){e.status===s.c&&(W(!1),T(Object(a.a)(Object(a.a)({},C),{},{data:[]})))}))},down:"Abbrechen",downCallback:L}),Object(i.jsxs)("div",{className:"hb-mx-20",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between hb-my-28",children:[Object(i.jsxs)(v.e,{className:m.a.btn,onClick:function(){return j.goBack()},children:[Object(i.jsx)("i",{className:"hb-icon-arrow-left hb-icon-md"})," Zur\xfcck"]}),0!==G.length&&Object(i.jsx)(v.e,{mini:!0,onClick:function(){W(!0),J(!1)},children:"Alle l\xf6schen"})]}),Object(i.jsx)("h1",{className:m.a.title,children:t?"Angesehene \xdcbungen":" Gespeicherte \xdcbungen"})]}),0!==G.length||z||D||C.loading?Object(i.jsx)("div",{className:"hb-card ".concat(m.a.wrapperContainer),children:Object(i.jsxs)("div",{className:"videos-saved--page",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-md-12",children:Object(i.jsx)(v.m,Object(a.a)(Object(a.a)({placeholder:"\xdcbung suchen"},X),{},{nightBlue:!0}))})}),G.map((function(e){return Object(i.jsxs)("div",{className:"levelDateWrapper",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsx)("h2",{className:"levelDateWrapperTitle",children:e.label}),Object(i.jsx)("div",{className:"levelDateWrapperAmountVideos",children:Object(x.j)(e.count)})]}),Object(i.jsx)("div",{className:m.a.mobilityWrapper,children:e.arr.map((function(e){return F(e)}))})]},e.label)})),0===G.length&&Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("p",{className:m.a.noVideo,children:"Keine Suchergebnisse"})}),0!==C.page&&C.loading&&Object(i.jsx)(b.a,{size:"large",render:h.g}),Object(i.jsx)(u.a,{onEnter:function(){C.loading||C.full||(T(Object(a.a)(Object(a.a)({},C),{},{loading:!0})),U(D,C.page+1))}})]})}):Object(i.jsx)("div",{className:"hb-no-content",children:Object(i.jsxs)("div",{className:"hb-no-content__image",children:[Object(i.jsxs)("div",{className:"image-content-wrap",children:[Object(i.jsx)("h2",{className:"image-content-title",children:"Keine ".concat(t?"Angesehene":"Gespeicherten"," \xdcbungen")}),!t&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{className:"image-content",children:"Um \xdcbungen zu speichern, tippen"})," ",Object(i.jsx)("h4",{className:"image-content-below",children:"Sie auf das Herz beim \xdcbung."})]})]}),Object(i.jsx)("div",{style:{backgroundImage:'url("'.concat(f.a,'")')},className:"image-saly"})]})})]})}}}]);
//# sourceMappingURL=36.99531435.chunk.js.map