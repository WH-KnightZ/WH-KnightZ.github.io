(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[5],{608:function(e,t,n){var i=n(609),r=n(610),a=n(611),o=n(613);e.exports=function(e,t){return i(e)||r(e,t)||a(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},609:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},610:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(s){r=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(r)throw a}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},611:function(e,t,n){var i=n(612);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},612:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.default=e.exports,e.exports.__esModule=!0},613:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},621:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(608),r=n.n(i),a=n(194),o=n.n(a),c=n(1),s=n(595);function u(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var l={};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&l[t[0]]||("string"===typeof t[0]&&(l[t[0]]=new Date),u.apply(void 0,t))}function b(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return d("i18n.languages were undefined or empty",t.languages),!0;var i=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(i,e)||(!t.services.backendConnector.backend||!(!o(i,e)||r&&!o(a,e))))}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=Object(c.useContext)(s.a)||{},a=i.i18n,o=i.defaultNS,u=n||a||Object(s.d)();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new s.b),!u){d("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},j=[l,{},!1];return j.t=l,j.i18n={},j.ready=!1,j}u.options.react&&void 0!==u.options.react.wait&&d("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var O=f(f(f({},Object(s.c)()),u.options.react),t),m=O.useSuspense,h=e||o||u.options&&u.options.defaultNS;h="string"===typeof h?[h]:h||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(h);var g=(u.isInitialized||u.initializedStoreOnce)&&h.every((function(e){return p(e,u,O)}));function v(){return{t:u.getFixedT(null,"fallback"===O.nsMode?h:h[0])}}var x=Object(c.useState)(v()),y=r()(x,2),S=y[0],E=y[1],A=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=O.bindI18n,t=O.bindI18nStore;function n(){A.current&&E(v())}return A.current=!0,g||m||b(u,h,(function(){A.current&&E(v())})),e&&u&&u.on(e,n),t&&u&&u.store.on(t,n),function(){A.current=!1,e&&u&&e.split(" ").forEach((function(e){return u.off(e,n)})),t&&u&&t.split(" ").forEach((function(e){return u.store.off(e,n)}))}}),[h.join()]);var w=[S.t,u,g];if(w.t=S.t,w.i18n=u,w.ready=g,g)return w;if(!g&&!m)return w;throw new Promise((function(e){b(u,h,(function(){e()}))}))}},665:function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_FILTER",(function(){return H})),n.d(t,"TITLES",(function(){return J})),n.d(t,"NURSE_TITLES",(function(){return G})),n.d(t,"MODE_OPTIONS",(function(){return Q})),n.d(t,"BUFFER_PAGE",(function(){return V}));var i,r,a,o,c,s=n(3),u=n(47),l=n(16),d=n(7),b=n(49),p=n(1),j=n(39),f=n(190),O=n(78),m=n.n(O),h=n(745),g=n(732),v=n(621),x=n(117),y=n(98),S=n(632),E=n(31),A=n(73),w=n(605),D=A.b.REQUESTED,N=A.b.ACCEPTED,C=A.b.FINISHED,_=A.b.CANCELLED,F=(i={},Object(b.a)(i,D,"Hier finden Sie alle Beratungen die sie beantragt haben."),Object(b.a)(i,N,"Hier finden Sie alle Beratungen die von unseren Pflegeberatern angenommen wurden."),Object(b.a)(i,C,"Hier finden Sie alle Beratungen die Sie durchgef\xfchrt haben."),Object(b.a)(i,_,"Hier finden Sie alle Beratungen die storniert wurden."),i),T=Object(d.a)(Object(d.a)({},F),{},(r={},Object(b.a)(r,D,"Hier finden Sie alle Beratungen die Ihnen vom System zugewiesen wurden."),Object(b.a)(r,N,"Hier finden Sie alle Beratungen die Sie akzeptiert haben."),r)),k=(a={},Object(b.a)(a,D,"Sie haben noch keine Beratung gebucht."),Object(b.a)(a,N,"Sie haben noch keine akzeptierten Beratungen."),Object(b.a)(a,C,"Sie haben noch keine durchgef\xfchrten Beratungen."),Object(b.a)(a,_,"Sie haben keine stornierten Beratungen."),a),M=Object(d.a)(Object(d.a)({},k),{},Object(b.a)({},D,"Sie haben keine Beratungsanfrage in dieser Zeit.")),I=function(e){var t=Object(j.h)(),n=Object(v.a)().t,i=e.currentPage,r=e.totalRecords,a=e.isLoading,o=e.appointments,c=void 0===o?[]:o,u=e.requestType,l=e.setMode,d=e.setSelectedAppointment,b=e.setIsOpenPopupCancel,f=e.handleLoadmore,O=Object(p.useMemo)((function(){return Object(w.g)()?k:M}),[]),m=Object(p.useMemo)((function(){return Object(w.g)()?F:T}),[]);return Object(s.jsxs)(s.Fragment,{children:[!!(null===c||void 0===c?void 0:c.length)&&Object(s.jsx)("p",{className:"AllAppointmentsLayout-desc",children:m[u]}),Object(s.jsx)("div",{className:"AllAppointmentsLayout-list",children:(null===c||void 0===c?void 0:c.length)?c.map((function(e,n){return Object(s.jsx)(S.c,{requestType:u,appointment:e,onOpenPopupEdit:function(){return l(Q.EDIT)},onOpenPopupCancel:function(){return b(!0)},onSetSelectedAppointment:d,onClick:function(){return t.push("/consulting/user/view-appointments/".concat(u,"/").concat(e.id))}},n)})):Object(s.jsx)(s.Fragment,{children:!a&&Object(s.jsxs)("div",{className:"AllAppointmentsLayout-noResults",children:[Object(s.jsx)("p",{children:O[u]}),u===D&&Object(w.g)()&&Object(s.jsx)("div",{className:"AllAppointmentsLayout-noResults_footer",children:Object(s.jsx)(x.e,{onClick:function(){return t.push("/consulting/book-an-appointment")},children:"Beratung buchen"})})]})})}),Object(s.jsxs)("div",{className:"AllAppointmentsLayout-loadmore",children:[a&&i>V&&Object(s.jsx)(y.k,{className:"AllAppointmentsLayout-loading",size:"lg",render:E.g}),!a&&(null===c||void 0===c?void 0:c.length)<r&&Object(s.jsx)(x.a,{onClick:f,children:n("loadMore")})]})]})},L=n(688),Y=n(689),B=n(189),P=n(29),R=A.b.REQUESTED,z=A.b.ACCEPTED,U=A.b.FINISHED,q=A.b.CANCELLED,H={selectedDate:"",timeStart:"00:00",timeEnd:A.w},J=(o={},Object(b.a)(o,R,"Angefragt"),Object(b.a)(o,z,"Akzeptiert"),Object(b.a)(o,U,"Durchgef\xfchrt"),Object(b.a)(o,q,"Storniert"),o),G=Object(d.a)(Object(d.a)({},J),{},Object(b.a)({},R,"Systemanfragen")),Q={VIEW:1,FILTER:2,EDIT:3},V=2,W={id:""},Z=Q.VIEW,$=Q.FILTER,K=Q.EDIT,X=(c={},Object(b.a)(c,$,"Filter"),Object(b.a)(c,K,"Ausgew\xe4hlte Beratung"),c);t.default=function(){var e=Object(j.h)(),t=Object(j.j)(),n=t.appointmentType,i=t.requestType,r=Object(B.b)().callApi,a=Object(p.useState)(Z),o=Object(l.a)(a,2),c=o[0],d=o[1],b=Object(p.useState)(H),O=Object(l.a)(b,2),v=O[0],x=O[1],y=Object(p.useState)({appointments:[],totalRecords:0}),S=Object(l.a)(y,2),E=S[0],D=S[1],N=Object(p.useState)(!0),C=Object(l.a)(N,2),_=C[0],F=C[1],T=Object(p.useState)(1),k=Object(l.a)(T,2),M=k[0],R=k[1],z=Object(p.useState)(W),U=Object(l.a)(z,2),Q=U[0],ee=U[1],te=Object(p.useState)(!1),ne=Object(l.a)(te,2),ie=ne[0],re=ne[1],ae=E.appointments,oe=void 0===ae?[]:ae,ce=E.totalRecords,se=void 0===ce?0:ce,ue=Object(p.useMemo)((function(){return!Object(f.isEqual)(v,H)}),[v]),le=Object(p.useMemo)((function(){return Object(w.g)()?J:G}),[]),de=Object(p.useMemo)((function(){return X[c]||le[i]}),[c,i,le]),be=Object(p.useMemo)((function(){return!(null===oe||void 0===oe?void 0:oe.length)&&!ue||c===K?"":c===$?"Schlie\xdfen":"Filtern"}),[oe,ue,c]),pe=Object(p.useMemo)((function(){return Object(w.g)()?P.d.rest.getAppointments():P.d.rest.getNurseAppointments()}),[]),je=Object(p.useCallback)((function(e,t){var a=1===e?V:1,o=t||v,c={begin:-1,end:-1};if(!Object(f.isEqual)(o,H)){var s=o.selectedDate,l=o.timeStart,d=o.timeEnd,b=(s===A.E.TODAY?m()():m()(s)).format("YYYY-MM-DD");c={begin:m()("".concat(b," ").concat(l)).utc().unix(),end:m()("".concat(b," ").concat(d)).utc().unix()}}F(!0),r({api:pe,method:"post",body:{is_me:0,appointment_type:A.f[n],appointment_status:A.c[i],between:[c],page:e,page_size:a*A.i},loading:1===e},(function(t){F(!1);var n=t.status,i=t.data;if(n===B.a){var r=i.consulting_appointments,a=void 0===r?[]:r,o=i.total_record;D((function(t){var n=t.appointments,i=void 0===n?[]:n;return{appointments:1===e?a:[].concat(Object(u.a)(i),Object(u.a)(a)),totalRecords:o}})),1===e&&R(2)}}))}),[n,i,v]);Object(p.useEffect)((function(){Object(f.includes)(Object.values(A.e),n)&&Object(f.includes)(Object.values(A.b),i)||e.push("/404")}),[]),Object(p.useEffect)((function(){je(1)}),[i]);var fe=function(){var e=M+1;R(e),je(e)},Oe=function(){d(Z),ee(W),je(1,v)},me=function(e){d(Z),x(e),je(1,e)};return Object(s.jsxs)(g.a,{className:ue&&"filter",title:de,onBack:function(){Object(f.includes)([$,K],c)?d(Z):e.push("/consulting/".concat(n,"/view-appointments"))},btnFilterIcon:c===$&&"cross",btnFilter:be,onFilter:function(){return d(c===$?Z:$)},noBackground:c===K,children:[function(){switch(c){case Z:return Object(s.jsx)(I,{appointments:oe,currentPage:M,totalRecords:se,isLoading:_,requestType:i,setMode:d,setSelectedAppointment:ee,setIsOpenPopupCancel:re,handleLoadmore:fe});case $:return Object(s.jsx)(L.a,{timeFilter:v,onFilter:me});case K:return Object(s.jsx)(Y.a,{requestType:i,appointment:Q,onConfirm:Oe})}}(),Object(s.jsx)(h.b,{open:ie,maxLength:200,hasClose:!0,title:"Assistenz stornieren",description:"Bitte nennen Sie uns dne Grund warum Sie die Assitenz stornieren wollen",btnConfirm:"Grund \xfcbermitteln",btnCancel:"Stornierung abbrechen",onConfirm:function(e){var t=Object(w.g)()?P.d.rest.updateDeleteAppointment():P.d.rest.nurseUpdateDeleteAppointment();r({method:"delete",api:t,body:{appointment_id:Q.id,update_status:A.c[q],reason_refusal:e||""},loading:!0},(function(e){var t=e.status;re(!1),t===B.a&&(je(1,H),d(Z))}))},onCancel:function(){return re(!1)},onClose:function(){return re(!1)}})]})}},688:function(e,t,n){"use strict";var i=n(3),r=n(16),a=n(1),o=n(78),c=n.n(o),s=n(117),u=n(98),l=n(73),d=n(605),b=n(665),p=l.E.TODAY,j=l.E.OTHER,f=[p,j].map((function(e){return{label:e,value:e}})),O=new Date(c()().add(1,"d").format("YYYY-MM-DD")),m=new Date(c()().add(21,"d").format("YYYY-MM-DD")),h=Object(d.e)("00:00",{maxTime:l.x});t.a=function(e){var t=e.timeFilter,n=e.onFilter,o=void 0===n?function(){}:n,g=t||{},v=g.selectedDate,x=void 0===v?"":v,y=g.timeStart,S=g.timeEnd,E=x&&x!==p,A=Object(a.useState)(E?j:x),w=Object(r.a)(A,2),D=w[0],N=w[1],C=Object(a.useState)(E?new Date(x):O),_=Object(r.a)(C,2),F=_[0],T=_[1],k=Object(a.useState)(y||"00:00"),M=Object(r.a)(k,2),I=M[0],L=M[1],Y=Object(a.useState)(S||l.w),B=Object(r.a)(Y,2),P=B[0],R=B[1],z=Object(a.useMemo)((function(){return Object(d.e)(Object(d.d)(I,.25))}),[I]),U=Object(a.useMemo)((function(){return c()(F).format("DD.MM.YYYY")}),[F]),q=function(e){return function(t){var n=t.target.value,i=void 0===n?"":n;if(e)return L(i),void R(Object(d.c)(i));R(i)}};return Object(i.jsx)("div",{className:"Filter-area",children:Object(i.jsxs)("div",{className:"Filter-container",children:[Object(i.jsxs)("div",{className:"Filter-chooseDate",children:[Object(i.jsxs)("div",{className:"Filter-listDates",children:[Object(i.jsx)("h5",{className:"Filter-lb",children:"Datum"}),Object(i.jsx)(u.a,{className:"Filter-options",value:D,options:f,onClick:N})]}),D===j&&Object(i.jsxs)("div",{className:"Filter-datePicker",children:[Object(i.jsx)("h5",{className:"Filter-lb small",children:"Datum w\xe4hlen"}),Object(i.jsx)(u.h,{disabled:!0,showYearDropdown:!0,showMonthDropdown:!0,placeholder:"TT.MM.JJJJ",selected:F,value:U,maxDate:m,onChange:function(e){T(e)}})]})]}),Object(i.jsxs)("div",{className:"Filter-times",children:[Object(i.jsx)("h5",{className:"Filter-lb",children:"Von \u2013 Bis"}),Object(i.jsxs)("div",{className:"Filter-timesOptions",children:[Object(i.jsx)(u.j,{value:I,options:h,disabled:!D,onChange:q(!0)}),Object(i.jsx)("span",{children:"und"}),Object(i.jsx)(u.j,{value:P,options:z,disabled:!D,onChange:q()})]})]}),Object(i.jsxs)("div",{className:"Filter-actions",children:[Object(i.jsx)(s.e,{disabled:!D,onClick:function(){var e={selectedDate:D===j?c()(F).format("YYYY-MM-DD"):D,timeStart:I,timeEnd:P};o(e)},children:"Filter anwenden"}),Object(i.jsx)("span",{onClick:function(){N(""),L("00:00"),R(l.w),o(b.DEFAULT_FILTER)},children:"Filter zur\xfccksetzen"})]})]})})}},689:function(e,t,n){"use strict";var i=n(3),r=n(7),a=(n(1),n(632)),o=n(605),c=n(189),s=n(29),u=n(73),l=u.b.REQUESTED;t.a=function(e){var t=Object(c.b)().callApi,n=e.requestType,d=e.appointment,b=e.onConfirm,p=d||{},j=p.id,f=p.appointment_status;return Object(i.jsxs)("div",{className:"Edit-area",children:[Object(i.jsx)("div",{className:"Edit-info",children:Object(i.jsx)(a.c,{requestType:n,appointment:d,isDetail:!0})}),Object(i.jsx)("div",{className:"Edit-content",children:Object(i.jsx)(a.h,{className:"Edit-schedule",isEditSchedule:!0,lbDate:"Neues Datum",lbTime:"Neue Uhrzeit",onConfirm:function(e){var n=Object(o.a)(e),i=n.appointment_time_begin,a=n.appointment_time_end,d=f===u.c[l]?n:{appointment_time_begin_want_edit:i,appointment_time_end_want_edit:a};t({method:"put",api:s.d.rest.updateDeleteAppointment(),body:Object(r.a)({appointment_id:j,update_status:f},d),loading:!0},(function(e){e.status===c.a&&b()}))}})})]})}},732:function(e,t,n){"use strict";var i=n(3),r=(n(1),n(117));n(915);t.a=function(e){var t=e.className,n=void 0===t?"":t,a=e.title,o=void 0===a?"":a,c=e.noBackground,s=void 0!==c&&c,u=e.btnBack,l=void 0===u?"Zur\xfcck":u,d=e.btnFilterIcon,b=e.btnFilter,p=void 0===b?"Filtern":b,j=e.onBack,f=void 0===j?function(){}:j,O=e.onFilter,m=e.children;return Object(i.jsxs)("div",{className:"hb-mx-20 AllAppointmentsLayout-area ".concat(n),children:[Object(i.jsxs)("div",{className:"AllAppointmentsLayout-header",children:[l&&Object(i.jsxs)(r.e,{color:"petrol",onClick:f,children:[Object(i.jsx)("i",{className:"hb-icon-arrow-left"})," ",l]}),p&&Object(i.jsxs)(r.e,{className:"btnFilter",color:"petrol",onClick:function(){return O?O():function(){}},children:[p," ",d&&Object(i.jsx)("i",{className:"hb-icon-".concat(d)})]})]}),Object(i.jsxs)("div",{className:"AllAppointmentsLayout-wrapperContainer",children:[o&&Object(i.jsx)("h3",{className:"AllAppointmentsLayout-title",children:o}),Object(i.jsx)("div",{className:"AllAppointmentsLayout-container ".concat(!s&&"bg"),children:m})]})]})}},915:function(e,t,n){}}]);
//# sourceMappingURL=5.2a5cdeaa.chunk.js.map