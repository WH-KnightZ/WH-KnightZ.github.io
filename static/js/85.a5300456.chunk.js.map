{"version":3,"sources":["views/user/personalInformation/DocumentItemWrapper.tsx","views/user/personalInformation/Documents.tsx"],"names":["DocumentItemWrapper","props","title","children","className","Documents","callApi","useApi","useState","data","loading","information","setInformation","show","name","url","modalViewDocument","setModalViewDocument","groupName","useSelector","state","auth","group_name","useEffect","method","api","config","rest","getInformationNurse","response","status","SUCCESS","renderImg","splitItems","split","length","file","pageNumber","height","src","defaultAvatar","alt","newSignature","signature","handleClose","style","paddingBottom","marginTop","card_number","card_location","moment","card_expires","format","onClick","image_front","image_back","files_professional","map","item","index","file_name","link","files_consultation"],"mappings":"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","file":"static/js/85.a5300456.chunk.js","sourcesContent":["import React from 'react';\n\ninterface Props {\n  title: string;\n}\n\nconst DocumentItemWrapper: React.FC<Props> = (props) => {\n  const { title, children } = props;\n\n  return (\n    <div className=\"hb-document-item\">\n      <div className=\"title\">{title}</div>\n      <div className=\"content\">{children}</div>\n    </div>\n  );\n};\nexport default DocumentItemWrapper;\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RouteComponentProps } from 'react-router';\nimport config from '../../../config';\nimport { defaultAvatar } from '../../../extensions';\nimport { HBModalViewDocument } from '../../../hbBaseClass';\nimport { SUCCESS } from '../../../store/callApi/actions';\nimport DocumentItemWrapper from './DocumentItemWrapper';\nimport { Page } from 'react-pdf';\nimport moment from 'moment';\nimport { useApi } from 'store/callApi';\nimport { KMSDocument, KMSImg } from 'components';\n\nconst Documents: React.FC<RouteComponentProps> = (props) => {\n  const { callApi } = useApi();\n  const [information, setInformation] = useState<any>({ data: {}, loading: true });\n  const [modalViewDocument, setModalViewDocument] = useState({ show: false, name: '', url: '' });\n  const groupName = useSelector((state: any) => state.auth.group_name);\n\n  const getInformationNurse = () => {\n    callApi(\n      {\n        method: 'get',\n        api: config.rest.getInformationNurse(),\n        loading: true,\n      },\n      (response) => {\n        const { data, status } = response;\n        if (status === SUCCESS) {\n          setInformation({\n            data: data,\n            loading: false,\n          });\n        }\n      },\n    );\n  };\n\n  useEffect(() => {\n    getInformationNurse();\n    // eslint-disable-next-line\n  }, []);\n\n  if (information.loading) return <div />;\n\n  const renderImg = (url: string) => {\n    const splitItems = url?.split?.('.');\n\n    if (splitItems[splitItems.length - 1] === 'pdf')\n      return (\n        <KMSDocument file={url}>\n          <Page pageNumber={1} height={360} />\n        </KMSDocument>\n      );\n\n    return <KMSImg src={url || defaultAvatar} alt=\"passport\" />;\n  };\n\n  const newSignature =\n    information.data.signature?.length > 0 ? information.data.signature[0] : 'https://i.imgur.com/hGefqAz.jpg';\n\n  return (\n    <div className=\"hb-wrapper\">\n      <HBModalViewDocument\n        {...modalViewDocument}\n        handleClose={() => setModalViewDocument({ ...modalViewDocument, show: false })}\n      />\n      <div className=\"hb-mx-20\" style={{ paddingBottom: 50 }}>\n        {/* <div className=\"hb-my-28\">\n          <HBButtonSmall color=\"nightblue\" onClick={() => history.goBack()}>\n            <i className=\"hb-icon-arrow-left hb-icon-md\" /> Zurück\n          </HBButtonSmall>\n        </div> */}\n        <div className=\"hb-title\" style={{ marginTop: 28 }}>\n          Dokumente\n        </div>\n        <DocumentItemWrapper title=\"Informationen zur Identintät\">\n          <div className=\"child-title\">Reisepassnummer</div>\n          <div className=\"child-content\">{information.data.card_number}</div>\n          <div className=\"child-title\">Ausstellungsort</div>\n          <div className=\"child-content\">{information.data.card_location}</div>\n          <div className=\"child-title\">Gültig bis</div>\n          <div className=\"child-content\">{moment(information.data.card_expires * 1000).format('DD.MM.YYYY')}</div>\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <div className=\"child-title\">Vorderseite Pass</div>\n              <div\n                className=\"child-document\"\n                onClick={() =>\n                  setModalViewDocument({\n                    show: true,\n                    name: 'Vorderseite Pass',\n                    url: information.data.image_front,\n                  })\n                }\n              >\n                {renderImg(information.data.image_front)}\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"child-title\">Rückseite Pass</div>\n              <div\n                className=\"child-document\"\n                onClick={() =>\n                  setModalViewDocument({\n                    show: true,\n                    name: 'Rückseite Pass',\n                    url: information.data.image_back,\n                  })\n                }\n              >\n                {renderImg(information.data.image_back)}\n              </div>\n            </div>\n          </div>\n        </DocumentItemWrapper>\n        {groupName === 'nurse' ? (\n          <DocumentItemWrapper title=\"Berufsbescheinigung &amp; Zertifikate\">\n            <div>\n              <div className=\"child-title\">Pflegezertifikat</div>\n              <div className=\"row\">\n                {information.data.files_professional.map((item: any, index: number) => {\n                  const splitItems = item?.file_name?.split('.');\n                  return (\n                    <div className=\"col-md-6\">\n                      <div\n                        key={index}\n                        className=\"child-document\"\n                        onClick={() =>\n                          setModalViewDocument({\n                            show: true,\n                            name: 'Pflegezertifikat',\n                            url: item.link,\n                          })\n                        }\n                      >\n                        {splitItems[splitItems.length - 1] === 'pdf' ? (\n                          <KMSDocument file={item.link}>\n                            <Page pageNumber={1} height={360} />\n                          </KMSDocument>\n                        ) : (\n                          <KMSImg src={item.link} alt=\"document\" />\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"child-title\">Berufsurkunde</div>\n              <div className=\"row\">\n                {information.data.files_consultation.map((item: any, index: number) => {\n                  const splitItems = item?.file_name?.split('.');\n                  return (\n                    <div className=\"col-md-6\">\n                      <div\n                        key={index}\n                        className=\"child-document\"\n                        onClick={() =>\n                          setModalViewDocument({\n                            show: true,\n                            name: 'Berufsurkunde',\n                            url: item.link,\n                          })\n                        }\n                      >\n                        {splitItems[splitItems.length - 1] === 'pdf' ? (\n                          <KMSDocument file={item.link}>\n                            <Page pageNumber={1} height={360} />\n                          </KMSDocument>\n                        ) : (\n                          <KMSImg src={item.link} alt=\"document\" />\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </DocumentItemWrapper>\n        ) : (\n          <DocumentItemWrapper title=\"Lebenslauf\">\n            <div>\n              <div className=\"child-title\">Lebenslauf</div>\n              <div className=\"row\">\n                {information.data.files_professional.map((item: any, index: number) => {\n                  const splitItems = item?.file_name?.split('.');\n                  return (\n                    <div className=\"col-md-12\">\n                      <div\n                        key={index}\n                        className=\"child-document\"\n                        onClick={() =>\n                          setModalViewDocument({\n                            show: true,\n                            name: 'Lebenslauf',\n                            url: item.link,\n                          })\n                        }\n                      >\n                        {splitItems[splitItems.length - 1] === 'pdf' ? (\n                          <KMSDocument file={item.link}>\n                            <Page pageNumber={1} height={360} />\n                          </KMSDocument>\n                        ) : (\n                          <KMSImg src={item.link} alt=\"document\" />\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </DocumentItemWrapper>\n        )}\n\n        <DocumentItemWrapper title=\"Ihre Unterschrift\">\n          <div\n            className=\"child-signature\"\n            onClick={() =>\n              setModalViewDocument({\n                show: true,\n                name: 'Ihre Unterschrift',\n                url: newSignature,\n              })\n            }\n          >\n            {renderImg(newSignature)}\n          </div>\n        </DocumentItemWrapper>\n      </div>\n    </div>\n  );\n};\n\nexport default Documents;\n"],"sourceRoot":""}