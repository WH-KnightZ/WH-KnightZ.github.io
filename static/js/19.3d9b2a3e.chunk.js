(this["webpackJsonphb-frontend"]=this["webpackJsonphb-frontend"]||[]).push([[19],{1025:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(7),i=n(16),c=n(1),s=n(19),o=n(39),l=n(187),u=n(115),d=n(631),f=n.n(d),j=function(e){var t=e.next,n=e.data;return Object(a.jsxs)("div",{className:f.a.intro,children:[Object(a.jsx)("h2",{className:f.a.title,children:"Gleich geschafft..."}),Object(a.jsx)("p",{className:f.a.content,children:"Bitte vervollst\xe4ndigen Sie Ihr Profil, um dne Registrierungsprozess abzuschlie\xdfen."}),Object(a.jsx)("div",{className:f.a.footer,children:Object(a.jsx)("div",{className:f.a.wrapperBack,children:Object(a.jsx)(u.c,{color:"petrol",children:n.first_name?"Weiter":Object(a.jsx)(s.M,{size:"sm",color:"light"}),disabled:""===n.first_name,onClick:t})})})]})},b=n(602),p=n(603),m=n(32),h=n(116),_=n.n(h),O=(n(194),n(78)),g=n.n(O),v=Object(c.forwardRef)((function(e,t){e.value;var n=e.onClick;return Object(a.jsx)("div",{className:f.a.iconDate,onClick:n,ref:t,children:Object(a.jsx)("i",{className:"hb-icon-calendar-date"})})})),x=function(e){return p.b().shape({first_name:p.d().trim().required("First name is required"),last_name:p.d().trim().required("Last name is required")})},N=function(e){var t=e.uploadMetaData,n=e.data,o=e.next,l=Object(c.useState)(n.date_of_birth?Object(m.h)(n.date_of_birth):null),d=Object(i.a)(l,2),j=d[0],p=d[1],h=Object(c.useState)(n.gender),O=Object(i.a)(h,2),N=O[0],P=O[1];return Object(a.jsx)("div",{className:f.a.PersonalInformation,children:Object(a.jsx)(b.c,{initialValues:n,onSubmit:function(e){var a=g()(j).format("DD/MM/YYYY");if(e.first_name!==n.first_name||e.last_name!==n.last_name||a!==n.date_of_birth||N!==n.gender){var i=Object(r.a)(Object(r.a)(Object(r.a)({},n),e),{},{date_of_birth:a,gender:N,step:1});t(i,o)}else o()},validate:Object(m.A)(x),children:function(e){e.values,e.errors,e.touched,e.handleChange,e.handleBlur;var t=e.handleSubmit,n=e.isValid;return Object(a.jsxs)(s.q,{onSubmit:t,name:"simpleForm",children:[Object(a.jsx)("h2",{className:f.a.title,children:"Pers\xf6nliche Informationen"}),Object(a.jsxs)(s.r,{className:f.a.genderGroup,children:[Object(a.jsx)(s.B,{children:"Geschlecht"}),Object(a.jsxs)("div",{className:f.a.gender,children:[Object(a.jsx)(u.e,{type:"button",color:"petrol",onClick:function(){return P(1)},className:"".concat(f.a.btnGender," ").concat(1===N?"is-selected":""),children:"Weiblich"}),Object(a.jsx)(u.e,{type:"button",color:"petrol",onClick:function(){return P(0)},className:"".concat(f.a.btnGender," ").concat(0===N?"is-selected":""),children:"M\xe4nnlich"}),Object(a.jsx)(u.e,{type:"button",color:"petrol",onClick:function(){return P(2)},className:"".concat(f.a.btnGender," ").concat(2===N?"is-selected":""),children:"Andere"})]})]}),Object(a.jsx)(s.r,{className:f.a.dateGroup,children:Object(a.jsx)(s.I,{children:Object(a.jsxs)(s.j,{xs:"12",children:[Object(a.jsx)(s.B,{children:"Geburtstag"}),Object(a.jsxs)("div",{className:f.a.date,children:[Object(a.jsx)("div",{className:f.a.valueDate,style:{color:j?"var(--petrol-100)":"var(--nightblue-50)"},children:j?g()(j).format("DD.MM.YYYY"):"TT.MM.JJJJ"}),Object(a.jsx)("div",{style:{width:50},className:"hb-datepicker ".concat(f.a.dataPicker),children:Object(a.jsx)(_.a,{selected:j,customInput:Object(a.jsx)(v,{}),onChange:function(e){return p(e)},yearDropdownItemNumber:40,showYearDropdown:!0,showMonthDropdown:!0,scrollableYearDropdown:!0,adjustDateOnChange:!0,maxDate:Object(m.l)(),popperPlacement:"bottom-end"})})]})]})})}),Object(a.jsx)("div",{className:f.a.footer,children:Object(a.jsx)("div",{className:f.a.wrapperBack,children:Object(a.jsx)(u.c,{color:"petrol",children:"Weiter",disabled:!(n&&(3!==N||null!==N)&&j)})})})]})}})})},P=n(20),I=n(29),k=n(89),w=n(117),y=n(73),C=n(186),D=n(96),S=Object(c.forwardRef)((function(e,t){e.value;var n=e.onClick;return Object(a.jsx)("div",{className:f.a.iconDate,onClick:n,ref:t,children:Object(a.jsx)("i",{className:"hb-icon-calendar-date"})})})),B=function(e){var t,n,o=e.uploadMetaData,l=e.data,d=e.values,j=e.setValues,b=e.frontFile,p=e.backFile,h=e.cardExpires,O=e.setDataNew,v=e.next,x=Object(c.useRef)(null),N=Object(c.useRef)(null),B=Object(c.useState)(null),L=Object(i.a)(B,2),M=L[0],F=L[1],R=Object(c.useState)(!1),A=Object(i.a)(R,2),G=A[0],U=A[1],E=Object(c.useState)(!1),T=Object(i.a)(E,2),z=T[0],Y=T[1];function W(e){e.numPages;U(!G)}var q=function(e){return O((function(t){return Object(r.a)(Object(r.a)({},t),{},{frontFile:e})}))},V=function(e){return O((function(t){return Object(r.a)(Object(r.a)({},t),{},{backFile:e})}))},J=Object(P.c)(),H=Object(C.b)().callApi,Z=function(e,t){var n=e.target.files[0];if(n)if(n.size>=y.l)Y(!0);else{var a={url:URL.createObjectURL(n),file:n,name:Object(m.y)(n.name)};t?q(a):V(a)}},K=function(e){return function(t){t.stopPropagation();var n={url:null,file:null};(e?x:N).current.value=null,e?q(n):V(n)}},X=null,Q=null;if(b.url){var $,ee,te=null===($=(ee=b.name||b.url).split)||void 0===$?void 0:$.call(ee,".");X=Object(a.jsxs)("div",{className:f.a.frontImagePreview,children:["pdf"===te[te.length-1]?Object(a.jsx)(D.o,{file:b.url,onLoadSuccess:W,children:Object(a.jsx)(w.b,{pageNumber:1,height:267})}):Object(a.jsx)(D.q,{alt:"IMG",className:f.a.imgFrontPreview,src:b.url,height:"267"}),Object(a.jsx)(u.e,{color:"petrol",className:f.a.btnRemoveDocument,onClick:K(!0),children:"L\xf6schen"})]})}else X=Object(a.jsxs)("div",{className:f.a.btnFrontImage,children:[Object(a.jsxs)("div",{className:f.a.contentLeftFront,children:[Object(a.jsx)("div",{className:f.a.uploadBtnFrontImage,children:Object(a.jsx)("i",{className:"hb-icon-image-upload"})}),Object(a.jsx)("span",{children:"Foto hochladen"})]}),Object(a.jsx)("div",{className:f.a.iconArrowFront,children:Object(a.jsx)("i",{className:"hb-icon-arrow-right"})})]});if(p.url){var ne,ae,re=null===(ne=(ae=p.name||p.url).split)||void 0===ne?void 0:ne.call(ae,".");Q=Object(a.jsxs)("div",{className:f.a.backImagePreview,children:["pdf"===re[re.length-1]?Object(a.jsx)(D.o,{file:p.url,onLoadSuccess:W,children:Object(a.jsx)(w.b,{pageNumber:1,height:267})}):Object(a.jsx)(D.q,{alt:"IMG",className:f.a.imgBackPreview,src:p.url,height:"267"}),Object(a.jsx)(u.e,{color:"petrol",className:f.a.btnRemoveDocument,onClick:K(!1),children:"L\xf6schen"})]})}else Q=Object(a.jsxs)("div",{className:f.a.btnBackImage,children:[Object(a.jsxs)("div",{className:f.a.contentLeftBack,children:[Object(a.jsx)("div",{className:f.a.uploadBtnBackImage,children:Object(a.jsx)("i",{className:"hb-icon-image-upload"})}),Object(a.jsx)("span",{children:"Foto hochladen"})]}),Object(a.jsx)("div",{className:f.a.iconArrowBack,children:Object(a.jsx)("i",{className:"hb-icon-arrow-right"})})]});var ie=M&&M.toUpperCase()===d.card_number.toUpperCase(),ce=function(){return Y(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"petrol",children:Object(a.jsx)(u.j,{show:z,handleClose:ce,title:"Hochladen fehlgeschlagen",content:"Es kann keine Datei hochgeladen werden, die gr\xf6\xdfer als 50 MB ist.",up:"Verstanden",upCallback:ce})}),Object(a.jsxs)("div",{className:f.a.cardPassport,children:[Object(a.jsx)("h2",{className:f.a.title,children:"Identit\xe4t best\xe4tigen"}),Object(a.jsx)(s.r,{className:[f.a.formGroup,f.a.firstGroupWrapper],children:Object(a.jsxs)(s.I,{children:[Object(a.jsxs)(s.j,{xs:"6",className:f.a.passport,children:[Object(a.jsx)(s.B,{children:"Personalausweis"}),Object(a.jsx)(u.f,{color:"gray",invalid:ie,name:"card_number",placeholder:"Ausweisnummer",value:(d.card_number||"").toUpperCase(),onChange:function(e){return function(e){var t=e.target.value;/^[0-9a-zA-Z]*$/.test(t)&&j({card_number:t})}(e)},maxLength:20,error:"This card/passport number already exists. Please enter another card/passport number."})]}),Object(a.jsxs)(s.j,{xs:"6",className:f.a.location,children:[Object(a.jsx)(s.B,{children:"Staatsangeh\xf6rigkeit"}),Object(a.jsx)(u.f,{color:"gray",name:"card_location",placeholder:"Staatsangeh\xf6rigkeit",value:d.card_location||"",onChange:function(e){return function(e){if(I.d.validate.valueTypingExpressionsName(e)){var t=e.target.value;j({card_location:t})}}(e)},maxLength:50})]})]})}),Object(a.jsx)(s.r,{className:[f.a.formGroup,f.a.dateGroup],children:Object(a.jsx)(s.I,{children:Object(a.jsxs)(s.j,{xs:"12",children:[Object(a.jsx)(s.B,{children:"G\xfcltig bis"}),Object(a.jsxs)("div",{className:f.a.date,children:[Object(a.jsx)("div",{className:f.a.valueDate,style:{color:h?"var(--petrol-100)":"var(--nightblue-50)"},children:h?g()(h).format("DD.MM.YYYY"):"TT.MM.JJJJ"}),Object(a.jsx)("div",{style:{width:50},className:"hb-datepicker ".concat(f.a.dataPicker),children:Object(a.jsx)(_.a,{selected:h,customInput:Object(a.jsx)(S,{}),onChange:function(e){return t=e,O((function(e){return Object(r.a)(Object(r.a)({},e),{},{cardExpires:t})}));var t},yearDropdownItemNumber:20,showYearDropdown:!0,showMonthDropdown:!0,scrollableYearDropdown:!0,adjustDateOnChange:!0,minDate:new Date,popperPlacement:"bottom-end"})})]})]})})}),Object(a.jsx)(s.r,{className:[f.a.formGroup,f.a.groupImageWrapper,f.a.lastChild],children:Object(a.jsxs)(s.I,{children:[Object(a.jsxs)(s.j,{xs:"6",className:f.a.imageFrontGroup,children:[Object(a.jsx)(s.B,{children:"Vorderseite Personalausweis"}),Object(a.jsx)("input",{ref:x,className:"form-control custom-file-input mb-2",type:"file",placeholder:"Upload image",name:"front_image",accept:"image/x-png,image/jpeg,application/pdf",onChange:function(e){return Z(e,!0)},hidden:!0}),Object(a.jsx)("div",{className:"".concat(f.a.imagePreviewFront," cursor-pointer"),onClick:function(){return x.current.click()},children:X})]}),Object(a.jsxs)(s.j,{xs:"6",className:f.a.imageBackGroup,children:[Object(a.jsx)(s.B,{children:"R\xfcckseite Personalausweis"}),Object(a.jsx)("input",{ref:N,className:"form-control custom-file-input mb-2",type:"file",placeholder:"Upload image",name:"back_image",accept:"image/x-png,image/jpeg,application/pdf",onChange:function(e){return Z(e,!1)},hidden:!0}),Object(a.jsx)("div",{className:"".concat(f.a.imagePreviewBack," cursor-pointer"),onClick:function(){return N.current.click()},children:Q})]})]})}),Object(a.jsx)("div",{className:f.a.footer,children:Object(a.jsx)("div",{className:f.a.wrapperBack,children:Object(a.jsx)(u.c,{color:"petrol",children:"Weiter",disabled:!((null===(t=d.card_number)||void 0===t?void 0:t.trim())&&(null===(n=d.card_location)||void 0===n?void 0:n.trim())&&b.url&&p.url&&h),onClick:function(){if(d.card_number!==l.card_number||d.card_location!==l.card_location||h.getTime()/1e3!==l.card_expires||b.file||p.file){var e=0,t=[],n=b.url,a=p.url;b.file&&t.push({file:b.file,type:"image_front"}),p.file&&t.push({file:p.file,type:"image_back"});var i=function(){var e=h.getTime()/1e3,t=Object(r.a)(Object(r.a)({},l),{},{image_front:n,image_back:a,card_number:d.card_number.toUpperCase(),card_location:d.card_location,card_expires:e});o(Object(r.a)(Object(r.a)({},t),{},{step:2}),(function(){O((function(e){return Object(r.a)(Object(r.a)({},e),{},{frontFile:{url:n,file:null},backFile:{url:a,file:null}})})),v()}),(function(e){F("1101"===e?d.card_number.toUpperCase():null)}))};0===t.length?i():(J(Object(k.c)()),t.forEach((function(r){H({api:I.d.rest.getTemporaryUploadNurse(Object(m.y)(r.file.name),r.type),method:"get"},(function(c){var s;"image_front"===r.type&&(n=c.data.documents.link),"image_back"===r.type&&(a=c.data.documents.link);var o=new Headers;o.append("x-amz-acl","public-read");var l={method:"PUT",headers:o,body:r.file,redirect:"follow"};fetch(null===(s=c.data)||void 0===s?void 0:s.link,l).then((function(e){return e.text()})).then((function(n){(e+=1)===t.length&&(J(Object(k.d)()),i())})).catch((function(e){J(Object(k.d)()),console.log(e)}))}))})))}else v()}})})})]})]})},L=n(47),M=function(e){var t=e.uploadMetaData,n=e.data,o=e.filesProfessional,l=e.filesConsultation,d=e.setDataNew,j=(e.back,e.next),b=Object(c.useRef)(null),p=Object(c.useRef)(null),h=Object(P.c)(),_=Object(C.b)().callApi,O=Object(c.useState)(null),g=Object(i.a)(O,2),v=(g[0],g[1]),x=Object(c.useState)(1),N=Object(i.a)(x,2),S=N[0],B=(N[1],Object(c.useState)(!1)),M=Object(i.a)(B,2),F=M[0],R=M[1];function A(e){var t=e.numPages;v(t)}var G=function(e){return d((function(t){return Object(r.a)(Object(r.a)({},t),{},{filesProfessional:e})}))},U=function(e){return d((function(t){return Object(r.a)(Object(r.a)({},t),{},{filesConsultation:e})}))},E=function(e,t){return-1!==e.findIndex((function(e){return e.file_name===t.file_name}))},T=function(e){return e.size<=y.l},z=function(){R(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"petrol",children:Object(a.jsx)(u.j,{show:F,handleClose:z,title:"Hochladen fehlgeschlagen",content:"Es kann keine Datei hochgeladen werden, die gr\xf6\xdfer als 50 MB ist.",up:"Verstanden",upCallback:z})}),Object(a.jsxs)("div",{className:f.a.certificate,children:[Object(a.jsx)("h2",{className:f.a.title,children:"Berufsbescheinigung & Zertifikate"}),Object(a.jsxs)(s.I,{className:f.a.document,children:[Object(a.jsx)(s.j,{xs:6,children:Object(a.jsxs)("div",{className:f.a.professionalDocument,children:[Object(a.jsx)("label",{children:"Pflegezertifikat"}),Object(a.jsx)("input",{ref:b,type:"file",onChange:function(e){var t=e.target.files;if(0!==t.length){var n=Object(L.a)(t),a=n.filter(T);a.length!==n.length&&R(!0);var r=a.map((function(e){return{file_name:Object(m.y)(e.name),file:e,link:URL.createObjectURL(e)}})).filter((function(e){return!E(o,e)}));G([].concat(Object(L.a)(o),Object(L.a)(r)).slice(0,10)),e.target.value=null}},accept:"image/x-png,image/jpeg,application/pdf",multiple:!0,hidden:!0}),Object(a.jsxs)("div",{className:f.a.btnProfessional,onClick:function(){return b.current.click()},children:[Object(a.jsxs)("div",{className:f.a.contentNurse,children:[Object(a.jsx)("div",{className:f.a.uploadDocument,children:Object(a.jsx)("i",{className:"hb-icon-book"})}),Object(a.jsx)("span",{children:"Pfelgezertifikat hochladen"})]}),Object(a.jsx)("div",{className:f.a.iconArrowNurse,children:Object(a.jsx)("i",{className:"hb-icon-arrow-right"})})]}),Object(a.jsx)("div",{className:f.a.pdfNurse,children:o.map((function(e,t){var n=e.file_name.split(".");return Object(a.jsxs)("div",{className:f.a.nurseDocumnet,children:["pdf"===n[n.length-1]?Object(a.jsx)(D.o,{file:e.link,onLoadSuccess:A,children:Object(a.jsx)(w.b,{pageNumber:S,height:267})}):Object(a.jsx)(D.q,{src:e.link,height:"267",width:"187",alt:""}),Object(a.jsx)(u.e,{color:"petrol",onClick:function(){return G(o.filter((function(e,n){return n!==t})))},className:f.a.btnRemoveDocument,children:"L\xf6schen"})]},t)}))})]})}),Object(a.jsx)(s.j,{xs:6,children:Object(a.jsxs)("div",{className:f.a.nurseDocumnet,children:[Object(a.jsx)("label",{children:"Berufsurkunde"}),Object(a.jsx)("input",{ref:p,type:"file",onChange:function(e){var t=e.target.files;if(0!==t.length){var n=Object(L.a)(t),a=n.filter(T);a.length!==n.length&&R(!0);var r=a.filter(T).map((function(e){return{file_name:Object(m.y)(e.name),file:e,link:URL.createObjectURL(e)}})).filter((function(e){return!E(l,e)}));U([].concat(Object(L.a)(l),Object(L.a)(r)).slice(0,10)),e.target.value=null}},accept:"image/x-png,image/jpeg,application/pdf",multiple:!0,hidden:!0}),Object(a.jsxs)("div",{className:f.a.btnNurse,onClick:function(){return p.current.click()},children:[Object(a.jsxs)("div",{className:f.a.contentNurse,children:[Object(a.jsx)("div",{className:f.a.uploadDocument,children:Object(a.jsx)("i",{className:"hb-icon-book"})}),Object(a.jsx)("span",{children:"Berufsurkunde hochladen"})]}),Object(a.jsx)("div",{className:f.a.iconArrowNurse,children:Object(a.jsx)("i",{className:"hb-icon-arrow-right"})})]}),Object(a.jsx)("div",{className:f.a.pdf,children:l.map((function(e,t){var n=e.file_name.split(".");return Object(a.jsxs)("div",{className:f.a.consultingPdf,children:["pdf"===n[n.length-1]?Object(a.jsx)(D.o,{file:e.link,onLoadSuccess:A,children:Object(a.jsx)(w.b,{pageNumber:S,height:267})}):Object(a.jsx)(D.q,{src:e.link,height:"267",width:"187"}),Object(a.jsx)(u.e,{color:"petrol",onClick:function(){return U(l.filter((function(e,n){return n!==t})))},className:f.a.btnRemoveDocument,children:"L\xf6schen"})]},t)}))})]})})]}),Object(a.jsx)("div",{className:f.a.footer,children:Object(a.jsx)("div",{className:f.a.wrapperBack,children:Object(a.jsx)(u.c,{color:"petrol",children:"Weiter",onClick:function(){if(o!==n.files_professional||l!==n.files_consultation){var e=0,a=o.filter((function(e){return!e.file})),i=l.filter((function(e){return!e.file})),c=o.filter((function(e){return e.file})),s=l.filter((function(e){return e.file})),u=c.length+s.length,f=function(){var e=Object(r.a)(Object(r.a)({},n),{},{files_professional:a,files_consultation:i});t(Object(r.a)(Object(r.a)({},e),{},{step:3}),(function(){d((function(e){return Object(r.a)(Object(r.a)({},e),{},{filesProfessional:a,filesConsultation:i})})),j()}))},b=function(t,n,a){t.length>0&&t.forEach((function(t){_({api:I.d.rest.getTemporaryUploadNurse(Object(m.y)(t.file_name),a),method:"get"},(function(a){var i;n.push(Object(r.a)({},a.data.documents));var c=new Headers;c.append("x-amz-acl","public-read");var s={method:"PUT",headers:c,body:t.file,redirect:"follow"};fetch(null===(i=a.data)||void 0===i?void 0:i.link,s).then((function(e){return e.text()})).then((function(t){(e+=1)===u&&(h(Object(k.d)()),f())})).catch((function(e){h(Object(k.d)()),console.log(e)}))}))}))};0===u?f():(h(Object(k.c)()),b(c,a,"files_professional"),b(s,i,"files_consultation"))}else j()},disabled:0===o.length||0===l.length})})})]})]})},F=function(e){var t=e.uploadMetaData,n=e.data,o=e.files,l=e.setDataNew,d=e.next,j=Object(c.useRef)(null),b=Object(P.c)(),p=Object(C.b)().callApi,h=Object(c.useState)(null),_=Object(i.a)(h,2),O=(_[0],_[1]),g=Object(c.useState)(1),v=Object(i.a)(g,2),x=v[0],N=(v[1],Object(c.useState)(!1)),S=Object(i.a)(N,2),B=S[0],M=S[1];function F(e){var t=e.numPages;O(t)}var R=function(e){return l((function(t){return Object(r.a)(Object(r.a)({},t),{},{files:{curriculum_vitae:e}})}))},A=function(e){return e.size<=y.l},G=function(){M(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"petrol",children:Object(a.jsx)(u.j,{show:B,handleClose:G,title:"Hochladen fehlgeschlagen",content:"Es kann keine Datei hochgeladen werden, die gr\xf6\xdfer als 50 MB ist.",up:"Verstanden",upCallback:G})}),Object(a.jsxs)("div",{className:f.a.certificate,children:[Object(a.jsx)("h2",{className:f.a.title,children:"Lebenslauf"}),Object(a.jsx)(s.I,{className:f.a.document,children:Object(a.jsx)(s.j,{xs:12,children:Object(a.jsxs)("div",{className:f.a.professionalDocument,children:[Object(a.jsx)("input",{ref:j,type:"file",onChange:function(e){var t=e.target.files;if(0!==t.length){var n=Object(L.a)(t),a=n.filter(A);a.length!==n.length&&M(!0);var r=a.map((function(e){return{file_name:Object(m.y)(e.name),file:e,link:URL.createObjectURL(e)}})).filter((function(e){return!function(e,t){return-1!==e.findIndex((function(e){return e.file_name===t.file_name}))}(o.curriculum_vitae,e)}));R([].concat(Object(L.a)(o.curriculum_vitae),Object(L.a)(r)).slice(0,10)),e.target.value=null}},accept:"image/x-png,image/jpeg,application/pdf",multiple:!0,hidden:!0}),Object(a.jsxs)("div",{className:f.a.btnProfessional,onClick:function(){return j.current.click()},children:[Object(a.jsxs)("div",{className:f.a.contentNurse,children:[Object(a.jsx)("div",{className:f.a.uploadDocument,children:Object(a.jsx)("i",{className:"hb-icon-book"})}),Object(a.jsx)("span",{children:"Lebenslauf hochladen"})]}),Object(a.jsx)("div",{className:f.a.iconArrowNurse,children:Object(a.jsx)("i",{className:"hb-icon-arrow-right"})})]}),Object(a.jsx)("div",{className:f.a.pdfNurse,children:null===o||void 0===o?void 0:o.curriculum_vitae.map((function(e,t){var n=e.file_name.split(".");return Object(a.jsxs)("div",{className:f.a.nurseDocumnet,children:["pdf"===n[n.length-1]?Object(a.jsx)(D.o,{file:e.link,onLoadSuccess:F,children:Object(a.jsx)(w.b,{pageNumber:x,height:467})}):Object(a.jsx)(D.q,{src:e.link,height:"467",style:{width:"100%"},alt:""}),Object(a.jsx)(u.e,{color:"petrol",onClick:function(){return R(o.curriculum_vitae.filter((function(e,n){return n!==t})))},className:f.a.nurseClose,children:"L\xf6schen"})]},t)}))})]})})}),Object(a.jsx)("div",{className:f.a.footer,children:Object(a.jsx)("div",{className:f.a.wrapperBack,children:Object(a.jsx)(u.c,{color:"petrol",children:"Weiter",onClick:function(){if(o!==n.files){var e=0,a=o.curriculum_vitae.filter((function(e){return!e.file})),i=o.curriculum_vitae.filter((function(e){return e.file})),c=i.length,s=function(){var e=Object(r.a)(Object(r.a)({},n),{},{files:{curriculum_vitae:a}});t(Object(r.a)(Object(r.a)({},e),{},{step:3}),(function(){l((function(e){return Object(r.a)(Object(r.a)({},e),{},{files:{curriculum_vitae:a}})})),d()}))};0===c?s():(b(Object(k.c)()),function(t,n){t.length>0&&t.forEach((function(t){p({api:I.d.rest.assistantTemporaryUpload(Object(m.y)(t.file_name)),method:"get"},(function(a){var i;console.log("QUY",a),n.push(Object(r.a)({},a.data.documents));var o=new Headers;o.append("x-amz-acl","public-read");var l={method:"PUT",headers:o,body:t.file,redirect:"follow"};fetch(null===(i=a.data)||void 0===i?void 0:i.link,l).then((function(e){return e.text()})).then((function(t){(e+=1)===c&&(b(Object(k.d)()),s())})).catch((function(e){b(Object(k.d)()),console.log(e)}))}))}))}(i,a))}else d()},disabled:0===o.curriculum_vitae.length})})})]})]})},R=n(618);var A=y.j.COMPLETE,G=function(e){var t=Object(R.a)().t,n=Object(o.h)(),r=Object(C.b)().callApi,l=function(){var e=Object(P.c)();return Object(c.useMemo)((function(){return{fetchLoading:function(){return e(Object(k.c)())},fetchSuccess:function(){return e(Object(k.d)())}}}),[e])}().fetchLoading,d=e.isSignatureCompleted,j=e.isPushedDocusignToS3,b=Object(c.useState)(!1),p=Object(i.a)(b,2),m=p[0],h=p[1];Object(c.useEffect)((function(){d&&(h(!0),r({method:"put",api:I.d.rest.signatureDocusignCompleted(),body:{},msg:t("errorUnknown")},(function(e){h(!1),e.status===C.a&&n.push({pathname:"/zur-app",state:"upload"})})))}),[d]);return Object(a.jsx)("div",{className:f.a.initDone,children:j?Object(a.jsx)("p",{className:f.a.msgSignatureSuccess,children:"Wir \xfcberpr\xfcfen jetzt Ihre Daten und kontaktieren Sie in K\xfcrze."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:f.a.title,children:"Daten mit Unterschrift best\xe4tigen"}),Object(a.jsx)(u.a,{color:"petrol",btnClassName:"".concat(f.a.btn," ").concat(f.a.signature),onClick:function(){m||r({method:"post",api:I.d.rest.requestDocusign(),body:{},msg:t("errorUnknown"),loading:!0},(function(e){var t=e.status,a=e.data;if(t===C.a){var r=a||{},i=r.status,c=r.url,s=void 0===c?"":c;i!==A?(l(),window.location.href=s):n.push({pathname:"/zur-app",state:"upload"})}}))},className:f.a.wrap,children:m?Object(a.jsx)(s.M,{color:"light",size:"sm"}):"Via Docusign unterschreiben"})]})})},U=n(38),E=n(616),T=y.j.DOCUSIGN_CALLBACK_COMPLETED,z=y.j.DOCUSIGN_VIEWING_COMPLETED,Y=y.j.COMPLETE,W={first_name:"",last_name:"",date_of_birth:void 0,gender:"",card_number:"",card_location:"",card_expires:void 0,image_front:"",image_back:"",envelope_status:"",files_professional:[],files_consultation:[],files:{curriculum_vitae:[]}};t.default=function(){var e,t,n=Object(o.h)(),d=Object(C.b)().callApi,b=Object(P.d)((function(e){return e.auth})),p=n.location.search,m=new URLSearchParams(p).get("event"),h=Object(c.useRef)(null),_=Object(c.useState)(!1),O=Object(i.a)(_,2),g=O[0],v=O[1],x="assistant"===b.group_name,k="nurse"===b.group_name,w=Object(c.useState)(W),y=Object(i.a)(w,2),S=y[0],L=y[1],R=S.envelope_status,A=void 0===R?"":R,q=Object(c.useState)({values:W,setValues:function(e){return H((function(t){return Object(r.a)(Object(r.a)({},t),{},{values:Object(r.a)(Object(r.a)({},t.values),e)})}))},frontFile:{url:S.image_front,file:null},backFile:{url:S.image_front,file:null},cardExpires:S.card_expires?new Date(1e3*S.card_expires):null,filesProfessional:k?S.files_professional||[]:void 0,filesConsultation:k?S.files_consultation||[]:void 0,files:x?S.files||{}:void 0}),V=Object(i.a)(q,2),J=V[0],H=V[1];(null===(e=b.status_name)||void 0===e||null===(t=e.toLowerCase)||void 0===t?void 0:t.call(e).includes("pending"))||n.push("/sign-in");var Z,K=Object(c.useMemo)((function(){return Object(l.includes)([T,z],m)}),[m]),X=Object(c.useState)(K?4:0),Q=Object(i.a)(X,2),$=Q[0],ee=Q[1],te=function(e,t,n){var a=e;null===a||void 0===a||delete a.envelope_status,null===a||void 0===a||delete a.signature,d({method:"post",api:("assistant"===b.group_name?I.d.rest.updateProfileAssistant:I.d.rest.updateProfileDocuments)(),body:a,loading:!0},(function(a){var r=a.status,i=a.id;r===U.c?(L(e),t()):null===n||void 0===n||n(i)}))};switch(Object(c.useEffect)((function(){d({method:"get",api:("assistant"===b.group_name?I.d.rest.getProfileAssistant:I.d.rest.getProfileDocuments)()},(function(e){if(e.status===U.c){var t=e.data,a=Object(r.a)(Object(r.a)({},t),{},{files_professional:k?t.files_professional:void 0,files_consultation:k?t.files_consultation:void 0,files:x?t.files:void 0});L(a),H((function(e){return Object(r.a)(Object(r.a)({},e),{},{values:a,frontFile:{url:t.image_front,file:null},backFile:{url:t.image_back,file:null},cardExpires:t.card_expires?new Date(1e3*t.card_expires):null,filesProfessional:k?t.files_professional||[]:void 0,filesConsultation:k?t.files_consultation||[]:void 0,files:x?t.files||{}:void 0})}))}else n.push("/sign-in")}))}),[]),$){case 0:Z=Object(a.jsx)(j,{next:function(){return ee(1)},data:S,step:0});break;case 1:Z=Object(a.jsx)(N,{uploadMetaData:te,data:S,formRef:h,next:function(){return ee(2)},prev:function(){return ee(0)}});break;case 2:Z=Object(a.jsx)(B,Object(r.a)(Object(r.a)({},J),{},{uploadMetaData:te,data:S,setDataNew:H,back:function(){return ee(1)},next:function(){return ee(3)}}));break;case 3:Z="assistant"===b.group_name?Object(a.jsx)(F,Object(r.a)(Object(r.a)({},J),{},{uploadMetaData:te,data:S,setDataNew:H,next:function(){return ee(4)}})):Object(a.jsx)(M,Object(r.a)(Object(r.a)({},J),{},{uploadMetaData:te,data:S,setDataNew:H,back:function(){return ee(2)},next:function(){return ee(4)}}));break;case 4:Z=Object(a.jsx)(G,{isSignatureCompleted:K,isPushedDocusignToS3:A===Y,back:function(){return ee(3)}})}return Object(a.jsxs)("div",{className:f.a.initProfile,children:[Object(a.jsx)(E.a,{}),Object(a.jsx)("div",{className:f.a.wrapper,children:Object(a.jsxs)(s.k,{className:f.a.wrapperResContainer,children:[Object(a.jsx)("div",{className:"petrol",children:Object(a.jsx)(u.j,{show:g,handleClose:function(){return v(!1)},title:"Abmelden",content:"Sie wollen sich von Ihrem Account abmelden?",up:"Ja, abmelden",upCallback:function(){return n.push("sign-in")},down:"Abbrechen",downCallback:function(){return v(!1)}})}),Object(a.jsxs)("div",{className:"d-flex ".concat(0!==$?"justify-content-between":"justify-content-end"," hb-my-28 ").concat(f.a.wrapButtons),children:[0!==$&&Object(a.jsxs)(u.e,{color:"petrol",onClick:function(){return function(e){switch(e){case 1:ee(0);break;case 2:ee(1);break;case 3:ee(2);break;case 4:ee(3)}}($)},className:f.a.btnSignUp,children:[Object(a.jsx)("i",{className:"hb-icon-arrow-left ".concat(f.a.hbIcon)})," Zur\xfcck"]}),Object(a.jsxs)(u.e,{color:"petrol",onClick:function(){return v(!0)},className:f.a.btnSignUp,children:[Object(a.jsx)("i",{className:"hb-icon-lock-2-opened ".concat(f.a.hbIcon)})," Abmelden"]})]}),Object(a.jsx)(s.I,{className:"nopadding",children:Object(a.jsx)(s.e,{className:[f.a.card,f.a.cardResContainer],children:Object(a.jsxs)(s.f,{className:f.a.cardResBody,children:[Object(a.jsx)("div",{className:"".concat(f.a.title," ").concat(f.a.stepInfo),children:"Schritt ".concat($," von 4")}),Object(a.jsx)(D.v,{backgroundColor:"var(--petrol-20)",visualParts:[{id:"1",percentage:100*$/4+"%",color:"var(--aquamarin-90)"}]}),Z]})})})]})})]})}},604:function(e,t,n){var a=n(605),r=n(606),i=n(607),c=n(609);e.exports=function(e,t){return a(e)||r(e,t)||i(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},605:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},606:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(o){r=!0,i=o}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},607:function(e,t,n){var a=n(608);e.exports=function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},608:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a},e.exports.default=e.exports,e.exports.__esModule=!0},609:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},616:function(e,t,n){"use strict";var a=n(3),r=n(19),i=(n(1),n(31)),c=n(617),s=n.n(c);t.a=function(){return Object(a.jsx)(r.s,{className:s.a.header,children:i.h})}},617:function(e,t,n){e.exports={header:"Header_header__3Keph"}},618:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(604),r=n.n(a),i=n(191),c=n.n(i),s=n(1),o=n(592);function l(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var u={};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&u[t[0]]||("string"===typeof t[0]&&(u[t[0]]=new Date),l.apply(void 0,t))}function f(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return d("i18n.languages were undefined or empty",t.languages),!0;var a=t.languages[0],r=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;var c=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!c(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(a,e)||(!t.services.backendConnector.backend||!(!c(a,e)||r&&!c(i,e))))}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,a=Object(s.useContext)(o.a)||{},i=a.i18n,c=a.defaultNS,l=n||i||Object(o.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new o.b),!l){d("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},b=[u,{},!1];return b.t=u,b.i18n={},b.ready=!1,b}l.options.react&&void 0!==l.options.react.wait&&d("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var m=p(p(p({},Object(o.c)()),l.options.react),t),h=m.useSuspense,_=e||c||l.options&&l.options.defaultNS;_="string"===typeof _?[_]:_||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(_);var O=(l.isInitialized||l.initializedStoreOnce)&&_.every((function(e){return j(e,l,m)}));function g(){return{t:l.getFixedT(null,"fallback"===m.nsMode?_:_[0])}}var v=Object(s.useState)(g()),x=r()(v,2),N=x[0],P=x[1],I=Object(s.useRef)(!0);Object(s.useEffect)((function(){var e=m.bindI18n,t=m.bindI18nStore;function n(){I.current&&P(g())}return I.current=!0,O||h||f(l,_,(function(){I.current&&P(g())})),e&&l&&l.on(e,n),t&&l&&l.store.on(t,n),function(){I.current=!1,e&&l&&e.split(" ").forEach((function(e){return l.off(e,n)})),t&&l&&t.split(" ").forEach((function(e){return l.store.off(e,n)}))}}),[_.join()]);var k=[N.t,l,O];if(k.t=N.t,k.i18n=l,k.ready=O,O)return k;if(!O&&!h)return k;throw new Promise((function(e){f(l,_,(function(){e()}))}))}},631:function(e,t,n){e.exports={initProfile:"InitProfile_initProfile__1PpYl",wrapper:"InitProfile_wrapper__2Z2AV",card:"InitProfile_card__c8iPI",btnSignUp:"InitProfile_btnSignUp__3H8Hh",hbIcon:"InitProfile_hbIcon__1cc_h",title:"InitProfile_title__1AMJ9",stepInfo:"InitProfile_stepInfo__2ZyhV",wrapButtons:"InitProfile_wrapButtons__38R3a",intro:"InitProfile_intro__2yXZD",content:"InitProfile_content__HxaVM",formGroup:"InitProfile_formGroup__2X8af",lastChild:"InitProfile_lastChild__3qjLf",PersonalInformation:"InitProfile_PersonalInformation__2pmH6",genderGroup:"InitProfile_genderGroup__1sKNx",gender:"InitProfile_gender__J-qpc",btnGender:"InitProfile_btnGender__3IY__",dateGroup:"InitProfile_dateGroup__1t3az",date:"InitProfile_date__REpyN",valueDate:"InitProfile_valueDate__2lFXP",iconDate:"InitProfile_iconDate__2CAO0",cardPassport:"InitProfile_cardPassport__1IoLt",groupImageWrapper:"InitProfile_groupImageWrapper__2Wr-V",imageFrontGroup:"InitProfile_imageFrontGroup__3qGJx",btnFrontImage:"InitProfile_btnFrontImage__2xqhP",contentLeftFront:"InitProfile_contentLeftFront__2OmDH",uploadBtnFrontImage:"InitProfile_uploadBtnFrontImage__1fUsE",iconArrowFront:"InitProfile_iconArrowFront__1_KYm",imageBackGroup:"InitProfile_imageBackGroup__Gn8F8",btnBackImage:"InitProfile_btnBackImage__1DeeQ",contentLeftBack:"InitProfile_contentLeftBack__3bazW",uploadBtnBackImage:"InitProfile_uploadBtnBackImage__1X5xT",iconArrowBack:"InitProfile_iconArrowBack__3L-vw",firstGroupWrapper:"InitProfile_firstGroupWrapper__31CUU",passport:"InitProfile_passport__1zsvY",passportInput:"InitProfile_passportInput__28jAy",location:"InitProfile_location__3wqBv",inputLocation:"InitProfile_inputLocation__xVX_A",imagePreviewBack:"InitProfile_imagePreviewBack__4a5DT",backImagePreview:"InitProfile_backImagePreview__2E8__",imgBackPreview:"InitProfile_imgBackPreview__24T3v",imagePreviewFront:"InitProfile_imagePreviewFront__2Qv98",frontImagePreview:"InitProfile_frontImagePreview__2FK63",imgFrontPreview:"InitProfile_imgFrontPreview__26tv-",certificate:"InitProfile_certificate__WFbNn",document:"InitProfile_document__1zex5",professionalDocument:"InitProfile_professionalDocument__2OrpK",btnProfessional:"InitProfile_btnProfessional__3D1Id",contentNurse:"InitProfile_contentNurse__2meqH",uploadDocument:"InitProfile_uploadDocument__3yNsQ",iconArrowNurse:"InitProfile_iconArrowNurse__346Gy",pdfNurse:"InitProfile_pdfNurse__67S6J",nurseDocumnet:"InitProfile_nurseDocumnet__2xzms",nurseClose:"InitProfile_nurseClose__acUb2",btnNurse:"InitProfile_btnNurse__d68LU",pdf:"InitProfile_pdf__3_H-F",consultingPdf:"InitProfile_consultingPdf__2cZmW",consultingClose:"InitProfile_consultingClose__2q9Gf",eSignature:"InitProfile_eSignature__2RTSR",imgWrap:"InitProfile_imgWrap__Oo1r8",imgEsignature:"InitProfile_imgEsignature__3rJ98",actions:"InitProfile_actions__mnvPx",signatureModal:"InitProfile_signatureModal__2DBR0",signatureWrapper:"InitProfile_signatureWrapper__58SK0",signatureCanvas:"InitProfile_signatureCanvas__2qTBj",initDone:"InitProfile_initDone__3_TV6",wrap:"InitProfile_wrap__2YN0Y",btn:"InitProfile_btn__1j-R_",signature:"InitProfile_signature__2yFSC",footer:"InitProfile_footer__DZ9CG",wrapperBack:"InitProfile_wrapperBack__2ipX4",back:"InitProfile_back__1VscZ",next:"InitProfile_next__3ZJ55",msgSignatureSuccess:"InitProfile_msgSignatureSuccess__2H0n0",wrapperResContainer:"InitProfile_wrapperResContainer__mzuZf",cardResContainer:"InitProfile_cardResContainer__mFcym",cardResBody:"InitProfile_cardResBody__E5RZj",cardResContent:"InitProfile_cardResContent__1VwgJ",btnRemoveDocument:"InitProfile_btnRemoveDocument__1VxOA",errorMessage:"InitProfile_errorMessage__2-sb8"}}}]);
//# sourceMappingURL=19.3d9b2a3e.chunk.js.map